/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={87:(e,t,r)=>{"use strict";const n=r(9570),i=r(6928),{copy:o}=r(5172),{remove:s}=r(9757),{mkdirp:a}=r(2865),{pathExists:c}=r(2673),u=r(2199);e.exports=async function(e,t,r={}){const h=r.overwrite||r.clobber||!1,{srcStat:f,isChangingCase:l=!1}=await u.checkPaths(e,t,"move",r);await u.checkParentPaths(e,f,t,"move");const d=i.dirname(t);return i.parse(d).root!==d&&await a(d),async function(e,t,r,i){if(!i)if(r)await s(t);else if(await c(t))throw new Error("dest already exists.");try{await n.rename(e,t)}catch(n){if("EXDEV"!==n.code)throw n;await async function(e,t,r){const n={overwrite:r,errorOnExist:!0,preserveTimestamps:!0};return await o(e,t,n),s(e)}(e,t,r)}}(e,t,h,l)}},181:e=>{"use strict";e.exports=require("buffer")},190:(e,t,r)=>{var n=r(5365).Z;function i(e,t,r){var i=this._streams=[];this._timer=void 0,this._timerInterval=e,this._timerfn=function(){for(var e,o,s=Date.now(),a=0,c=i.length;a<c;++a)if((o=(e=i[a])._kalast)&&s-o>=t)if(++e._kacnt>r){var u=new Error("Keepalive timeout");u.level="client-timeout",e.emit("error",u),e.disconnect(),n(i,a),--a,c=i.length}else e._kalast=s,e.ping()}}i.prototype.start=function(){this._timer&&this.stop(),this._timer=setInterval(this._timerfn,this._timerInterval)},i.prototype.stop=function(){this._timer&&(clearInterval(this._timer),this._timer=void 0)},i.prototype.add=function(e){var t=this._streams,r=this;function n(){e._kalast=Date.now(),e._kacnt=0}e.once("end",function(){r.remove(e)}).on("packet",n),t[t.length]=e,n(),this._timer||this.start()},i.prototype.remove=function(e){var t=this._streams,r=t.indexOf(e);~r&&n(t,r),t.length||this.stop()},e.exports=i},377:(e,t,r)=>{"use strict";const n=r(9570),{checkPath:i}=r(4316),o=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(i(e),n.mkdir(e,{mode:o(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(i(e),n.mkdirSync(e,{mode:o(t),recursive:!0}))},468:(e,t,r)=>{"use strict";const n=r(6982);let i;try{i=r(Object(function(){var e=new Error("Cannot find module 'cpu-features'");throw e.code="MODULE_NOT_FOUND",e}()))()}catch{}const{bindingAvailable:o,CIPHER_INFO:s,MAC_INFO:a}=r(4632),c=(()=>{if("function"==typeof n.sign&&"function"==typeof n.verify){const e="-----BEGIN PRIVATE KEY-----\r\nMC4CAQAwBQYDK2VwBCIEIHKj+sVa9WcD/q2DJUJaf43Kptc8xYuUQA4bOFj9vC8T\r\n-----END PRIVATE KEY-----",t=Buffer.from("a");let r,i;try{r=n.sign(null,t,e),i=n.verify(null,t,e,r)}catch{}return Buffer.isBuffer(r)&&64===r.length&&!0===i}return!1})(),u="function"==typeof n.diffieHellman&&"function"==typeof n.generateKeyPairSync&&"function"==typeof n.createPublicKey,h=["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha256","diffie-hellman-group15-sha512","diffie-hellman-group16-sha512","diffie-hellman-group17-sha512","diffie-hellman-group18-sha512"];u&&(h.unshift("curve25519-sha256"),h.unshift("curve25519-sha256@libssh.org"));const f=h.concat(["diffie-hellman-group-exchange-sha1","diffie-hellman-group14-sha1","diffie-hellman-group1-sha1"]),l=["ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","rsa-sha2-512","rsa-sha2-256","ssh-rsa"];c&&l.unshift("ssh-ed25519");const d=l.concat(["ssh-dss"]),p=(()=>{const e=n.getCiphers();return t=>e.includes(s[t].sslName)})();let g=["aes128-gcm@openssh.com","aes256-gcm@openssh.com","aes128-ctr","aes192-ctr","aes256-ctr"];i&&i.flags&&!i.flags.aes?o?g.unshift("chacha20-poly1305@openssh.com"):g.push("chacha20-poly1305@openssh.com"):o&&i&&"x86"===i.arch?g.splice(4,0,"chacha20-poly1305@openssh.com"):g.push("chacha20-poly1305@openssh.com"),g=g.filter(p);const _=g.concat(["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","aes128-gcm","aes256-gcm","arcfour256","arcfour128","cast128-cbc","arcfour"].filter(p)),E=(()=>{const e=n.getHashes();return t=>e.includes(a[t].sslName)})(),A=["hmac-sha2-256-etm@openssh.com","hmac-sha2-512-etm@openssh.com","hmac-sha1-etm@openssh.com","hmac-sha2-256","hmac-sha2-512","hmac-sha1"].filter(E),y=A.concat(["hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"].filter(E)),m=["none","zlib@openssh.com","zlib"],w=m.concat([]),v={BAD_DHGEX:1,OLD_EXIT:2,DYN_RPORT_BUG:4,BUG_DHGEX_LARGE:8,IMPLY_RSA_SHA2_SIGALGS:16};e.exports={MESSAGE:{DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,EXT_INFO:7,KEXINIT:20,NEWKEYS:21,KEXDH_INIT:30,KEXDH_REPLY:31,KEXDH_GEX_GROUP:31,KEXDH_GEX_INIT:32,KEXDH_GEX_REPLY:33,KEXDH_GEX_REQUEST:34,KEXECDH_INIT:30,KEXECDH_REPLY:31,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,USERAUTH_PASSWD_CHANGEREQ:60,USERAUTH_PK_OK:60,USERAUTH_INFO_REQUEST:60,USERAUTH_INFO_RESPONSE:61,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100},DISCONNECT_REASON:{HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15},DISCONNECT_REASON_STR:void 0,CHANNEL_OPEN_FAILURE:{ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4},TERMINAL_MODE:{TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129},CHANNEL_EXTENDED_DATATYPE:{STDERR:1},SIGNALS:["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"].reduce((e,t)=>({...e,[t]:1}),{}),COMPAT:v,COMPAT_CHECKS:[["Cisco-1.25",v.BAD_DHGEX],[/^Cisco-1[.]/,v.BUG_DHGEX_LARGE],[/^[0-9.]+$/,v.OLD_EXIT],[/^OpenSSH_5[.][0-9]+/,v.DYN_RPORT_BUG],[/^OpenSSH_7[.]4/,v.IMPLY_RSA_SHA2_SIGALGS]],DEFAULT_KEX:h,SUPPORTED_KEX:f,DEFAULT_SERVER_HOST_KEY:l,SUPPORTED_SERVER_HOST_KEY:d,DEFAULT_CIPHER:g,SUPPORTED_CIPHER:_,DEFAULT_MAC:A,SUPPORTED_MAC:y,DEFAULT_COMPRESSION:m,SUPPORTED_COMPRESSION:w,curve25519Supported:u,eddsaSupported:c},e.exports.DISCONNECT_REASON_BY_VALUE=Array.from(Object.entries(e.exports.DISCONNECT_REASON)).reduce((e,[t,r])=>({...e,[r]:t}),{})},621:(e,t,r)=>{function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,r){if(r||(r={}),r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(h))}(e,r),e.changedCwd=!1;var o=process.cwd();n(r,"cwd")?(e.cwd=i.resolve(r.cwd),e.changedCwd=e.cwd!==o):e.cwd=o,e.root=r.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=f(e,e.cwd),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new a(t,r),e.options=e.minimatch.options},t.ownProp=n,t.makeAbs=f,t.finish=function(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?r.push.apply(r,s):s.forEach(function(e){r[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[n];t?r.push(a):r[a]=!0}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(e.nocase?c:u)),e.mark){for(n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(t){var r=!/\/$/.test(t),n=e.cache[t]||e.cache[f(e,t)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r}))}e.ignore.length&&(r=r.filter(function(t){return!l(e,t)})),e.found=r},t.mark=function(e,t){var r=f(e,t),n=e.cache[r],i=t;if(n){var o="DIR"===n||Array.isArray(n),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=f(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i},t.isIgnored=l,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var i=r(6928),o=r(5084),s=r(4016),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function h(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new a(r,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function f(e,t){var r=t;return r="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function l(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},672:(e,t,r)=>{let n;try{n=r(3200)}catch(e){n=r(9896)}const i=r(2581),{stringify:o,stripBom:s}=r(3689),a=i.fromPromise(async function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,o=!("throws"in t)||t.throws;let a,c=await i.fromCallback(r.readFile)(e,t);c=s(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return a}),c=i.fromPromise(async function(e,t,r={}){const s=r.fs||n,a=o(t,r);await i.fromCallback(s.writeFile)(e,a,r)});e.exports={readFile:a,readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,i=!("throws"in t)||t.throws;try{let n=r.readFileSync(e,t);return n=s(n),JSON.parse(n,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:c,writeFileSync:function(e,t,r={}){const i=r.fs||n,s=o(t,r);return i.writeFileSync(e,s,r)}}},815:(e,t,r)=>{"use strict";const n=r(9570),i=r(6928),{mkdirs:o}=r(2865),{pathExists:s}=r(2673),{utimesMillis:a}=r(7990),c=r(2199),{asyncIteratorConcurrentProcess:u}=r(2481);async function h(e,t,r){return!r.filter||r.filter(e,t)}async function f(e,t,r,o){const s=o.dereference?n.stat:n.lstat,a=await s(t);if(a.isDirectory())return async function(e,t,r,o,s){t||await n.mkdir(o),await u(await n.opendir(r),async e=>{const t=i.join(r,e.name),n=i.join(o,e.name);if(await h(t,n,s)){const{destStat:e}=await c.checkPaths(t,n,"copy",s);await f(e,t,n,s)}}),t||await n.chmod(o,e.mode)}(a,e,t,r,o);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return async function(e,t,r,i,o){if(!t)return l(e,r,i,o);if(o.overwrite)return await n.unlink(i),l(e,r,i,o);if(o.errorOnExist)throw new Error(`'${i}' already exists`)}(a,e,t,r,o);if(a.isSymbolicLink())return async function(e,t,r,o){let s=await n.readlink(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),!e)return n.symlink(s,r);let a=null;try{a=await n.readlink(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return n.symlink(s,r);throw e}if(o.dereference&&(a=i.resolve(process.cwd(),a)),c.isSrcSubdir(s,a))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`);if(c.isSrcSubdir(a,s))throw new Error(`Cannot overwrite '${a}' with '${s}'.`);return await n.unlink(r),n.symlink(s,r)}(e,t,r,o);if(a.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(a.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}async function l(e,t,r,i){if(await n.copyFile(t,r),i.preserveTimestamps){128&e.mode||await function(e,t){return n.chmod(e,128|t)}(r,e.mode);const i=await n.stat(t);await a(r,i.atime,i.mtime)}return n.chmod(r,e.mode)}e.exports=async function(e,t,r={}){"function"==typeof r&&(r={filter:r}),r.clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:n,destStat:a}=await c.checkPaths(e,t,"copy",r);if(await c.checkParentPaths(e,n,t,"copy"),!await h(e,t,r))return;const u=i.dirname(t);await s(u)||await o(u),await f(a,e,t,r)}},816:(e,t,r)=>{e.exports=h,h.realpath=h,h.sync=f,h.realpathSync=f,h.monkeypatch=function(){n.realpath=h,n.realpathSync=f},h.unmonkeypatch=function(){n.realpath=i,n.realpathSync=o};var n=r(9896),i=n.realpath,o=n.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=r(7985);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function h(e,t,r){if(a)return i(e,t,r);"function"==typeof t&&(r=t,t=null),i(e,t,function(n,i){u(n)?c.realpath(e,t,r):r(n,i)})}function f(e,t){if(a)return o(e,t);try{return o(e,t)}catch(r){if(u(r))return c.realpathSync(e,t);throw r}}},824:(e,t,r)=>{var n=r(4504);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},857:e=>{"use strict";e.exports=require("os")},866:(e,t,r)=>{var n=r(9896),i=r(6928),o=r(4822),s=r(3800),a=r(2913).Client,c=new a;(t=e.exports=c).Client=a,t.scp=function(e,t,r,c){"function"==typeof r&&(c=r,r=new a),r.on("error",c);var u=r.parse(e);u.host&&u.path?function(e,t,r,n){var o=e.parse(t);/\/$/.test(r)&&(r+=i.basename(o.path)),e.download(o.path,r,function(){e.close(),n.apply(this,arguments)})}(r,u,t,c):function(e,t,r,a){e.parse(r);var c=function(t,r){var o=t[0];s.eachSeries(t,function(t,r){n.stat(t,function(n,s){if(n)r(n);else if(s.isFile()){var a=i.relative(o,t);e.upload(t,i.join(e.remote.path,a),r)}else r()})},function(t){e.on("close",function n(){r(t),e.removeListener("close",n)}),e.close()})};-1===t.indexOf("*")?n.stat(t,function(r,n){r?a(r):n.isFile()?e.upload(t,e.remote.path,function(t){e.on("close",function r(){a(t),e.removeListener("close",r)}),e.close()}):n.isDirectory()?o(t.replace(/\/$/,"")+"/**/**",function(e,t){e?a(e):c(t,a)}):a("unsupported")}):o(t,function(e,t){e?a(e):c(t,a)})}(r,e,t,c)}},894:e=>{e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},985:(e,t,r)=>{"use strict";const{Socket:n}=r(9278),{Duplex:i}=r(2203),{resolve:o}=r(6928),{readFile:s}=r(9896),{execFile:a,spawn:c}=r(5317),{isParsedKey:u,parseKey:h}=r(8717),{makeBufferParser:f,readUInt32BE:l,writeUInt32BE:d,writeUInt32LE:p}=r(2024);function g(e){let t=!1;return(...r)=>{t||(t=!0,e(...r))}}function _(){}const E=Buffer.alloc(0),A=f();class y{getIdentities(e){e(new Error("Missing getIdentities() implementation"))}sign(e,t,r,n){"function"==typeof r&&(n=r),n(new Error("Missing sign() implementation"))}}class m extends y{constructor(e){super(),this.socketPath=e}getStream(e){e=g(e);const t=new n;function r(){try{t.destroy()}catch{}e(new Error("Failed to connect to agent"))}t.on("connect",()=>{e(null,t)}),t.on("close",r).on("end",r).on("error",r),t.connect(this.socketPath)}getIdentities(e){e=g(e),this.getStream((t,r)=>{function n(t){if(r)try{r.destroy()}catch{}t||(t=new Error("Failed to retrieve identities from agent")),e(t)}if(t)return n(t);const i=new S(!0);i.on("error",n),i.pipe(r).pipe(i),r.on("close",n).on("end",n).on("error",n),i.getIdentities((t,i)=>{if(t)return n(t);try{r.destroy()}catch{}e(null,i)})})}sign(e,t,r,n){"function"==typeof r?(n=r,r=void 0):"object"==typeof r&&null!==r||(r=void 0),n=g(n),this.getStream((i,o)=>{function s(e){if(o)try{o.destroy()}catch{}e||(e=new Error("Failed to sign data with agent")),n(e)}if(i)return s(i);const a=new S(!0);a.on("error",s),a.pipe(o).pipe(a),o.on("close",s).on("end",s).on("error",s),a.sign(e,t,r,(e,t)=>{if(e)return s(e);try{o.destroy()}catch{}n(null,t)})})}}const w=(()=>{const e=10,t=11,r=12,n=13,s=14,a=15,u=o(__dirname,"..","util/pagent.exe"),h={[e]:new Error("Invalid pagent.exe arguments"),[t]:new Error("Pageant is not running"),[r]:new Error("pagent.exe could not create an mmap"),[n]:new Error("pagent.exe could not set mode for stdin"),[s]:new Error("pagent.exe could not set mode for stdout"),[a]:new Error("pagent.exe did not get expected input payload")};function f(e){e.buffer=null,e.proc&&(e.proc.kill(),e.proc=void 0)}class d extends i{constructor(){super(),this.proc=void 0,this.buffer=null}_read(e){}_write(e,t,r){if(null===this.buffer)this.buffer=e;else{const t=Buffer.allocUnsafe(this.buffer.length+e.length);this.buffer.copy(t,0),e.copy(t,this.buffer.length),this.buffer=t}if(this.buffer.length<4)return r();const n=l(this.buffer,0);if(this.buffer.length-4<n)return r();if(e=this.buffer.slice(0,4+n),this.buffer.length>4+n)return r(new Error("Unexpected multiple agent requests"));let i;this.buffer=null;const o=this.proc=c(u,[e.length]);o.stdout.on("data",e=>{this.push(e)}),o.on("error",e=>{i=e,r(i)}),o.on("close",e=>{if(this.proc=void 0,!i){if(i=h[e])return r(i);r()}}),o.stdin.end(e)}_final(e){f(this),e()}_destroy(e,t){f(this),t()}}return class extends m{getStream(e){e(null,new d)}}})(),v=(()=>{const e=/^!<socket >(\d+) s ([A-Z0-9]{8}-[A-Z0-9]{8}-[A-Z0-9]{8}-[A-Z0-9]{8})/;return class extends m{getStream(t){t=g(t);let r=this.socketPath,i=!1;s(r,function o(c,u){if(c)return i?t(new Error("Invalid cygwin unix socket path")):void a("cygpath",["-w",r],(e,n,a)=>{if(e||0===n.length)return t(new Error("Invalid cygwin unix socket path"));i=!0,r=n.toString().replace(/[\r\n]/g,""),s(r,o)});const h=e.exec(u.toString("ascii"));if(!h)return t(new Error("Malformed cygwin unix socket file"));let f,d=0,g=!1;const _=[];let E,A=Buffer.alloc(12);const y=parseInt(h[1],10),m=h[2].replace(/-/g,""),w=Buffer.allocUnsafe(16);for(let e=0,t=0;t<32;++e,t+=2)w[e]=parseInt(m.substring(t,t+2),16);for(let e=0;e<16;e+=4)p(w,l(w,e),e);function v(){d=0,f="secret",E.write(w)}function b(e){if(d+=e.length,"secret"!==f){if("creds"===f&&(g||_.push(e),12===d)){if(E.removeListener("connect",v),E.removeListener("data",b),E.removeListener("error",I),E.removeListener("end",I),E.removeListener("close",I),g)return t(null,E);g=!0,A=Buffer.concat(_),p(A,process.pid,0),E.on("error",()=>{}),E.destroy(),S()}}else 16===d&&(d=0,f="creds",E.write(A))}function I(){t(new Error("Problem negotiating cygwin unix socket security"))}function S(){E=new n,E.on("connect",v),E.on("data",b),E.on("error",I),E.on("end",I),E.on("close",I),E.connect(y)}S()})}}})(),b=/^[/\\][/\\]\.[/\\]pipe[/\\].+/;function I(e){return"win32"!==process.platform||b.test(e)?new m(e):"pageant"===e?new w:new v(e)}const S=(()=>{const e=Symbol("Inbound Request Type"),t=Symbol("Inbound Request Response"),r=Symbol("Inbound Request Context");class n{constructor(n,i){this[e]=n,this[t]=void 0,this[r]=i}hasResponded(){return void 0!==this[t]}getType(){return this[e]}getContext(){return this[r]}}function o(e,r,n){return r[t]=n,function(e){let r;for(;e[f].length;){const n=e[f][0][t];if(void 0===n)break;e[f].shift(),r=e.push(n)}return r}(e)}function s(e){if(e[g]=null,0===e[p]){const t=e[f];if(t&&t.length){e[f]=[];for(const e of t)e.cb(new Error("No reply from server"))}}try{e.end()}catch{}setImmediate(()=>{e[w]||e.emit("end"),e[m]||e.emit("close")})}function a(){this[m]=!0}function c(){this[w]=!0}const f=Symbol("Requests"),p=Symbol("Agent Protocol Role"),g=Symbol("Agent Protocol Buffer"),y=Symbol("Agent Protocol Current Message Length"),m=Symbol("Agent Protocol Closed"),w=Symbol("Agent Protocol Ended");return class extends i{constructor(e){super({autoDestroy:!0,emitClose:!1}),this[p]=e?0:1,this[f]=[],this[g]=null,this[y]=-1,this.once("end",c),this.once("close",a)}_read(e){}_write(e,t,r){null===this[g]?this[g]=e:this[g]=function(e,t){const r=Buffer.allocUnsafe(e.length+t.length);return e.copy(r,0),t.copy(r,e.length),r}(this[g],e);let i=this[g],o=i.length,s=0;for(;s<o&&!(o<5)&&(-1===this[y]&&(this[y]=l(i,s)),!(o<4+this[y]));){const e=i[s+=4];if(++s,0===this[p]){if(0===this[f].length)return r(new Error("Received unexpected message from server"));const t=this[f].shift();switch(e){case 5:t.cb(new Error("Agent responded with failure"));break;case 12:{if(11!==t.type)return r(new Error("Agent responded with wrong message type"));A.init(i,s);const e=A.readUInt32BE();if(void 0===e)return A.clear(),r(new Error("Malformed agent response"));const n=[];for(let t=0;t<e;++t){let e=A.readString();if(void 0===e)return A.clear(),r(new Error("Malformed agent response"));const t=A.readString(!0);if(void 0===t)return A.clear(),r(new Error("Malformed agent response"));e=h(e),e instanceof Error||(e.comment=e.comment||t,n.push(e))}s=A.pos(),A.clear(),t.cb(null,n);break}case 14:{if(13!==t.type)return r(new Error("Agent responded with wrong message type"));A.init(i,s);let e=A.readString();if(s=A.pos(),A.clear(),void 0===e)return r(new Error("Malformed agent response"));if(A.init(e,0),A.readString(!0),e=A.readString(),A.clear(),void 0===e)return r(new Error("Malformed OpenSSH signature format"));t.cb(null,e);break}default:return r(new Error("Agent responded with unsupported message type"))}}else switch(e){case 11:{const t=new n(e);this[f].push(t),this.emit("identities",t);break}case 13:{A.init(i,s);let t=A.readString();const r=A.readString(),o=A.readUInt32BE();if(s=A.pos(),A.clear(),void 0===o){const t=new n(e);return this[f].push(t),this.failureReply(t)}if(t=h(t),t instanceof Error){const t=new n(e);return this[f].push(t),this.failureReply(t)}const a={hash:void 0};let c;"ssh-rsa"===t.type&&(2&o?(c="rsa-sha2-256",a.hash="sha256"):4&o&&(c="rsa-sha2-512",a.hash="sha512")),void 0===c&&(c=t.type);const u=new n(e,c);this[f].push(u),this.emit("sign",u,t,r,a);break}default:{const t=new n(e);this[f].push(t),this.failureReply(t)}}if(this[y]=-1,s===o){this[g]=null;break}this[g]=i=i.slice(s),o=i.length,s=0}r()}_destroy(e,t){s(this),t()}_final(e){s(this),e()}sign(e,t,r,n){if(0!==this[p])throw new Error("Client-only method called with server role");"function"==typeof r?(n=r,r=void 0):"object"==typeof r&&null!==r||(r=void 0);let i=0;if((e=h(e))instanceof Error)throw new Error("Invalid public key argument");if("ssh-rsa"===e.type&&r)switch(r.hash){case"sha256":i=2;break;case"sha512":i=4}const o=(e=e.getPublicSSH()).length,s=t.length;let a=0;const c=Buffer.allocUnsafe(9+o+4+s+4);return d(c,c.length-4,a),c[a+=4]=13,d(c,o,++a),e.copy(c,a+=4),d(c,s,a+=o),t.copy(c,a+=4),d(c,i,a+=s),"function"!=typeof n&&(n=_),this[f].push({type:13,cb:n}),this.push(c)}getIdentities(e){if(0!==this[p])throw new Error("Client-only method called with server role");let t=0;const r=Buffer.allocUnsafe(5);return d(r,r.length-4,t),r[t+=4]=11,"function"!=typeof e&&(e=_),this[f].push({type:11,cb:e}),this.push(r)}failureReply(e){if(1!==this[p])throw new Error("Server-only method called with client role");if(!(e instanceof n))throw new Error("Wrong request argument");if(e.hasResponded())return!0;let t=0;const r=Buffer.allocUnsafe(5);return d(r,r.length-4,t),r[t+=4]=5,o(this,e,r)}getIdentitiesReply(e,t){if(1!==this[p])throw new Error("Server-only method called with client role");if(!(e instanceof n))throw new Error("Wrong request argument");if(e.hasResponded())return!0;if(11!==e.getType())throw new Error("Invalid response to request");if(!Array.isArray(t))throw new Error("Keys argument must be an array");let r=4;const i=[];for(let e=0;e<t.length;++e){const n=t[e];if("object"!=typeof n||null===n)throw new Error(`Invalid key entry: ${n}`);let o,s;if(u(n))o=n;else if(u(n.pubKey))o=n.pubKey;else{if("object"!=typeof n.pubKey||null===n.pubKey)continue;if(({pubKey:o,comment:s}=n.pubKey),o=h(o),o instanceof Error)continue}s=o.comment||s,o=o.getPublicSSH(),r+=4+o.length,s&&"string"==typeof s?s=Buffer.from(s):Buffer.isBuffer(s)||(s=E),r+=4+s.length,i.push({pubKey:o,comment:s})}let s=0;const a=Buffer.allocUnsafe(5+r);d(a,a.length-4,s),a[s+=4]=12,d(a,i.length,++s),s+=4;for(let e=0;e<i.length;++e){const{pubKey:t,comment:r}=i[e];d(a,t.length,s),t.copy(a,s+=4),d(a,r.length,s+=t.length),s+=4,r.length&&(r.copy(a,s),s+=r.length)}return o(this,e,a)}signReply(e,t){if(1!==this[p])throw new Error("Server-only method called with client role");if(!(e instanceof n))throw new Error("Wrong request argument");if(e.hasResponded())return!0;if(13!==e.getType())throw new Error("Invalid response to request");if(!Buffer.isBuffer(t))throw new Error("Signature argument must be a Buffer");if(0===t.length)throw new Error("Signature argument must be non-empty");let r=0;const i=e.getContext(),s=Buffer.byteLength(i),a=Buffer.allocUnsafe(13+s+4+t.length);return d(a,a.length-4,r),a[r+=4]=14,d(a,4+s+4+t.length,++r),d(a,s,r+=4),a.utf8Write(i,r+=4,s),d(a,t.length,r+=s),t.copy(a,r+=4),o(this,e,a)}}})(),B=Symbol("Agent"),k=Symbol("Agent Keys"),C=Symbol("Agent Keys Index"),R=Symbol("Agent Init Callbacks");function N(e){return e instanceof y}e.exports={AgentContext:class{constructor(e){if("string"==typeof e)e=I(e);else if(!N(e))throw new Error("Invalid agent argument");this[B]=e,this[k]=null,this[C]=-1,this[R]=null}init(e){if("function"!=typeof e&&(e=_),null===this[k])if(null===this[R]){this[R]=[e];const t=(...e)=>{process.nextTick(()=>{const t=this[R];this[R]=null;for(const r of t)r(...e)})};this[B].getIdentities(g((e,r)=>{if(e)return t(e);if(!Array.isArray(r))return t(new Error("Agent implementation failed to provide keys"));const n=[];for(let e of r)e=h(e),e instanceof Error||n.push(e);this[k]=n,this[C]=-1,t()}))}else this[R].push(e);else process.nextTick(e)}nextKey(){return!(null===this[k]||++this[C]>=this[k].length)&&this[k][this[C]]}currentKey(){return null===this[k]||this[C]>=this[k].length?null:this[k][this[C]]}pos(){return null===this[k]||this[C]>=this[k].length?-1:this[C]}reset(){this[C]=-1}sign(...e){this[B].sign(...e)}},AgentProtocol:S,BaseAgent:y,createAgent:I,CygwinAgent:v,isAgent:N,OpenSSHAgent:m,PageantAgent:w}},1075:(e,t,r)=>{var n=r(2203);(t=e.exports=r(7469)).Stream=n,t.Readable=t,t.Writable=r(6653),t.Duplex=r(7903),t.Transform=r(2129),t.PassThrough=r(1235),process.browser||"disable"!==process.env.READABLE_STREAM||(e.exports=r(2203))},1146:(e,t,r)=>{var n=r(181).Buffer,i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=t.I=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!i(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=c;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(e){return e.toString(this.encoding)}function a(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function c(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(n=t.charCodeAt(i))>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},1235:(e,t,r)=>{e.exports=o;var n=r(2129),i=r(5945);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1726),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},1635:(e,t,r)=>{"use strict";const{AgentProtocol:n,BaseAgent:i,createAgent:o,CygwinAgent:s,OpenSSHAgent:a,PageantAgent:c}=r(985),{SSHTTPAgent:u,SSHTTPSAgent:h}=r(9257),{parseKey:f}=r(8717),{flagsToString:l,OPEN_MODE:d,STATUS_CODE:p,stringToFlags:g}=r(5700);e.exports={AgentProtocol:n,BaseAgent:i,createAgent:o,Client:r(5257),CygwinAgent:s,HTTPAgent:u,HTTPSAgent:h,OpenSSHAgent:a,PageantAgent:c,Server:r(5181),utils:{parseKey:f,...r(9537),sftp:{flagsToString:l,OPEN_MODE:d,STATUS_CODE:p,stringToFlags:g}}}},1726:(e,t,r)=>{try{var n=r(9023);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(8365)}},1760:(e,t,r)=>{"use strict";const{kMaxLength:n}=r(181),{createInflate:i,constants:{DEFLATE:o,INFLATE:s,Z_DEFAULT_CHUNK:a,Z_DEFAULT_COMPRESSION:c,Z_DEFAULT_MEMLEVEL:u,Z_DEFAULT_STRATEGY:h,Z_DEFAULT_WINDOWBITS:f,Z_PARTIAL_FLUSH:l}}=r(3106),d=i()._handle.constructor;function p(){throw new Error("Should not get here")}function g(e,t,r){const n=this._owner,i=new Error(e);i.errno=t,i.code=r,n._err=i}function _(e){e._handle&&(e._handle.close(),e._handle=null)}class E{constructor(e){const t=f,r=c,i=u,o=h;this._err=void 0,this._writeState=new Uint32Array(2),this._chunkSize=a,this._maxOutputLength=n,this._outBuffer=Buffer.allocUnsafe(this._chunkSize),this._outOffset=0,this._handle=new d(e),this._handle._owner=this,this._handle.onerror=g,this._handle.init(t,r,i,o,this._writeState,p,void 0)}writeSync(e,t){const r=this._handle;if(!r)throw new Error("Invalid Zlib instance");let n,i,o,s=e.length,a=this._chunkSize-this._outOffset,c=0,u=0;const h=this._writeState;let f=this._outBuffer,d=this._outOffset;const p=this._chunkSize;for(;;){if(r.writeSync(l,e,c,s,f,d,a),this._err)throw this._err;n=h[0],i=h[1];const t=s-i,g=a-n;if(g>0){const e=0===d&&g===f.length?f:f.slice(d,d+g);if(d+=g,o?void 0===o.push?o=[o,e]:o.push(e):o=e,u+=e.byteLength,u>this._maxOutputLength)throw _(this),new Error(`Output length exceeded maximum of ${this._maxOutputLength}`)}else if(0!==g)throw new Error("have should not go down");if((0===n||d>=p)&&(a=p,d=0,f=Buffer.allocUnsafe(p)),0!==n)break;c+=t,s=i}if(this._outBuffer=f,this._outOffset=d,0===u&&(o=Buffer.alloc(0)),t)return o.totalLen=u,o;if(void 0===o.push)return o;const g=Buffer.allocUnsafe(u);for(let e=0,t=0;e<o.length;++e){const r=o[e];g.set(r,t),t+=r.length}return g}}e.exports={PacketReader:class{cleanup(){}read(e){return e}},PacketWriter:class{constructor(e){this.allocStart=5,this.allocStartKEX=5,this._protocol=e}cleanup(){}alloc(e,t){return void 0===this._protocol._kexinit||t?this._protocol._cipher.allocPacket(e):Buffer.allocUnsafe(e)}finalize(e,t){return e}},ZlibPacketReader:class{constructor(){this._zlib=new E(s)}cleanup(){this._zlib&&_(this._zlib)}read(e){return this._zlib.writeSync(e,!1)}},ZlibPacketWriter:class{constructor(e){this.allocStart=0,this.allocStartKEX=0,this._protocol=e,this._zlib=new E(o)}cleanup(){this._zlib&&_(this._zlib)}alloc(e,t){return Buffer.allocUnsafe(e)}finalize(e,t){if(void 0===this._protocol._kexinit||t){const t=this._zlib.writeSync(e,!0),r=this._protocol._cipher.allocPacket(t.totalLen);if(void 0===t.push)r.set(t,5);else for(let e=0,n=5;e<t.length;++e){const i=t[e];r.set(i,n),n+=i.length}return r}return e}}}},1884:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},2024:(e,t,r)=>{"use strict";const n=r(9149).Ber;let i;const o=Buffer[Symbol.species],s=Object.getPrototypeOf(Uint8Array.prototype).fill;function a(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]}function c(e,t,r,n,i){i||(i=0),n>e.length&&(n=e.length);let o=n-r;const s=t.length-i;return o>s&&(o=s),t.set(new Uint8Array(e.buffer,e.byteOffset+r,o),i),o}function u(e,t,r){return void 0===r&&(r=e.length),new o(e.buffer,e.byteOffset+t,r-t)}function h(){let e,t=0;const r={init:(r,n)=>{e=r,t="number"==typeof n?n:0},pos:()=>t,length:()=>e?e.length:0,avail:()=>e&&t<e.length?e.length-t:0,clear:()=>{e=void 0},readUInt32BE:()=>{if(e&&!(t+3>=e.length))return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t++]},readUInt64BE:r=>{if(e&&!(t+7>=e.length))switch(r){case"always":return BigInt(`0x${e.hexSlice(t,t+=8)}`);case"maybe":if(e[t]>31)return BigInt(`0x${e.hexSlice(t,t+=8)}`);default:return 72057594037927940*e[t++]+281474976710656*e[t++]+1099511627776*e[t++]+4294967296*e[t++]+16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t++]}},skip:r=>{e&&r>0&&(t+=r)},skipString:()=>{const n=r.readUInt32BE();if(void 0!==n)return t+=n,t<=e.length?n:void 0},readByte:()=>{if(e&&t<e.length)return e[t++]},readBool:()=>{if(e&&t<e.length)return!!e[t++]},readList:()=>{const e=r.readString(!0);if(void 0!==e)return e?e.split(","):[]},readString:(n,i)=>{"number"==typeof n&&(i=n,n=void 0);const o=r.readUInt32BE();if(void 0!==o&&!(e.length-t<o||"number"==typeof i&&o>i))return n?Buffer.isBuffer(n)?c(e,n,t,t+=o):e.utf8Slice(t,t+=o):u(e,t,t+=o)},readRaw:r=>{if(e)return"number"!=typeof r?u(e,t,t+=e.length-t):e.length-t>=r?u(e,t,t+=r):void 0}};return r}function f(e,t,r){const n=new Error(e);return"boolean"==typeof t?(r=t,n.level="protocol"):n.level=t||"protocol",n.fatal=!!r,n}function l(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r}const d=h();e.exports={bufferCopy:c,bufferSlice:u,FastBuffer:o,bufferFill:(e,t,r,n)=>s.call(e,t,r,n),makeError:f,doFatalError:(e,t,n,o)=>{let s;return void 0===i&&({DISCONNECT_REASON:i}=r(468)),t instanceof Error?(s=t,o="number"!=typeof n?i.PROTOCOL_ERROR:n):s=f(t,n,!0),"number"!=typeof o&&(o=i.PROTOCOL_ERROR),e.disconnect(o),e._destruct(),e._onError(s),1/0},readUInt32BE:a,writeUInt32BE:l,writeUInt32LE:(e,t,r)=>(e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r),makeBufferParser:h,bufferParser:h(),readString:(e,t,r,n)=>{"number"==typeof r&&(n=r,r=void 0),void 0===t&&(t=0);const i=e.length-t;if(t<0||t>=e.length||i<4)return;const o=a(e,t);if(i<4+o||"number"==typeof n&&o>n)return;const s=(t+=4)+o;return e._pos=s,r?Buffer.isBuffer(r)?c(e,r,t,s):e.utf8Slice(t,s):u(e,t,s)},sigSSHToASN1:(e,t)=>{switch(t){case"ssh-dss":{if(e.length>40)return e;const t=new n.Writer;t.startSequence();let r=e.slice(0,20),i=e.slice(20);if(128&r[0]){const e=Buffer.allocUnsafe(21);e[0]=0,r.copy(e,1),r=e}else 0!==r[0]||128&r[1]||(r=r.slice(1));if(128&i[0]){const e=Buffer.allocUnsafe(21);e[0]=0,i.copy(e,1),i=e}else 0!==i[0]||128&i[1]||(i=i.slice(1));return t.writeBuffer(r,n.Integer),t.writeBuffer(i,n.Integer),t.endSequence(),t.buffer}case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":{d.init(e,0);const t=d.readString(),r=d.readString();if(d.clear(),void 0===t||void 0===r)return;const i=new n.Writer;return i.startSequence(),i.writeBuffer(t,n.Integer),i.writeBuffer(r,n.Integer),i.endSequence(),i.buffer}default:return e}},convertSignature:(e,t)=>{switch(t){case"ssh-dss":{if(e.length<=40)return e;const t=new n.Reader(e);t.readSequence();let r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0),o=0,s=0;if(r.length<20){const e=Buffer.allocUnsafe(20);e.set(r,1),r=e,r[0]=0}if(i.length<20){const e=Buffer.allocUnsafe(20);e.set(i,1),i=e,i[0]=0}r.length>20&&0===r[0]&&(o=1),i.length>20&&0===i[0]&&(s=1);const a=Buffer.allocUnsafe(r.length-o+(i.length-s));return c(r,a,o,r.length,0),c(i,a,s,i.length,r.length-o),a}case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":{if(0===e[0])return e;const t=new n.Reader(e);t.readSequence();const r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0);if(null===r||null===i)return;const o=Buffer.allocUnsafe(4+r.length+4+i.length);return l(o,r.length,0),o.set(r,4),l(o,i.length,4+r.length),o.set(i,8+r.length),o}}return e},sendPacket:(e,t,r)=>r||void 0===e._kexinit?(e._cipher.encrypt(t),!0):(void 0===e._queue&&(e._queue=[]),e._queue.push(t),e._debug&&e._debug("Outbound: ... packet queued"),!1)}},2129:(e,t,r)=>{e.exports=s;var n=r(7903),i=r(5945);function o(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState=new o(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){a(t,e)}):a(t)})}function a(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}i.inherits=r(1726),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},2199:(e,t,r)=>{"use strict";const n=r(9570),i=r(6928),o=r(2581).fromPromise;function s(e,t){return void 0!==t.ino&&void 0!==t.dev&&t.ino===e.ino&&t.dev===e.dev}function a(e,t){const r=i.resolve(e).split(i.sep).filter(e=>e),n=i.resolve(t).split(i.sep).filter(e=>e);return r.every((e,t)=>n[t]===e)}function c(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:o(async function(e,t,r,o){const{srcStat:u,destStat:h}=await function(e,t,r){const i=r.dereference?e=>n.stat(e,{bigint:!0}):e=>n.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}(e,t,o);if(h){if(s(u,h)){const n=i.basename(e),o=i.basename(t);if("move"===r&&n!==o&&n.toLowerCase()===o.toLowerCase())return{srcStat:u,destStat:h,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(u.isDirectory()&&!h.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!u.isDirectory()&&h.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(u.isDirectory()&&a(e,t))throw new Error(c(e,t,r));return{srcStat:u,destStat:h}}),checkPathsSync:function(e,t,r,o){const{srcStat:u,destStat:h}=function(e,t,r){let i;const o=r.dereference?e=>n.statSync(e,{bigint:!0}):e=>n.lstatSync(e,{bigint:!0}),s=o(e);try{i=o(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:i}}(e,t,o);if(h){if(s(u,h)){const n=i.basename(e),o=i.basename(t);if("move"===r&&n!==o&&n.toLowerCase()===o.toLowerCase())return{srcStat:u,destStat:h,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(u.isDirectory()&&!h.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!u.isDirectory()&&h.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(u.isDirectory()&&a(e,t))throw new Error(c(e,t,r));return{srcStat:u,destStat:h}},checkParentPaths:o(async function e(t,r,o,a){const u=i.resolve(i.dirname(t)),h=i.resolve(i.dirname(o));if(h===u||h===i.parse(h).root)return;let f;try{f=await n.stat(h,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(s(r,f))throw new Error(c(t,o,a));return e(t,r,h,a)}),checkParentPathsSync:function e(t,r,o,a){const u=i.resolve(i.dirname(t)),h=i.resolve(i.dirname(o));if(h===u||h===i.parse(h).root)return;let f;try{f=n.statSync(h,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(s(r,f))throw new Error(c(t,o,a));return e(t,r,h,a)},isSrcSubdir:a,areIdentical:s}},2203:e=>{"use strict";e.exports=require("stream")},2205:(e,t,r)=>{"use strict";const n=r(2581).fromPromise,i=r(9570),o=r(6928),s=r(2865),a=r(2673).pathExists;e.exports={outputFile:n(async function(e,t,r="utf-8"){const n=o.dirname(e);return await a(n)||await s.mkdirs(n),i.writeFile(e,t,r)}),outputFileSync:function(e,...t){const r=o.dirname(e);i.existsSync(r)||s.mkdirsSync(r),i.writeFileSync(e,...t)}}},2250:e=>{"use strict";e.exports=require("dns")},2354:(e,t,r)=>{var n=r(4434).EventEmitter;function i(e,t,r,n,i){for(var o=0;o<i;++o,++t,++n)if(e[t]!==r[n])return!1;return!0}function o(e){"string"==typeof e&&(e=new Buffer(e));var t,r,n=e.length;for(this.maxMatches=1/0,this.matches=0,this._occ=new Array(256),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=new Buffer(n),r=0;r<256;++r)this._occ[r]=n;if(n>=1)for(t=0;t<n-1;++t)this._occ[e[t]]=n-1-t}(0,r(9023).inherits)(o,n),o.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},o.prototype.push=function(e,t){var r,n;for(Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),n=e.length,this._bufpos=t||0;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(e);return r},o.prototype._sbmh_feed=function(e){var t=e.length,r=this._needle,n=r.length,o=-this._lookbehind_size,s=r[n-1],a=this._occ,c=this._lookbehind;if(o<0){for(;o<0&&o<=t-n;){if((h=this._sbmh_lookup_char(e,o+n-1))===s&&this._sbmh_memcmp(e,o,n-1))return this._lookbehind_size=0,++this.matches,o>-this._lookbehind_size?this.emit("info",!0,c,0,this._lookbehind_size+o):this.emit("info",!0),this._bufpos=o+n,o+n;o+=a[h]}if(o<0)for(;o<0&&!this._sbmh_memcmp(e,o,t-o);)o++;if(!(o>=0)){var u=this._lookbehind_size+o;return u>0&&this.emit("info",!1,c,0,u),c.copy(c,0,u,this._lookbehind_size-u),this._lookbehind_size-=u,e.copy(c,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}this.emit("info",!1,c,0,this._lookbehind_size),this._lookbehind_size=0}for(o>=0&&(o+=this._bufpos);o<=t-n;){var h;if((h=e[o+n-1])===s&&e[o]===r[0]&&i(r,0,e,o,n-1))return++this.matches,o>0?this.emit("info",!0,e,this._bufpos,o):this.emit("info",!0),this._bufpos=o+n,o+n;o+=a[h]}if(o<t){for(;o<t&&(e[o]!==r[0]||!i(e,o,r,0,t-o));)++o;o<t&&(e.copy(c,0,o,o+(t-o)),this._lookbehind_size=t-o)}return o>0&&this.emit("info",!1,e,this._bufpos,o<t?o:t),this._bufpos=t,t},o.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},o.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;){if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;++n}return!0},e.exports=o},2473:(e,t,r)=>{"use strict";const{SFTP:n}=r(5700),i=2**32-1;function o(e,t,r,n){if(e._chanMgr.remove(t),"function"!=typeof n)return;let i;r instanceof Error?i=r:"object"==typeof r&&null!==r?(i=new Error(`(SSH) Channel open failure: ${r.description}`),i.reason=r.reason):(i=new Error("(SSH) Channel open failure: server closed channel unexpectedly"),i.reason=""),n(i)}function s(e,t,r,i,s){if("function"==typeof r)return void o(e,t,i,r);if("object"!=typeof r||null===r)return;if(r.incoming&&"closed"===r.incoming.state)return;if(e._chanMgr.remove(t),r.server&&"Session"===r.constructor.name)return;r.incoming.state="closed",r.readable&&r.push(null),r.server?r.stderr.writable&&r.stderr.end():r.stderr.readable&&r.stderr.push(null),r.constructor===n||"open"!==r.outgoing.state&&"eof"!==r.outgoing.state||s||r.close(),"closing"===r.outgoing.state&&(r.outgoing.state="closed");const a=r._readableState,c=r._writableState;!c||c.ending||c.finished||s||r.end();const u=r._callbacks;r._callbacks=[];for(let e=0;e<u.length;++e)u[e](!0);if(r.server)!r.readable||r.destroyed||a&&a.endEmitted?r.emit("close"):r.once("end",()=>r.emit("close"));else{let e;switch(r.type){case"direct-streamlocal@openssh.com":case"direct-tcpip":e=()=>r.emit("close");break;default:{const t=r._exit;e=()=>{null===t.code?r.emit("close",t.code,t.signal,t.dump,t.desc):r.emit("close",t.code)}}}!r.readable||r.destroyed||a&&a.endEmitted?e():r.once("end",e);const t=r.stderr._readableState;!r.stderr.readable||r.stderr.destroyed||t&&t.endEmitted?r.stderr.emit("close"):r.stderr.once("end",()=>r.stderr.emit("close"))}}const a=(()=>{const e=Object.prototype.toString;return t=>"[object RegExp]"===e.call(t)})();e.exports={ChannelManager:class{constructor(e){this._client=e,this._channels={},this._cur=-1,this._count=0}add(e){let t;if(this._cur<i)t=++this._cur;else if(0===this._count)this._cur=0,t=0;else{const e=this._channels;for(let r=0;r<i;++r)if(void 0===e[r]){t=r;break}}return void 0===t?-1:(this._channels[t]=e||!0,++this._count,t)}update(e,t){if("number"!=typeof e||e<0||e>=i||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);t&&this._channels[e]&&(this._channels[e]=t)}get(e){if("number"!=typeof e||e<0||e>=i||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);return this._channels[e]}remove(e){if("number"!=typeof e||e<0||e>=i||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);this._channels[e]&&(delete this._channels[e],this._count&&--this._count)}cleanup(e){const t=this._channels;this._channels={},this._cur=-1,this._count=0;const r=Object.keys(t),n=this._client;for(let i=0;i<r.length;++i){const o=+r[i],a=t[o];s(n,o,a._channel||a,e,!0)}}},generateAlgorithmList:function(e,t,r){if(Array.isArray(e)&&e.length>0){for(let t=0;t<e.length;++t)if(-1===r.indexOf(e[t]))throw new Error(`Unsupported algorithm: ${e[t]}`);return e}if("object"==typeof e&&null!==e){const n=Object.keys(e);let i=t;for(let o=0;o<n.length;++o){const s=n[o];let c=e[s];switch(s){case"append":if(Array.isArray(c)||(c=[c]),Array.isArray(c))for(let e=0;e<c.length;++e){const n=c[e];if("string"==typeof n){if(!n||-1!==i.indexOf(n))continue;if(-1===r.indexOf(n))throw new Error(`Unsupported algorithm: ${n}`);i===t&&(i=i.slice()),i.push(n)}else if(a(n))for(let e=0;e<r.length;++e){const o=r[e];if(n.test(o)){if(-1!==i.indexOf(o))continue;i===t&&(i=i.slice()),i.push(o)}}}break;case"prepend":if(Array.isArray(c)||(c=[c]),Array.isArray(c))for(let e=c.length;e>=0;--e){const n=c[e];if("string"==typeof n){if(!n||-1!==i.indexOf(n))continue;if(-1===r.indexOf(n))throw new Error(`Unsupported algorithm: ${n}`);i===t&&(i=i.slice()),i.unshift(n)}else if(a(n))for(let e=r.length;e>=0;--e){const o=r[e];if(n.test(o)){if(-1!==i.indexOf(o))continue;i===t&&(i=i.slice()),i.unshift(o)}}}break;case"remove":if(Array.isArray(c)||(c=[c]),Array.isArray(c))for(let e=0;e<c.length;++e){const r=c[e];if("string"==typeof r){if(!r)continue;const e=i.indexOf(r);if(-1===e)continue;i===t&&(i=i.slice()),i.splice(e,1)}else if(a(r))for(let e=0;e<i.length;++e)r.test(i[e])&&(i===t&&(i=i.slice()),i.splice(e,1),--e)}}}return i}return t},onChannelOpenFailure:o,onCHANNEL_CLOSE:s,isWritable:e=>e&&e.writable&&e._readableState&&!1===e._readableState.ended}},2481:e=>{"use strict";e.exports={asyncIteratorConcurrentProcess:async function(e,t){const r=[];for await(const n of e)r.push(t(n).then(()=>null,e=>e??new Error("unknown error")));await Promise.all(r.map(e=>e.then(e=>{if(null!==e)throw e})))}}},2581:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((r,n)=>{t.push((e,t)=>null!=e?n(e):r(t)),e.apply(this,t)});e.apply(this,t)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);t.pop(),e.apply(this,t).then(e=>r(null,e),r)},"name",{value:e.name})}},2613:e=>{"use strict";e.exports=require("assert")},2627:(e,t,r)=>{e.exports=d,d.GlobSync=p;var n=r(9896),i=r(816),o=r(5084),s=(o.Minimatch,r(4822).Glob,r(9023),r(6928)),a=r(2613),c=r(4016),u=r(621),h=(u.alphasort,u.alphasorti,u.setopts),f=u.ownProp,l=u.childrenIgnored;function d(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new p(e,t).found}function p(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof p))return new p(e,t);if(h(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}p.prototype._finish=function(){if(a(this instanceof p),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),n[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;n[e._makeAbs(o)]=!0}})}u.finish(this)},p.prototype._process=function(e,t,r){a(this instanceof p);for(var n,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,i).join("/")}var s,u=e.slice(i);null===n?s=".":c(n)||c(e.join("/"))?(n&&c(n)||(n="/"+n),s=n):s=n;var h=this._makeAbs(s);l(this,s)||(u[0]===o.GLOBSTAR?this._processGlobStar(n,s,h,u,t,r):this._processReaddir(n,s,h,u,t,r))},p.prototype._processReaddir=function(e,t,r,n,i,o){var a=this._readdir(r,o);if(a){for(var c=n[0],u=!!this.minimatch.negate,h=c._glob,f=this.dot||"."===h.charAt(0),l=[],d=0;d<a.length;d++)("."!==(_=a[d]).charAt(0)||f)&&(u&&!e?!_.match(c):_.match(c))&&l.push(_);var p=l.length;if(0!==p)if(1!==n.length||this.mark||this.stat)for(n.shift(),d=0;d<p;d++){var g;_=l[d],g=e?[e,_]:[_],this._process(g.concat(n),i,o)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<p;d++){var _=l[d];e&&(_="/"!==e.slice(-1)?e+"/"+_:e+_),"/"!==_.charAt(0)||this.nomount||(_=s.join(this.root,_)),this.matches[i][_]=!0}}}},p.prototype._emitMatch=function(e,t){if(this._makeAbs(t),this.mark&&(t=this._mark(t)),!this.matches[e][t]){if(this.nodir){var r=this.cache[this._makeAbs(t)];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}},p.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=n.lstatSync(e)}catch(e){return null}var i=r.isSymbolicLink();return this.symlinks[e]=i,i||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},p.prototype._readdir=function(e,t){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e);if(f(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,n.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},p.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t},p.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},p.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(s){var a=n.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,i,!1);var h=s.length;if(!this.symlinks[r]||!o)for(var f=0;f<h;f++)if("."!==s[f].charAt(0)||this.dot){var l=c.concat(s[f],a);this._process(l,i,!0);var d=c.concat(s[f],n);this._process(d,i,!0)}}},p.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&c(e)&&!this.nomount){var n=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),n&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this.matches[t][e]=!0}},p.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&f(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return i;if(r&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=n.lstatSync(t)}catch(e){return!1}if(s.isSymbolicLink())try{o=n.statSync(t)}catch(e){o=s}else o=s}return this.statCache[t]=o,i=o.isDirectory()?"DIR":"FILE",this.cache[t]=this.cache[t]||i,(!r||"DIR"===i)&&i},p.prototype._mark=function(e){return u.mark(this,e)},p.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},2673:(e,t,r)=>{"use strict";const n=r(2581).fromPromise,i=r(9570);e.exports={pathExists:n(function(e){return i.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:i.existsSync}},2735:(e,t,r)=>{"use strict";const n=r(2581).fromPromise,i=r(6928),o=r(9570),s=r(2865),{pathExists:a}=r(2673),{areIdentical:c}=r(2199);e.exports={createLink:n(async function(e,t){let r,n;try{r=await o.lstat(t)}catch{}try{n=await o.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}if(r&&c(n,r))return;const u=i.dirname(t);await a(u)||await s.mkdirs(u),await o.link(e,t)}),createLinkSync:function(e,t){let r;try{r=o.lstatSync(t)}catch{}try{const t=o.lstatSync(e);if(r&&c(t,r))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=i.dirname(t);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(e,t)}}},2777:(e,t)=>{var r,n,i,o=t.MESSAGE={DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,KEXINIT:20,NEWKEYS:21,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100};for(r=0,i=(n=Object.keys(o)).length;r<i;++r)o[o[n[r]]]=n[r];o.KEXDH_INIT=30,o.KEXDH_REPLY=31,o.KEXDH_GEX_REQUEST=34,o.KEXDH_GEX_GROUP=31,o.KEXDH_GEX_INIT=32,o.KEXDH_GEX_REPLY=33,o.USERAUTH_PASSWD_CHANGEREQ=60,o.USERAUTH_PK_OK=60,o.USERAUTH_INFO_REQUEST=60,o.USERAUTH_INFO_RESPONSE=61;var s=t.DISCONNECT_REASON={HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15};for(r=0,i=(n=Object.keys(s)).length;r<i;++r)s[s[n[r]]]=n[r];var a=t.CHANNEL_OPEN_FAILURE={ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4};for(r=0,i=(n=Object.keys(a)).length;r<i;++r)a[a[n[r]]]=n[r];var c=t.TERMINAL_MODE={TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129};for(r=0,i=(n=Object.keys(c)).length;r<i;++r)c[c[n[r]]]=n[r];var u=t.CHANNEL_EXTENDED_DATATYPE={STDERR:1};for(r=0,i=(n=Object.keys(u)).length;r<i;++r)u[u[n[r]]]=n[r];t.SIGNALS=["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"];var h=["diffie-hellman-group14-sha1","diffie-hellman-group1-sha1"],f=new Buffer(h.join(",")),l=["ssh-rsa","ssh-dss"],d=new Buffer(l.join(",")),p=["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"],g=new Buffer(p.join(",")),_=["hmac-md5","hmac-sha1","hmac-sha2-256","hmac-sha2-256-96","hmac-sha2-512","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"],E=new Buffer(_.join(",")),A=["none"],y=new Buffer(A.join(","));process.versions.openssl>="1.0.1"&&(process.version>="v0.11.12"&&(p=["aes128-gcm","aes128-gcm@openssh.com","aes256-gcm","aes256-gcm@openssh.com"].concat(p),h=["diffie-hellman-group-exchange-sha256","diffie-hellman-group-exchange-sha1"].concat(h),f=new Buffer(h.join(","))),p=["aes256-ctr","aes192-ctr","aes128-ctr"].concat(p),g=new Buffer(p.join(","))),t.ALGORITHMS={KEX:h,KEX_LIST:f,KEX_LIST_SIZE:f.length,SERVER_HOST_KEY:l,SERVER_HOST_KEY_LIST:d,SERVER_HOST_KEY_LIST_SIZE:d.length,CIPHER:p,CIPHER_LIST:g,CIPHER_LIST_SIZE:g.length,HMAC:_,HMAC_LIST:E,HMAC_LIST_SIZE:E.length,COMPRESS:A,COMPRESS_LIST:y,COMPRESS_LIST_SIZE:y.length},t.SSH_TO_OPENSSL={"aes128-gcm":"aes-128-gcm","aes256-gcm":"aes-256-gcm","aes128-gcm@openssh.com":"aes-128-gcm","aes256-gcm@openssh.com":"aes-256-gcm","3des-cbc":"des-ede3-cbc","blowfish-cbc":"bf-cbc","aes256-cbc":"aes-256-cbc","aes192-cbc":"aes-192-cbc","aes128-cbc":"aes-128-cbc","idea-cbc":"idea-cbc","cast128-cbc":"cast-cbc","rijndael-cbc@lysator.liu.se":"aes-256-cbc",arcfour128:"rc4",arcfour256:"rc4",arcfour512:"rc4",arcfour:"rc4","camellia128-cbc":"camellia-128-cbc","camellia192-cbc":"camellia-192-cbc","camellia256-cbc":"camellia-256-cbc","camellia128-cbc@openssh.com":"camellia-128-cbc","camellia192-cbc@openssh.com":"camellia-192-cbc","camellia256-cbc@openssh.com":"camellia-256-cbc","3des-ctr":"des-ede3","blowfish-ctr":"bf-ecb","aes256-ctr":"aes-256-ctr","aes192-ctr":"aes-192-ctr","aes128-ctr":"aes-128-ctr","cast128-ctr":"cast5-ecb","camellia128-ctr":"camellia-128-ecb","camellia192-ctr":"camellia-192-ecb","camellia256-ctr":"camellia-256-ecb","camellia128-ctr@openssh.com":"camellia-128-ecb","camellia192-ctr@openssh.com":"camellia-192-ecb","camellia256-ctr@openssh.com":"camellia-256-ecb","hmac-sha1-96":"sha1","hmac-sha1":"sha1","hmac-sha2-256":"sha256","hmac-sha2-256-96":"sha256","hmac-sha2-512":"sha512","hmac-sha2-512-96":"sha512","hmac-md5-96":"md5","hmac-md5":"md5","hmac-ripemd160":"ripemd160"};var m=t.BUGS={BAD_DHGEX:1};t.BUGGY_IMPLS=[["Cisco-1.25",m.BAD_DHGEX]]},2782:(e,t,r)=>{var n=r(2203).Stream;e.exports=function(e){return{ReadStream:function t(r,i){if(!(this instanceof t))return new t(r,i);n.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}):process.nextTick(function(){o._read()})},WriteStream:function t(r,i){if(!(this instanceof t))return new t(r,i);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2865:(e,t,r)=>{"use strict";const n=r(2581).fromPromise,{makeDir:i,makeDirSync:o}=r(377),s=n(i);e.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},2913:(e,t,r)=>{var n=r(9896),i=r(6928),o=r(9023),s=r(3800),a=r(4434).EventEmitter,c=r(6373),u=r(6820);function h(e){this._options=e||{},this.remote={}}function f(e){return"win32"===process.platform?e.replace(/\\/g,"/"):e}o.inherits(h,a),h.prototype.defaults=function(e){if(!e)return this._options;this._options=e||{}},h.prototype.parse=function(e){if(u.isString(e)){var t=e.match(/^([a-zA-Z0-9\-\.]+)(\:.*)?@([^:]+):([^:]+:)?(.*)?$/);if(!t)return{};var r={username:t[1],host:t[3]};return t[2]&&(r.password=t[2].slice(1)),6===t.length&&t[4]&&(r.port=t[4].slice(0,-1)),6===t.length&&t[5]?r.path=t[5]:5===t.length&&t[4]&&(r.path=t[4]),this.remote=r,r}return this.remote=e,e},h.prototype.sftp=function(e){if(this.__sftp)e(null,this.__sftp);else{var t=u.defaults(this.remote,this._options);if(this.__ssh)this.__ssh.connect(t);else{var r=this,n=new c;n.on("connect",function(){r.emit("connect")}),n.on("ready",function(){r.emit("ready"),n.sftp(function(t,n){if(t)throw t;r.__sftp=n,e(t,n)})}),n.on("error",function(t){r.emit("error",t),e(t)}),n.on("end",function(){r.emit("end")}),n.on("close",function(){r.emit("close")}),n.on("keyboard-interactive",function(e,t,n,i,o){r.emit("keyboard-interactive",e,t,n,i,o)}),n.on("change password",function(e,t,n){r.emit("change password",e,t,n)}),n.on("tcp connection",function(e,t,n){r.emit("tcp connection",e,t,n)}),n.connect(t),this.__ssh=n}}},h.prototype.close=function(){this.__sftp&&(this.__sftp.end(),this.__sftp=null),this.__ssh&&(this.__ssh.end(),this.__ssh=null)},h.prototype.mkdir=function(e,t,r){u.isFunction(t)&&(r=t,t=void 0),t&&(t.mode=function(e,t){var r="0755";return"win32"===e?r:t?t.mode||r:void 0}(process.platform,t));var n=this,o=[],a=!1;this.sftp(function(c,u){if(c)return r(c);var h=function(e,r){n.emit("mkdir",e),u.mkdir(e,t,r)};s.until(function(){return a},function(t){u.stat(e,function(r,n){r?(o.push(e),e=i.dirname(e)):a=!0,t()})},function(e){e?r(e):s.eachSeries(o.reverse(),h,r)})})},h.prototype.write=function(e,t){var r=e.destination;r=f(r);var o=e.attrs,a=e.content,c=e.chunkSize||32768,u=this;this.sftp(function(h,l){if(h)return t(h);var d=function(r){var i;u.emit("write",e);var f=0,d=0;if(Buffer.isBuffer(a)){var p=[];i=parseInt((a.length-1)/c,10)+1;for(var g=0;g<i;g++)p.push(a.slice(g*c,(g+1)*c));s.eachSeries(p,function(e,t){u.emit("transfer",e,d,i),l.write(r,e,0,e.length,f,function(r){f+=e.length,d+=1,t(r)})},function(e){l.close(r,t)})}else{if("number"!=typeof a)throw new Error("Content should be buffer or file descriptor");i=parseInt((o.size-1)/c,10)+1;var _=new Array(i);s.eachSeries(_,function(e,t){if(c=Math.min(c,o.size-f)){var s=new Buffer(c);n.read(a,s,0,c,f,function(e,n,o){u.emit("transfer",o,d,i),l.write(r,o,0,o.length,f,function(e){f+=o.length,d+=1,t(e)})})}else t(h)},function(e){l.close(r,function(e){n.close(a,t)})})}};l.open(r,"w",o,function(t,n){t?(r=f(r=i.join(r,i.basename(e.source))),e.destination=r,l.open(r,"w",o,function(e,t){d(t)})):d(n)})})},h.prototype.upload=function(e,t,r){t=f(t);var o=this;s.waterfall([function(t){n.stat(e,t)},function(r,s){if(r.isDirectory())return s(new Error("Can not upload a directory"));n.stat(i.dirname(e),function(e,n){if(e)return s(e);o.mkdir(i.dirname(t),n,function(e){s(e,r)})})},function(t,r){n.open(e,"r",function(e,n){r(e,t,n)})},function(r,n,i){o.write({source:e,destination:t,content:n,attrs:r},i)}],function(e){r(e)})},h.prototype.download=function(e,t,r){var i=this;i.sftp(function(o,s){if(o)return r(o);var a=s.createReadStream(e);a.on("error",function(e){r(e)}),a.pipe(n.createWriteStream(t)).on("close",function(){i.emit("read",e),r(null)}).on("error",function(e){r(e)})})},(e.exports=new h).Client=h},3106:e=>{"use strict";e.exports=require("zlib")},3169:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3200:(e,t,r)=>{var n,i,o=r(9896),s=r(6189),a=r(2782),c=r(1884),u=r(9023);function h(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",i="___graceful-fs.previous");var f,l=function(){};if(u.debuglog?l=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(l=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[n]){var d=global[n]||[];h(o,d),o.close=function(e){function t(t,r){return e.call(o,t,function(e){e||_(),"function"==typeof r&&r.apply(this,arguments)})}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),_()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){l(o[n]),r(2613).equal(o[n].length,0)})}function p(e){s(e),e.gracefulify=p,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,i,o){return t(r,n,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):g([e,[r,n,i],t,o||Date.now(),Date.now()])})}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return r(t,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,n,i,o],r,s||Date.now(),Date.now()])})}(e,t,n,i)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,o,s){return n(t,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,r,i,o],n,s||Date.now(),Date.now()])})}(e,t,r,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),function e(t,r,n,o,s){return i(t,r,n,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,r,n,o],i,s||Date.now(),Date.now()])})}(e,t,r,n)});var o=e.readdir;e.readdir=function(e,t,r){"function"==typeof t&&(r=t,t=null);var n=c.test(process.version)?function(e,t,r,n){return o(e,i(e,t,r,n))}:function(e,t,r,n){return o(e,t,i(e,t,r,n))};return n(e,t,r);function i(e,t,r,i){return function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof r&&r.call(this,o,s)):g([n,[e,t,r],o,i||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var u=a(e);_=u.ReadStream,E=u.WriteStream}var h=e.ReadStream;h&&(_.prototype=Object.create(h.prototype),_.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())})});var f=e.WriteStream;f&&(E.prototype=Object.create(f.prototype),E.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))})}),Object.defineProperty(e,"ReadStream",{get:function(){return _},set:function(e){_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return E},set:function(e){E=e},enumerable:!0,configurable:!0});var l=_;Object.defineProperty(e,"FileReadStream",{get:function(){return l},set:function(e){l=e},enumerable:!0,configurable:!0});var d=E;function _(e,t){return this instanceof _?(h.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}function E(e,t){return this instanceof E?(f.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var A=e.open;function y(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,i,o){return A(t,r,n,function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,r,n,i],s,o||Date.now(),Date.now()])})}(e,t,r,n)}return e.open=y,e}function g(e){l("ENQUEUE",e[0].name,e[1]),o[n].push(e),E()}function _(){for(var e=Date.now(),t=0;t<o[n].length;++t)o[n][t].length>2&&(o[n][t][3]=e,o[n][t][4]=e);E()}function E(){if(clearTimeout(f),f=void 0,0!==o[n].length){var e=o[n].shift(),t=e[0],r=e[1],i=e[2],s=e[3],a=e[4];if(void 0===s)l("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){l("TIMEOUT",t.name,r);var c=r.pop();"function"==typeof c&&c.call(null,i)}else{var u=Date.now()-a,h=Math.max(a-s,1);u>=Math.min(1.2*h,100)?(l("RETRY",t.name,r),t.apply(null,r.concat([s]))):o[n].push(e)}void 0===f&&(f=setTimeout(E,0))}}global[n]||h(global,o[n]),e.exports=p(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=p(o),o.__patched=!0)},3580:()=>{},3608:(e,t,r)=>{var n=r(2613),i=r(8435).Buffer,o=r(894),s=r(3920).newInvalidAsn1Error,a={size:1024,growthFactor:8};function c(e){var t,r;t=a,r=e||{},n.ok(t),n.equal(typeof t,"object"),n.ok(r),n.equal(typeof r,"object"),Object.getOwnPropertyNames(t).forEach(function(e){if(!r[e]){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n)}}),e=r,this._buf=i.alloc(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}Object.defineProperty(c.prototype,"buffer",{get:function(){if(this._seq.length)throw s(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),c.prototype.writeByte=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},c.prototype.writeInt=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");"number"!=typeof t&&(t=o.Integer);for(var r=4;(!(4286578688&e)||-8388608==(4286578688&e))&&r>1;)r--,e<<=8;if(r>4)throw s("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=t,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&e)>>>24,e<<=8},c.prototype.writeNull=function(){this.writeByte(o.Null),this.writeByte(0)},c.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");return"number"!=typeof t&&(t=o.Enumeration),this.writeInt(e,t)},c.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw new TypeError("argument must be a Boolean");"number"!=typeof t&&(t=o.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=e?255:0},c.prototype.writeString=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string (was: "+typeof e+")");"number"!=typeof t&&(t=o.OctetString);var r=i.byteLength(e);this.writeByte(t),this.writeLength(r),r&&(this._ensure(r),this._buf.write(e,this._offset),this._offset+=r)},c.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw new TypeError("tag must be a number");if(!i.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},c.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach(function(e){t.writeString(e)})},c.prototype.writeOID=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string");if("number"!=typeof t&&(t=o.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");var r=e.split("."),n=[];n.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach(function(e){!function(e,t){t<128?e.push(t):t<16384?(e.push(t>>>7|128),e.push(127&t)):t<2097152?(e.push(t>>>14|128),e.push(t>>>7&255|128),e.push(127&t)):t<268435456?(e.push(t>>>21|128),e.push(t>>>14&255|128),e.push(t>>>7&255|128),e.push(127&t)):(e.push(t>>>28&255|128),e.push(t>>>21&255|128),e.push(t>>>14&255|128),e.push(t>>>7&255|128),e.push(127&t))}(n,parseInt(e,10))});var i=this;this._ensure(2+n.length),this.writeByte(t),this.writeLength(n.length),n.forEach(function(e){i.writeByte(e)})},c.prototype.writeLength=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else{if(!(e<=16777215))throw s("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e}},c.prototype.startSequence=function(e){"number"!=typeof e&&(e=o.Sequence|o.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},c.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,r=this._offset-t;if(r<=127)this._shift(t,r,-2),this._buf[e]=r;else if(r<=255)this._shift(t,r,-1),this._buf[e]=129,this._buf[e+1]=r;else if(r<=65535)this._buf[e]=130,this._buf[e+1]=r>>8,this._buf[e+2]=r;else{if(!(r<=16777215))throw s("Sequence too long");this._shift(t,r,1),this._buf[e]=131,this._buf[e+1]=r>>16,this._buf[e+2]=r>>8,this._buf[e+3]=r}},c.prototype._shift=function(e,t,r){n.ok(void 0!==e),n.ok(void 0!==t),n.ok(r),this._buf.copy(this._buf,e+r,e,e+t),this._offset+=r},c.prototype._ensure=function(e){if(n.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var r=i.alloc(t);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=t}},e.exports=c},3689:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:i}={}){const o=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},3800:(e,t)=>{var r;!function(){var n,i,o={};function s(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(n,arguments)}}null!=(n=this)&&(i=n.async),o.noConflict=function(){return n.async=i,o};var a=Object.prototype.toString,c=Array.isArray||function(e){return"[object Array]"===a.call(e)},u=function(e,t){for(var r=0;r<e.length;r+=1)t(e[r],r,e)},h=function(e,t){if(e.map)return e.map(t);var r=[];return u(e,function(e,n,i){r.push(t(e,n,i))}),r},f=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t};"undefined"!=typeof process&&process.nextTick?(o.nextTick=process.nextTick,"undefined"!=typeof setImmediate?o.setImmediate=function(e){setImmediate(e)}:o.setImmediate=o.nextTick):"function"==typeof setImmediate?(o.nextTick=function(e){setImmediate(e)},o.setImmediate=o.nextTick):(o.nextTick=function(e){setTimeout(e,0)},o.setImmediate=o.nextTick),o.each=function(e,t,r){if(r=r||function(){},!e.length)return r();var n=0;function i(t){t?(r(t),r=function(){}):(n+=1)>=e.length&&r()}u(e,function(e){t(e,s(i))})},o.forEach=o.each,o.eachSeries=function(e,t,r){if(r=r||function(){},!e.length)return r();var n=0,i=function(){t(e[n],function(t){t?(r(t),r=function(){}):(n+=1)>=e.length?r():i()})};i()},o.forEachSeries=o.eachSeries,o.eachLimit=function(e,t,r,n){l(t).apply(null,[e,r,n])},o.forEachLimit=o.eachLimit;var l=function(e){return function(t,r,n){if(n=n||function(){},!t.length||e<=0)return n();var i=0,o=0,s=0;!function a(){if(i>=t.length)return n();for(;s<e&&o<t.length;)s+=1,r(t[(o+=1)-1],function(e){e?(n(e),n=function(){}):(s-=1,(i+=1)>=t.length?n():a())})}()}},d=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[o.each].concat(t))}},p=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[o.eachSeries].concat(t))}},g=function(e,t,r,n){if(t=h(t,function(e,t){return{index:t,value:e}}),n){var i=[];e(t,function(e,t){r(e.value,function(r,n){i[e.index]=n,t(r)})},function(e){n(e,i)})}else e(t,function(e,t){r(e.value,function(e){t(e)})})};o.map=d(g),o.mapSeries=p(g),o.mapLimit=function(e,t,r,n){return _(t)(e,r,n)};var _=function(e){return function(e,t){return function(){var r=Array.prototype.slice.call(arguments);return t.apply(null,[l(e)].concat(r))}}(e,g)};o.reduce=function(e,t,r,n){o.eachSeries(e,function(e,n){r(t,e,function(e,r){t=r,n(e)})},function(e){n(e,t)})},o.inject=o.reduce,o.foldl=o.reduce,o.reduceRight=function(e,t,r,n){var i=h(e,function(e){return e}).reverse();o.reduce(i,t,r,n)},o.foldr=o.reduceRight;var E=function(e,t,r,n){var i=[];e(t=h(t,function(e,t){return{index:t,value:e}}),function(e,t){r(e.value,function(r){r&&i.push(e),t()})},function(e){n(h(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};o.filter=d(E),o.filterSeries=p(E),o.select=o.filter,o.selectSeries=o.filterSeries;var A=function(e,t,r,n){var i=[];e(t=h(t,function(e,t){return{index:t,value:e}}),function(e,t){r(e.value,function(r){r||i.push(e),t()})},function(e){n(h(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};o.reject=d(A),o.rejectSeries=p(A);var y=function(e,t,r,n){e(t,function(e,t){r(e,function(r){r?(n(e),n=function(){}):t()})},function(e){n()})};o.detect=d(y),o.detectSeries=p(y),o.some=function(e,t,r){o.each(e,function(e,n){t(e,function(e){e&&(r(!0),r=function(){}),n()})},function(e){r(!1)})},o.any=o.some,o.every=function(e,t,r){o.each(e,function(e,n){t(e,function(e){e||(r(!1),r=function(){}),n()})},function(e){r(!0)})},o.all=o.every,o.sortBy=function(e,t,r){o.map(e,function(e,r){t(e,function(t,n){t?r(t):r(null,{value:e,criteria:n})})},function(e,t){if(e)return r(e);r(null,h(t.sort(function(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}),function(e){return e.value}))})},o.auto=function(e,t){t=t||function(){};var r=f(e),n=r.length;if(!n)return t();var i={},s=[],a=function(e){s.unshift(e)},h=function(){n--,u(s.slice(0),function(e){e()})};a(function(){if(!n){var e=t;t=function(){},e(null,i)}}),u(r,function(r){var n=c(e[r])?e[r]:[e[r]],l=function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1&&(n=n[0]),e){var s={};u(f(i),function(e){s[e]=i[e]}),s[r]=n,t(e,s),t=function(){}}else i[r]=n,o.setImmediate(h)},d=n.slice(0,Math.abs(n.length-1))||[],p=function(){return t=function(e,t){return e&&i.hasOwnProperty(t)},n=!0,((e=d).reduce?e.reduce(t,n):(u(e,function(e,r,i){n=t(n,e)}),n))&&!i.hasOwnProperty(r);var e,t,n};if(p())n[n.length-1](l,i);else{var g=function(){p()&&(function(e){for(var t=0;t<s.length;t+=1)if(s[t]===e)return void s.splice(t,1)}(g),n[n.length-1](l,i))};a(g)}})},o.retry=function(e,t,r){var n=[];"function"==typeof e&&(r=t,t=e,e=5),e=parseInt(e,10)||5;var i=function(i,s){for(var a=function(e,t){return function(r){e(function(e,n){r(!e||t,{err:e,result:n})},s)}};e;)n.push(a(t,!(e-=1)));o.series(n,function(e,t){t=t[t.length-1],(i||r)(t.err,t.result)})};return r?i():i},o.waterfall=function(e,t){if(t=t||function(){},!c(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}if(!e.length)return t();var n=function(e){return function(r){if(r)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),s=e.next();s?i.push(n(s)):i.push(t),o.setImmediate(function(){e.apply(null,i)})}}};n(o.iterator(e))()};var m=function(e,t,r){if(r=r||function(){},c(t))e.map(t,function(e,t){e&&e(function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),t.call(null,e,r)})},r);else{var n={};e.each(f(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(e){r(e,n)})}};o.parallel=function(e,t){m({map:o.map,each:o.each},e,t)},o.parallelLimit=function(e,t,r){m({map:_(t),each:l(t)},e,r)},o.series=function(e,t){if(t=t||function(){},c(e))o.mapSeries(e,function(e,t){e&&e(function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),t.call(null,e,r)})},t);else{var r={};o.eachSeries(f(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(e){t(e,r)})}},o.iterator=function(e){var t=function(r){var n=function(){return e.length&&e[r].apply(null,arguments),n.next()};return n.next=function(){return r<e.length-1?t(r+1):null},n};return t(0)},o.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var w=function(e,t,r,n){var i=[];e(t,function(e,t){r(e,function(e,r){i=i.concat(r||[]),t(e)})},function(e){n(e,i)})};o.concat=d(w),o.concatSeries=p(w),o.whilst=function(e,t,r){e()?t(function(n){if(n)return r(n);o.whilst(e,t,r)}):r()},o.doWhilst=function(e,t,r){e(function(n){if(n)return r(n);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?o.doWhilst(e,t,r):r()})},o.until=function(e,t,r){e()?r():t(function(n){if(n)return r(n);o.until(e,t,r)})},o.doUntil=function(e,t,r){e(function(n){if(n)return r(n);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?r():o.doUntil(e,t,r)})},o.queue=function(e,t){function r(e,t,r,n){if(e.started||(e.started=!0),c(t)||(t=[t]),0==t.length)return o.setImmediate(function(){e.drain&&e.drain()});u(t,function(t){var i={data:t,callback:"function"==typeof n?n:null};r?e.tasks.unshift(i):e.tasks.push(i),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)})}void 0===t&&(t=1);var n=0,i={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){r(i,e,!1,t)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(e,t){r(i,e,!0,t)},process:function(){if(!i.paused&&n<i.concurrency&&i.tasks.length){var t=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),n+=1;var r=s(function(){n-=1,t.callback&&t.callback.apply(t,arguments),i.drain&&i.tasks.length+n===0&&i.drain(),i.process()});e(t.data,r)}},length:function(){return i.tasks.length},running:function(){return n},idle:function(){return i.tasks.length+n===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var e=1;e<=i.concurrency;e++)o.setImmediate(i.process)}}};return i},o.priorityQueue=function(e,t){function r(e,t){return e.priority-t.priority}var n=o.queue(e,t);return n.push=function(e,t,i){!function(e,t,n,i){if(e.started||(e.started=!0),c(t)||(t=[t]),0==t.length)return o.setImmediate(function(){e.drain&&e.drain()});u(t,function(t){var s={data:t,priority:n,callback:"function"==typeof i?i:null};e.tasks.splice(function(e,t,r){for(var n=-1,i=e.length-1;n<i;){var o=n+(i-n+1>>>1);r(t,e[o])>=0?n=o:i=o-1}return n}(e.tasks,s,r)+1,0,s),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)})}(n,e,t,i)},delete n.unshift,n},o.cargo=function(e,t){var r=!1,n=[],i={tasks:n,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,r){c(e)||(e=[e]),u(e,function(e){n.push({data:e,callback:"function"==typeof r?r:null}),i.drained=!1,i.saturated&&n.length===t&&i.saturated()}),o.setImmediate(i.process)},process:function o(){if(!r){if(0===n.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof t?n.splice(0,t):n.splice(0,n.length),a=h(s,function(e){return e.data});i.empty&&i.empty(),r=!0,e(a,function(){r=!1;var e=arguments;u(s,function(t){t.callback&&t.callback.apply(null,e)}),o()})}},length:function(){return n.length},running:function(){return r}};return i};var v=function(e){return function(t){var r=Array.prototype.slice.call(arguments,1);t.apply(null,r.concat([function(t){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&u(r,function(t){console[e](t)}))}]))}};o.log=v("log"),o.dir=v("dir"),o.memoize=function(e,t){var r={},n={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),s=i.pop(),a=t.apply(null,i);a in r?o.nextTick(function(){s.apply(null,r[a])}):a in n?n[a].push(s):(n[a]=[s],e.apply(null,i.concat([function(){r[a]=arguments;var e=n[a];delete n[a];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=r,i.unmemoized=e,i},o.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},o.times=function(e,t,r){for(var n=[],i=0;i<e;i++)n.push(i);return o.map(n,t,r)},o.timesSeries=function(e,t,r){for(var n=[],i=0;i<e;i++)n.push(i);return o.mapSeries(n,t,r)},o.seq=function(){var e=arguments;return function(){var t=this,r=Array.prototype.slice.call(arguments),n=r.pop();o.reduce(e,r,function(e,r,n){r.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);n(e,t)}]))},function(e,r){n.apply(t,[e].concat(r))})}},o.compose=function(){return o.seq.apply(null,Array.prototype.reverse.call(arguments))};var b=function(e,t){var r=function(){var r=this,n=Array.prototype.slice.call(arguments),i=n.pop();return e(t,function(e,t){e.apply(r,n.concat([t]))},i)};if(arguments.length>2){var n=Array.prototype.slice.call(arguments,2);return r.apply(this,n)}return r};o.applyEach=d(b),o.applyEachSeries=p(b),o.forever=function(e,t){!function r(n){if(n){if(t)return t(n);throw n}e(r)}()},e.exports?e.exports=o:void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},3863:(e,t,r)=>{var n=r(9023).inherits,i=r(2203).Duplex||r(1075).Duplex,o=r(2203).Readable||r(1075).Readable,s=r(2203).Writable||r(1075).Writable,a=r(6584).constants.CHANNEL_EXTENDED_DATATYPE.STDERR,c=1048576,u=["CHANNEL_EOF","CHANNEL_CLOSE","CHANNEL_DATA","CHANNEL_EXTENDED_DATA","CHANNEL_WINDOW_ADJUST","CHANNEL_SUCCESS","CHANNEL_FAILURE","CHANNEL_REQUEST"],h=u.length;function f(e,t,r){var n={highWaterMark:c,allowHalfOpen:!r||r&&!1!==r.allowHalfOpen};this.allowHalfOpen=n.allowHalfOpen,i.call(this,n);var s=this,a=r&&r.server;this.server=a,this.type=e.type,this.subtype=void 0;var f,p,g,_,E,A=this.incoming=e.incoming,y=A.id,m=this.outgoing=e.outgoing,w=this._callbacks=[];this._client=t,this._hasX11=!1;var v=t._channels,b=t._sshstream;function I(){s._waitClientDrain&&(s._waitClientDrain=!1,s._waitWindow||(s._chunk?s._write(s._chunk,null,s._chunkcb):s._chunkcb?s._chunkcb():s._chunkErr?s.stderr._write(s._chunkErr,null,s._chunkcbErr):s._chunkcbErr&&s._chunkcbErr()))}function S(){s.eof(),(a||!a&&!s.allowHalfOpen)&&s.close(),s.writable=!1}function B(){s.readable=!1}t._sock.on("drain",I),b.once("CHANNEL_EOF:"+y,function(){"closed"!==A.state&&"eof"!==A.state&&(A.state="eof",s.readable&&s.push(null),a&&s.stderr.writable?s.stderr.end():!a&&s.stderr.readable&&s.stderr.push(null))}).once("CHANNEL_CLOSE:"+y,function(){if("closed"!==A.state){A.state="closed",s.readable&&s.push(null),a&&s.stderr.writable?s.stderr.end():!a&&s.stderr.readable&&s.stderr.push(null),"open"!==m.state&&"eof"!==m.state||s.close(),"closing"===m.state&&(m.state="closed"),delete v[y];var e=s._writableState;t._sock.removeListener("drain",I),e.ending||e.finished||s.end(),s._callbacks=[];for(var r=0;r<w.length;++r)w[r](!0);for(w=s._callbacks,a?s.emit("close"):(null===f?s.emit("close",f,p,g,_,E):s.emit("close",f),s.stderr.emit("close")),r=0;r<h;++r)b.removeAllListeners(u[r]+":"+y)}}).on("CHANNEL_DATA:"+y,function(e){0!==A.window&&(A.window-=e.length,s.push(e)?0===A.window&&l(s):s._waitChanDrain=!0)}).on("CHANNEL_WINDOW_ADJUST:"+y,function(e){m.window+=e,s._waitWindow&&(s._waitWindow=!1,s._waitClientDrain||(s._chunk?s._write(s._chunk,null,s._chunkcb):s._chunkcb?s._chunkcb():s._chunkErr?s.stderr._write(s._chunkErr,null,s._chunkcbErr):s._chunkcbErr&&s._chunkcbErr()))}).on("CHANNEL_SUCCESS:"+y,function(){a?(b._kalast=Date.now(),b._kacnt=0):t._resetKA(),w.length&&w.shift()(!1)}).on("CHANNEL_FAILURE:"+y,function(){a?(b._kalast=Date.now(),b._kacnt=0):t._resetKA(),w.length&&w.shift()(!0)}).on("CHANNEL_REQUEST:"+y,function(e){if(!a){if("exit-status"===e.request)return void s.emit("exit",f=e.code);if("exit-signal"===e.request)return void s.emit("exit",f=null,p="SIG"+e.signal,g=e.coredump,_=e.description,E=e.lang)}e.wantReply&&b.channelFailure(m.id)}),this.stdin=this.stdout=this,a?this.stderr=new d(this):(this.stderr=new o(n),this.stderr._read=function(e){s._waitChanDrain&&(s._waitChanDrain=!1,0===A.window&&l(s))},b.on("CHANNEL_EXTENDED_DATA:"+y,function(e,t){0!==A.window&&(A.window-=t.length,s.stderr.push(t)?0===A.window&&l(s):s._waitChanDrain=!0)})),this._waitClientDrain=!1,this._waitWindow=!1,this._waitChanDrain=!1,this._chunk=void 0,this._chunkcb=void 0,this._chunkErr=void 0,this._chunkcbErr=void 0,this.on("finish",S).on("prefinish",S),this.on("end",B).on("close",B)}function l(e,t){return"open"!==e.outgoing.state||(t=t||c,e.incoming.window+=t,e._client._sshstream.channelWindowAdjust(e.outgoing.id,t))}function d(e){s.call(this,{highWaterMark:c}),this._channel=e}n(f,i),f.prototype.eof=function(){var e=!0,t=this.outgoing;return"open"===t.state&&(t.state="eof",e=this._client._sshstream.channelEOF(t.id)),e},f.prototype.close=function(){var e=!0,t=this.outgoing;return"open"!==t.state&&"eof"!==t.state||(t.state="closing",e=this._client._sshstream.channelClose(t.id)),e},f.prototype._read=function(e){this._waitChanDrain&&(this._waitChanDrain=!1,0===this.incoming.window&&l(this))},f.prototype._write=function(e,t,r){var n,i,o,s=this._client._sshstream,a=this.outgoing,c=a.packetSize,u=a.id,h=a.window,f=e.length,l=0;if("open"===a.state){for(;f-l>0&&h>0;)if((o=f-l)>h&&(o=h),o>c&&(o=c),n=s.channelData(u,e.slice(l,l+o)),l+=o,h-=o,!n){this._waitClientDrain=!0,this._chunk=void 0,this._chunkcb=r;break}if(a.window=h,f-l>0)return 0===h&&(this._waitWindow=!0),l>0?(i=new Buffer(f-l),e.copy(i,0,l),this._chunk=i):this._chunk=e,void(this._chunkcb=r);this._waitClientDrain||r()}},f.prototype.destroy=function(){this.end()},f.prototype.setWindow=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||"shell"!==this.subtype&&"exec"!==this.subtype||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.windowChange(this.outgoing.id,e,t,r,n)},f.prototype.signal=function(e){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.signal(this.outgoing.id,e)},f.prototype.exit=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||("number"==typeof e?this._client._sshstream.exitStatus(this.outgoing.id,e):this._client._sshstream.exitSignal(this.outgoing.id,e,t,r))},f.MAX_WINDOW=c,f.PACKET_SIZE=32768,n(d,s),d.prototype._write=function(e,t,r){var n,i,o,s=this._channel,c=s._client._sshstream,u=s.outgoing,h=u.packetSize,f=u.id,l=u.window,d=e.length,p=0;if("open"===s.outgoing.state){for(;d-p>0&&l>0;)if((o=d-p)>l&&(o=l),o>h&&(o=h),n=c.channelExtData(f,e.slice(p,p+o),a),p+=o,l-=o,!n){s._waitClientDrain=!0,s._chunkErr=void 0,s._chunkcbErr=r;break}if(u.window=l,d-p>0)return 0===l&&(s._waitWindow=!0),p>0?(i=new Buffer(d-p),e.copy(i,0,p),s._chunkErr=i):s._chunkErr=e,void(s._chunkcbErr=r);s._waitClientDrain||r()}},e.exports=f},3920:e=>{e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},3949:(e,t,r)=>{var n=r(6982),i=r(9149).Ber,o=r(8377),s=r(2777).SSH_TO_OPENSSL,a=/^arcfour/i,c=/^aes\d+-gcm/i,u=/(.{64})/g,h=1/0,f=new Buffer([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function l(e,t,r){if(void 0!==e._macresult)return e._macresult;if(!e.ppk)throw new Error("Key isn't a PPK");if(!e.privateMAC)throw new Error("Missing MAC");if(!r)throw new Error("Missing raw private key data");if(e.encryption&&"string"!=typeof t)throw new Error("Missing passphrase for encrypted PPK");if(e.encryption&&!e._decrypted)throw new Error("PPK must be decrypted before verifying MAC");var i=e.privateMAC,o=e.fulltype.length,s=e.encryption?"aes256-cbc":"none",a=s.length,c=Buffer.byteLength(e.comment),u=e.public,h=u.length,f=r.length,l=new Buffer(4+o+4+a+4+c+4+h+4+f),d=0;l.writeUInt32BE(o,d,!0),l.write(e.fulltype,d+=4,o,"ascii"),l.writeUInt32BE(a,d+=o,!0),l.write(s,d+=4,a,"ascii"),l.writeUInt32BE(c,d+=a,!0),l.write(e.comment,d+=4,c,"utf8"),l.writeUInt32BE(h,d+=c,!0),u.copy(l,d+=4),l.writeUInt32BE(f,d+=h,!0),r.copy(l,d+=4),"string"!=typeof t&&(t="");var p=n.createHash("sha1").update("putty-private-key-file-mac-key","ascii").update(t,"utf8").digest("binary");p=new Buffer(p,"binary");var g=n.createHmac("sha1",p).update(l,"binary").digest("hex");return e._macresult=g===i}function d(e){if(!(e.ppk&&e.public&&e.private))throw new Error("Key isn't a PPK");if(e._converted)return!1;var t,r,n=e.public,s=e.private,a=new i.Writer;if("rsa"===e.type){var c=p(n,11),h=p(n,n._pos),f=p(s,0);t=p(s,s._pos),r=p(s,s._pos);var l=p(s,s._pos),d=new o(t,256),g=new o(r,256),_=new o(f,256),E=new o(f,256);_=new Buffer(_.mod(d.subtract(o.ONE)).toByteArray()),E=new Buffer(E.mod(g.subtract(o.ONE)).toByteArray()),a.startSequence(),a.writeInt(0,i.Integer),a.writeBuffer(h,i.Integer),a.writeBuffer(c,i.Integer),a.writeBuffer(f,i.Integer),a.writeBuffer(t,i.Integer),a.writeBuffer(r,i.Integer),a.writeBuffer(_,i.Integer),a.writeBuffer(E,i.Integer),a.writeBuffer(l,i.Integer),a.endSequence()}else{t=p(n,11),r=p(n,n._pos);var A=p(n,n._pos),y=p(n,n._pos),m=p(s,0);a.startSequence(),a.writeInt(0,i.Integer),a.writeBuffer(t,i.Integer),a.writeBuffer(r,i.Integer),a.writeBuffer(A,i.Integer),a.writeBuffer(y,i.Integer),a.writeBuffer(m,i.Integer),a.endSequence()}var w=a.buffer.toString("base64").replace(u,"$1\n"),v="-----BEGIN "+("rsa"===e.type?"RSA":"DSA")+" PRIVATE KEY-----\n"+w+("\n"===w[w.length-1]?"":"\n")+"-----END "+("rsa"===e.type?"RSA":"DSA")+" PRIVATE KEY-----";return e.private=a.buffer,e.privateOrig=new Buffer(v),e._converted=!0,!0}function p(e,t,r,n,i,o){r&&!Buffer.isBuffer(r)&&"string"!=typeof r&&("number"==typeof i&&(o=i),i=n,n=r,r=void 0);var s,a,c=e.length,u=c-t;return t<0||t>=c||u<4||(s=e.readUInt32BE(t,!0))>(o||h)||u<4+s?(n&&n._cleanup(i),!1):(a=(t+=4)+s,e._pos=a,r?Buffer.isBuffer(r)?(e.copy(r,0,t,a),r):e.toString(r,t,a):e.slice(t,a))}e.exports={iv_inc:function(e){var t=12,r=0;do{if(255!==(r=e[--t]))return void(e[t]=++r);e[t]=0}while(t>4)},isStreamCipher:function(e){return a.test(e)},isGCM:function(e){return c.test(e)},readInt:function(e,t,r,n){var i=e.length;return t<0||t>=i||i-t<4?(r&&r._cleanup(n),!1):e.readUInt32BE(t,!0)},readString:p,parseKey:r(7444),genPublicKey:function(e){var t,r,n,o,s,a,c,h,f,l,d,p,g,_;if(e.private){var E,A,y=e.private,m=2;if(48!==y[0]){var w="Malformed private key (expected sequence)";throw e._decrypted&&(w+=". Bad passphrase?"),new Error(w)}if(128&y[1]&&(m+=127&y[1]),2!==y[m++])throw new Error("Malformed private key (expected integer for version)");if(128&(E=y[m++]))for(A=127&E,E=0;A>0;)E+=y[m++]*Math.pow(2,8*(A-1)),--A;if(m+=E,"rsa"===e.type){if(2!==y[m++])throw new Error("Malformed private key (expected integer for n)");if(128&(o=y[m++]))for(A=127&o,o=0;A>0;)o+=y[m++]*Math.pow(2,8*(A-1)),--A;if(n=m,m+=o,2!==y[m++])throw new Error("Malformed private key (expected integer for e)");if(128&(a=y[m++]))for(A=127&a,a=0;A>0;)a+=y[m++]*Math.pow(2,8*(A-1)),--A;s=m}else{if(2!==y[m++])throw new Error("Malformed private key (expected integer for p)");if(128&(h=y[m++]))for(A=127&h,h=0;A>0;)h+=y[m++]*Math.pow(2,8*(A-1)),--A;if(c=m,m+=h,2!==y[m++])throw new Error("Malformed private key (expected integer for q)");if(128&(l=y[m++]))for(A=127&l,l=0;A>0;)l+=y[m++]*Math.pow(2,8*(A-1)),--A;if(f=m,m+=l,2!==y[m++])throw new Error("Malformed private key (expected integer for g)");if(128&(p=y[m++]))for(A=127&p,p=0;A>0;)p+=y[m++]*Math.pow(2,8*(A-1)),--A;if(d=m,m+=p,2!==y[m++])throw new Error("Malformed private key (expected integer for y)");if(128&(_=y[m++]))for(A=127&_,_=0;A>0;)_+=y[m++]*Math.pow(2,8*(A-1)),--A;g=m,m+=_}r=11,"rsa"===e.type?((t=new Buffer(15+o+4+a)).writeUInt32BE(7,0,!0),t.write("ssh-rsa",4,7,"ascii"),t.writeUInt32BE(a,r,!0),y.copy(t,r+=4,s,s+a),t.writeUInt32BE(o,r+=a,!0),y.copy(t,r+=4,n,n+o)):((t=new Buffer(15+h+4+l+4+p+4+_)).writeUInt32BE(7,0,!0),t.write("ssh-dss",4,7,"ascii"),t.writeUInt32BE(h,r,!0),y.copy(t,r+=4,c,c+h),t.writeUInt32BE(l,r+=h,!0),y.copy(t,r+=4,f,f+l),t.writeUInt32BE(p,r+=l,!0),y.copy(t,r+=4,d,d+p),t.writeUInt32BE(_,r+=p,!0),y.copy(t,r+=4,g,g+_))}else{if(!e.public)throw new Error("Missing data generated by parseKey()");if(0!==(t=e.public)[0]||0!==t[1]||0!==t[2]||7!==t[3]||115!==t[4]||115!==t[5]||104!==t[6]||45!==t[7]||(114!==t[8]||115!==t[9]||97!==t[10])&&(100!==t[8]||115!==t[9]||115!==t[10])){var v=new Buffer(11+t.length);t.copy(v,11),v.writeUInt32BE(7,0,!0),"rsa"===e.type?v.write("ssh-rsa",4,7,"ascii"):v.write("ssh-dss",4,7,"ascii"),t=v}}r=11;var b=new i.Writer;if(b.startSequence(),"rsa"===e.type){a=t.readUInt32BE(r,!0),s=r+=4,r+=a,o=t.readUInt32BE(r,!0),n=r+=4;var I=t.slice(s,s+a),S=t.slice(n,n+o);b.startSequence(),b.writeOID("1.2.840.113549.1.1.1"),b.writeNull(),b.endSequence(),b.startSequence(i.BitString),b.writeByte(0),b.startSequence(),b.writeBuffer(S,i.Integer),b.writeBuffer(I,i.Integer),b.endSequence(),b.endSequence()}else{h=t.readUInt32BE(r,!0),c=r+=4,r+=h,l=t.readUInt32BE(r,!0),f=r+=4,r+=l,p=t.readUInt32BE(r,!0),d=r+=4,r+=p,_=t.readUInt32BE(r,!0),g=r+=4,r=t.slice(c,c+h);var B=t.slice(f,f+l),k=t.slice(d,d+p),C=t.slice(g,g+_);b.startSequence(),b.writeOID("1.2.840.10040.4.1"),b.startSequence(),b.writeBuffer(r,i.Integer),b.writeBuffer(B,i.Integer),b.writeBuffer(k,i.Integer),b.endSequence(),b.endSequence(),b.startSequence(i.BitString),b.writeByte(0),b.writeBuffer(C,i.Integer),b.endSequence()}b.endSequence();var R=b.buffer.toString("base64").replace(u,"$1\n"),N="-----BEGIN PUBLIC KEY-----\n"+R+("\n"===R[R.length-1]?"":"\n")+"-----END PUBLIC KEY-----";return{type:e.type,fulltype:"ssh-"+e.type,public:t,publicOrig:new Buffer(N)}},convertPPKPrivate:d,verifyPPKMAC:l,decryptKey:function(e,t){if(!e._decrypted&&e.encryption){var r,i,o,a,c=0;switch(e.encryption=s[e.encryption]||e.encryption,e.encryption){case"aes-256-cbc":case"aes-256-ctr":c=32;break;case"des-ede3-cbc":case"des-ede3":case"aes-192-cbc":case"aes-192-ctr":c=24;break;case"aes-128-cbc":case"aes-128-ctr":case"cast-cbc":case"bf-cbc":c=16}if(e.ppk)i=f,r=n.createHash("sha1").update("\0\0\0\0"+t,"binary").digest("binary")+n.createHash("sha1").update("\0\0\0"+t,"binary").digest("binary"),r=new Buffer(r,"binary").slice(0,c);else{for(i=new Buffer(e.extra[0],"hex"),r=new Buffer(n.createHash("md5").update(t+i.toString("binary",0,8),"binary").digest("binary"),"binary");c>r.length;)r=Buffer.concat([r,new Buffer(n.createHash("md5").update(r.toString("binary")+t+i.toString("binary"),"binary").digest("binary"),"binary").slice(0,8)]);r.length>c&&(r=r.slice(0,c))}if((a=n.createDecipheriv(e.encryption,r,i)).setAutoPadding(!1),o=a.update(e.private,"binary","binary"),o+=a.final("binary"),e.private=new Buffer(o,"binary"),e._decrypted=!0,e.privateOrig){var u=e.privateOrig.toString("utf8"),h=/^(.+(?:\r\n|\n))/.exec(u)[1];h+=new Buffer(o,"binary").toString("base64").match(/.{1,70}/g).join("\n"),h+=/((?:\r\n|\n).+)$/.exec(u)[1],e.privateOrig=h}else if(e.ppk){if(!l(e,t,e.private))throw new Error("PPK MAC mismatch");d(e)}}}}},4016:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function r(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||n)}e.exports="win32"===process.platform?r:t,e.exports.posix=t,e.exports.win32=r},4172:(e,t,r)=>{"use strict";const{bufferSlice:n,bufferParser:i,doFatalError:o,sigSSHToASN1:s,writeUInt32BE:a}=r(2024),{CHANNEL_OPEN_FAILURE:c,COMPAT:u,MESSAGE:h,TERMINAL_MODE:f}=r(468),{parseKey:l}=r(8717),d=Array.from(Object.entries(f)).reduce((e,[t,r])=>({...e,[t]:r}),{});e.exports={[h.DISCONNECT]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE(),n=i.readString(!0),s=i.readString();if(i.clear(),void 0===s)return o(e,"Inbound: Malformed DISCONNECT packet");e._debug&&e._debug(`Inbound: Received DISCONNECT (${r}, "${n}")`);const a=e._handlers.DISCONNECT;a&&a(e,r,n)},[h.IGNORE]:(e,t)=>{e._debug&&e._debug("Inbound: Received IGNORE")},[h.UNIMPLEMENTED]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE();if(i.clear(),void 0===r)return o(e,"Inbound: Malformed UNIMPLEMENTED packet");e._debug&&e._debug(`Inbound: Received UNIMPLEMENTED (seqno ${r})`)},[h.DEBUG]:(e,t)=>{i.init(t,1);const r=i.readBool(),n=i.readString(!0),s=i.readString();if(i.clear(),void 0===s)return o(e,"Inbound: Malformed DEBUG packet");e._debug&&e._debug("Inbound: Received DEBUG");const a=e._handlers.DEBUG;a&&a(e,r,n)},[h.SERVICE_REQUEST]:(e,t)=>{i.init(t,1);const r=i.readString(!0);if(i.clear(),void 0===r)return o(e,"Inbound: Malformed SERVICE_REQUEST packet");e._debug&&e._debug(`Inbound: Received SERVICE_REQUEST (${r})`);const n=e._handlers.SERVICE_REQUEST;n&&n(e,r)},[h.SERVICE_ACCEPT]:(e,t)=>{i.init(t,1);const r=i.readString(!0);if(i.clear(),void 0===r)return o(e,"Inbound: Malformed SERVICE_ACCEPT packet");e._debug&&e._debug(`Inbound: Received SERVICE_ACCEPT (${r})`);const n=e._handlers.SERVICE_ACCEPT;n&&n(e,r)},[h.EXT_INFO]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE();let n;if(void 0!==r){n=[];for(let e=0;e<r;++e){const e=i.readString(!0),t=i.readString();if(void 0===t){n=void 0;break}if("server-sig-algs"===e){const r=t.latin1Slice(0,t.length).split(",");n.push({name:e,algs:r});continue}}}if(i.clear(),void 0===n)return o(e,"Inbound: Malformed EXT_INFO packet");e._debug&&e._debug("Inbound: Received EXT_INFO");const s=e._handlers.EXT_INFO;s&&s(e,n)},[h.USERAUTH_REQUEST]:(e,t)=>{i.init(t,1);const r=i.readString(!0),c=i.readString(!0),u=i.readString(!0);let h,f;switch(u){case"none":h=null;break;case"password":{const e=i.readBool();if(void 0!==e&&(h=i.readString(!0),void 0!==h&&e)){const e=i.readString(!0);h=void 0!==e?{oldPassword:h,newPassword:e}:void 0}break}case"publickey":{const r=i.readBool();if(void 0!==r){const o=i.readString(!0);let c=o;const u=i.readString();let l;switch(o){case"rsa-sha2-256":c="ssh-rsa",l="sha256";break;case"rsa-sha2-512":c="ssh-rsa",l="sha512"}if(r){const r=i.pos();let f=i.readString();if(void 0!==f&&(f.length>4+o.length+4&&f.utf8Slice(4,4+o.length)===o&&(f=n(f,4+o.length+4)),f=s(f,c),f)){const n=e._kex.sessionID,i=Buffer.allocUnsafe(4+n.length+r);a(i,n.length,0),i.set(n,4),i.set(new Uint8Array(t.buffer,t.byteOffset,r),4+n.length),h={keyAlgo:c,key:u,signature:f,blob:i,hashAlgo:l}}}else h={keyAlgo:c,key:u,hashAlgo:l},f="publickey -- check"}break}case"hostbased":{const r=i.readString(!0);let o=r;const c=i.readString(),u=i.readString(!0),f=i.readString(!0);let l;switch(r){case"rsa-sha2-256":o="ssh-rsa",l="sha256";break;case"rsa-sha2-512":o="ssh-rsa",l="sha512"}const d=i.pos();let p=i.readString();if(void 0!==p&&(p.length>4+r.length+4&&p.utf8Slice(4,4+r.length)===r&&(p=n(p,4+r.length+4)),p=s(p,o),void 0!==p)){const r=e._kex.sessionID,n=Buffer.allocUnsafe(4+r.length+d);a(n,r.length,0),n.set(r,4),n.set(new Uint8Array(t.buffer,t.byteOffset,d),4+r.length),h={keyAlgo:o,key:c,signature:p,blob:n,localHostname:u,localUsername:f,hashAlgo:l}}break}case"keyboard-interactive":i.skipString(),h=i.readList();break;default:void 0!==u&&(h=i.readRaw())}if(i.clear(),void 0===h)return o(e,"Inbound: Malformed USERAUTH_REQUEST packet");void 0===f&&(f=u),e._authsQueue.push(u),e._debug&&e._debug(`Inbound: Received USERAUTH_REQUEST (${f})`);const l=e._handlers.USERAUTH_REQUEST;l&&l(e,r,c,u,h)},[h.USERAUTH_FAILURE]:(e,t)=>{i.init(t,1);const r=i.readList(),n=i.readBool();if(i.clear(),void 0===n)return o(e,"Inbound: Malformed USERAUTH_FAILURE packet");e._debug&&e._debug(`Inbound: Received USERAUTH_FAILURE (${r})`),e._authsQueue.shift();const s=e._handlers.USERAUTH_FAILURE;s&&s(e,r,n)},[h.USERAUTH_SUCCESS]:(e,t)=>{e._debug&&e._debug("Inbound: Received USERAUTH_SUCCESS"),e._authsQueue.shift();const r=e._handlers.USERAUTH_SUCCESS;r&&r(e)},[h.USERAUTH_BANNER]:(e,t)=>{i.init(t,1);const r=i.readString(!0),n=i.readString();if(i.clear(),void 0===n)return o(e,"Inbound: Malformed USERAUTH_BANNER packet");e._debug&&e._debug("Inbound: Received USERAUTH_BANNER");const s=e._handlers.USERAUTH_BANNER;s&&s(e,r)},60:(e,t)=>{if(e._authsQueue.length)switch(e._authsQueue[0]){case"password":{i.init(t,1);const r=i.readString(!0),n=i.readString();if(i.clear(),void 0===n)return o(e,"Inbound: Malformed USERAUTH_PASSWD_CHANGEREQ packet");e._debug&&e._debug("Inbound: Received USERAUTH_PASSWD_CHANGEREQ");const s=e._handlers.USERAUTH_PASSWD_CHANGEREQ;s&&s(e,r);break}case"publickey":{i.init(t,1);const r=i.readString(!0),n=i.readString();if(i.clear(),void 0===n)return o(e,"Inbound: Malformed USERAUTH_PK_OK packet");e._debug&&e._debug("Inbound: Received USERAUTH_PK_OK"),e._authsQueue.shift();const s=e._handlers.USERAUTH_PK_OK;s&&s(e,r,n);break}case"keyboard-interactive":{i.init(t,1);const r=i.readString(!0),n=i.readString(!0);i.readString();const s=i.readUInt32BE();let a;if(void 0!==s){let e;for(a=new Array(s),e=0;e<s;++e){const t=i.readString(!0),r=i.readBool();if(void 0===r)break;a[e]={prompt:t,echo:r}}e!==s&&(a=void 0)}if(i.clear(),void 0===a)return o(e,"Inbound: Malformed USERAUTH_INFO_REQUEST packet");e._debug&&e._debug("Inbound: Received USERAUTH_INFO_REQUEST");const c=e._handlers.USERAUTH_INFO_REQUEST;c&&c(e,r,n,a);break}default:e._debug&&e._debug("Inbound: Received unexpected payload type 60")}else e._debug&&e._debug("Inbound: Received payload type 60 without auth")},61:(e,t)=>{if(!e._authsQueue.length)return void(e._debug&&e._debug("Inbound: Received payload type 61 without auth"));if("keyboard-interactive"!==e._authsQueue[0])return o(e,"Inbound: Received unexpected payload type 61");i.init(t,1);const r=i.readUInt32BE();let n;if(void 0!==r){let e;for(n=new Array(r),e=0;e<r;++e){const t=i.readString(!0);if(void 0===t)break;n[e]=t}e!==r&&(n=void 0)}if(i.clear(),void 0===n)return o(e,"Inbound: Malformed USERAUTH_INFO_RESPONSE packet");e._debug&&e._debug("Inbound: Received USERAUTH_INFO_RESPONSE");const s=e._handlers.USERAUTH_INFO_RESPONSE;s&&s(e,n)},[h.GLOBAL_REQUEST]:(e,t)=>{i.init(t,1);const r=i.readString(!0),n=i.readBool();let s;if(void 0!==n)switch(r){case"tcpip-forward":case"cancel-tcpip-forward":{const e=i.readString(!0),t=i.readUInt32BE();void 0!==t&&(s={bindAddr:e,bindPort:t});break}case"streamlocal-forward@openssh.com":case"cancel-streamlocal-forward@openssh.com":{const e=i.readString(!0);void 0!==e&&(s={socketPath:e});break}case"no-more-sessions@openssh.com":s=null;break;case"hostkeys-00@openssh.com":for(s=[];i.avail()>0;){const e=i.readString();if(void 0===e){s=void 0;break}const t=l(e);t instanceof Error||s.push(t)}break;default:s=i.readRaw()}if(i.clear(),void 0===s)return o(e,"Inbound: Malformed GLOBAL_REQUEST packet");e._debug&&e._debug(`Inbound: GLOBAL_REQUEST (${r})`);const a=e._handlers.GLOBAL_REQUEST;a?a(e,r,n,s):e.requestFailure()},[h.REQUEST_SUCCESS]:(e,t)=>{const r=t.length>1?n(t,1):null;e._debug&&e._debug("Inbound: REQUEST_SUCCESS");const i=e._handlers.REQUEST_SUCCESS;i&&i(e,r)},[h.REQUEST_FAILURE]:(e,t)=>{e._debug&&e._debug("Inbound: Received REQUEST_FAILURE");const r=e._handlers.REQUEST_FAILURE;r&&r(e)},[h.CHANNEL_OPEN]:(e,t)=>{i.init(t,1);const r=i.readString(!0),n=i.readUInt32BE(),s=i.readUInt32BE(),a=i.readUInt32BE();let u;switch(r){case"forwarded-tcpip":case"direct-tcpip":{const e=i.readString(!0),t=i.readUInt32BE(),o=i.readString(!0),c=i.readUInt32BE();void 0!==c&&(u={type:r,sender:n,window:s,packetSize:a,data:{destIP:e,destPort:t,srcIP:o,srcPort:c}});break}case"forwarded-streamlocal@openssh.com":case"direct-streamlocal@openssh.com":{const e=i.readString(!0);void 0!==e&&(u={type:r,sender:n,window:s,packetSize:a,data:{socketPath:e}});break}case"x11":{const e=i.readString(!0),t=i.readUInt32BE();void 0!==t&&(u={type:r,sender:n,window:s,packetSize:a,data:{srcIP:e,srcPort:t}});break}default:u={type:r,sender:n,window:s,packetSize:a,data:{}}}if(i.clear(),void 0===u)return o(e,"Inbound: Malformed CHANNEL_OPEN packet");e._debug&&e._debug(`Inbound: CHANNEL_OPEN (s:${n}, ${r})`);const h=e._handlers.CHANNEL_OPEN;h?h(e,u):e.channelOpenFail(u.sender,c.ADMINISTRATIVELY_PROHIBITED,"","")},[h.CHANNEL_OPEN_CONFIRMATION]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE(),n=i.readUInt32BE(),s=i.readUInt32BE(),a=i.readUInt32BE(),c=i.avail()?i.readRaw():void 0;if(i.clear(),void 0===a)return o(e,"Inbound: Malformed CHANNEL_OPEN_CONFIRMATION packet");e._debug&&e._debug(`Inbound: CHANNEL_OPEN_CONFIRMATION (r:${r}, s:${n})`);const u=e._handlers.CHANNEL_OPEN_CONFIRMATION;u&&u(e,{recipient:r,sender:n,window:s,packetSize:a,data:c})},[h.CHANNEL_OPEN_FAILURE]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE(),n=i.readUInt32BE(),s=i.readString(!0),a=i.readString();if(i.clear(),void 0===a)return o(e,"Inbound: Malformed CHANNEL_OPEN_FAILURE packet");e._debug&&e._debug(`Inbound: CHANNEL_OPEN_FAILURE (r:${r})`);const c=e._handlers.CHANNEL_OPEN_FAILURE;c&&c(e,r,n,s)},[h.CHANNEL_WINDOW_ADJUST]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE(),n=i.readUInt32BE();if(i.clear(),void 0===n)return o(e,"Inbound: Malformed CHANNEL_WINDOW_ADJUST packet");e._debug&&e._debug(`Inbound: CHANNEL_WINDOW_ADJUST (r:${r}, ${n})`);const s=e._handlers.CHANNEL_WINDOW_ADJUST;s&&s(e,r,n)},[h.CHANNEL_DATA]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE(),n=i.readString();if(i.clear(),void 0===n)return o(e,"Inbound: Malformed CHANNEL_DATA packet");e._debug&&e._debug(`Inbound: CHANNEL_DATA (r:${r}, ${n.length})`);const s=e._handlers.CHANNEL_DATA;s&&s(e,r,n)},[h.CHANNEL_EXTENDED_DATA]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE(),n=i.readUInt32BE(),s=i.readString();if(i.clear(),void 0===s)return o(e,"Inbound: Malformed CHANNEL_EXTENDED_DATA packet");e._debug&&e._debug(`Inbound: CHANNEL_EXTENDED_DATA (r:${r}, ${s.length})`);const a=e._handlers.CHANNEL_EXTENDED_DATA;a&&a(e,r,s,n)},[h.CHANNEL_EOF]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE();if(i.clear(),void 0===r)return o(e,"Inbound: Malformed CHANNEL_EOF packet");e._debug&&e._debug(`Inbound: CHANNEL_EOF (r:${r})`);const n=e._handlers.CHANNEL_EOF;n&&n(e,r)},[h.CHANNEL_CLOSE]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE();if(i.clear(),void 0===r)return o(e,"Inbound: Malformed CHANNEL_CLOSE packet");e._debug&&e._debug(`Inbound: CHANNEL_CLOSE (r:${r})`);const n=e._handlers.CHANNEL_CLOSE;n&&n(e,r)},[h.CHANNEL_REQUEST]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE(),n=i.readString(!0),s=i.readBool();let a;if(void 0!==s)switch(n){case"exit-status":a=i.readUInt32BE(),e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n}: ${a})`);break;case"exit-signal":{let t,o;if(e._compatFlags&u.OLD_EXIT){const e=i.readUInt32BE();switch(e){case 1:t="HUP";break;case 2:t="INT";break;case 3:t="QUIT";break;case 6:t="ABRT";break;case 9:t="KILL";break;case 14:t="ALRM";break;case 15:t="TERM";break;default:void 0!==e&&(t=`UNKNOWN (${e})`)}o=!1}else t=i.readString(!0),o=i.readBool(),void 0===o&&(t=void 0);const s=i.readString(!0);void 0!==i.skipString()&&(a={signal:t,coreDumped:o,errorMessage:s}),e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n}: ${t})`);break}case"pty-req":{const t=i.readString(!0),o=i.readUInt32BE(),s=i.readUInt32BE(),c=i.readUInt32BE(),u=i.readUInt32BE(),h=i.readString();if(void 0!==h){i.init(h,1);let e={};for(;i.avail();){const t=i.readByte();if(t===f.TTY_OP_END)break;const r=d[t],n=i.readUInt32BE();if(void 0===t||void 0===r||void 0===n){e=void 0;break}e[r]=n}void 0!==e&&(a={term:t,cols:o,rows:s,width:c,height:u,modes:e})}e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n})`);break}case"window-change":{const t=i.readUInt32BE(),o=i.readUInt32BE(),s=i.readUInt32BE(),c=i.readUInt32BE();void 0!==c&&(a={cols:t,rows:o,width:s,height:c}),e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n})`);break}case"x11-req":{const t=i.readBool(),o=i.readString(!0),s=i.readString(),c=i.readUInt32BE();void 0!==c&&(a={single:t,protocol:o,cookie:s,screen:c}),e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n})`);break}case"env":{const t=i.readString(!0),o=i.readString(!0);void 0!==o&&(a={name:t,value:o}),e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n}: ${t}=${o})`);break}case"shell":case"auth-agent-req@openssh.com":a=null,e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n})`);break;case"exec":case"subsystem":case"signal":a=i.readString(!0),e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n}: ${a})`);break;case"xon-xoff":a=i.readBool(),e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n}: ${a})`);break;default:a=i.avail()?i.readRaw():null,e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${r}, ${n})`)}if(i.clear(),void 0===a)return o(e,"Inbound: Malformed CHANNEL_REQUEST packet");const c=e._handlers.CHANNEL_REQUEST;c&&c(e,r,n,s,a)},[h.CHANNEL_SUCCESS]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE();if(i.clear(),void 0===r)return o(e,"Inbound: Malformed CHANNEL_SUCCESS packet");e._debug&&e._debug(`Inbound: CHANNEL_SUCCESS (r:${r})`);const n=e._handlers.CHANNEL_SUCCESS;n&&n(e,r)},[h.CHANNEL_FAILURE]:(e,t)=>{i.init(t,1);const r=i.readUInt32BE();if(i.clear(),void 0===r)return o(e,"Inbound: Malformed CHANNEL_FAILURE packet");e._debug&&e._debug(`Inbound: CHANNEL_FAILURE (r:${r})`);const n=e._handlers.CHANNEL_FAILURE;n&&n(e,r)}}},4316:(e,t,r)=>{"use strict";const n=r(6928);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(n.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},4321:(e,t,r)=>{"use strict";const{inspect:n}=r(9023),{bindingAvailable:i,NullCipher:o,NullDecipher:s}=r(4632),{COMPAT_CHECKS:a,DISCONNECT_REASON:c,eddsaSupported:u,MESSAGE:h,SIGNALS:f,TERMINAL_MODE:l}=r(468),{DEFAULT_KEXINIT_CLIENT:d,DEFAULT_KEXINIT_SERVER:p,KexInit:g,kexinit:_,onKEXPayload:E}=r(4989),{parseKey:A}=r(8717),y=r(7516),{bufferCopy:m,bufferFill:w,bufferSlice:v,convertSignature:b,sendPacket:I,writeUInt32BE:S}=r(2024),{PacketReader:B,PacketWriter:k,ZlibPacketReader:C,ZlibPacketWriter:R}=r(1760),N=r(8342).rE,U=new Map(Object.values(c).map(e=>[e,1])),T=Buffer.from(`SSH-2.0-ssh2js${N}`),O=Buffer.from(`${T}\r\n`),L=Buffer.from([h.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]),D=Buffer.from([l.TTY_OP_END]);function P(){}const x=/^SSH-(2\.0|1\.99)-([^ ]+)(?: (.*))?$/;function H(e,t,r){let i,o;this._buffer?(i=Buffer.allocUnsafe(this._buffer.length+(r-t)),i.set(this._buffer,0),0===t?i.set(e,this._buffer.length):i.set(new Uint8Array(e.buffer,e.byteOffset+t,r-t),this._buffer.length),o=this._buffer.length,t=0):(i=e,o=0);const a=t;let c=t,u=t,h=!1,f=0,l=0;for(;t<i.length;++t){const e=i[t];if(13!==e){if(10===e){if(u>c&&u-c>4&&83===i[c]&&83===i[c+1]&&72===i[c+2]&&45===i[c+3]){const e=i.latin1Slice(a,u+1),h=c===a?e:e.slice(c-a),f=x.exec(h);if(!f)throw new Error("Invalid identification string");const l={greeting:c===a?"":e.slice(0,c-a),identRaw:h,versions:{protocol:f[1],software:f[2]},comments:f[3]};return this._remoteIdentRaw=Buffer.from(h),this._debug&&this._debug(`Remote ident: ${n(h)}`),this._compatFlags=M(l),this._buffer=void 0,this._decipher=new s(0,E.bind(this,{firstPacket:!0})),this._parse=Q,this._onHeader(l),this._destruct?(_(this),t+1-o):r}if(this._server)throw new Error("Greetings from clients not permitted");if(++l>1024)throw new Error("Max greeting lines exceeded");h=!1,c=t+1,f=0}else{if(h)throw new Error("Invalid header: expected newline");if(++f>=8192)throw new Error("Header line too long")}u=t}else h=!0}return this._buffer||(this._buffer=v(i,a)),t-o}function Q(e,t,r){return this._decipher.decrypt(e,t,r)}function F(e){if(this._onPacket(),0===e.length)return void(this._debug&&this._debug("Inbound: Skipping empty packet payload"));const t=(e=this._packetRW.read.read(e))[0];t!==h.USERAUTH_SUCCESS||this._server||this._authenticated||(this._authenticated=!0,"zlib@openssh.com"===this._kex.negotiated.cs.compress&&(this._packetRW.write=new R(this)),"zlib@openssh.com"===this._kex.negotiated.sc.compress&&(this._packetRW.read=new C));const r=y[t];if(void 0!==r)return r(this,e);this._debug&&this._debug(`Inbound: Unsupported message type: ${t}`)}function M(e){const t=e.versions.software;let r=0;for(const e of a)"string"==typeof e[0]?t===e[0]&&(r|=e[1]):e[0].test(t)&&(r|=e[1]);return r}e.exports=class{constructor(e){const t=e.onWrite;if("function"!=typeof t)throw new Error("Missing onWrite function");this._onWrite=e=>{t(e)};const r=e.onError;if("function"!=typeof r)throw new Error("Missing onError function");this._onError=e=>{r(e)};const s=e.debug;this._debug="function"==typeof s?e=>{s(e)}:void 0;const a=e.onHeader;this._onHeader="function"==typeof a?(...e)=>{a(...e)}:P;const c=e.onPacket;this._onPacket="function"==typeof c?()=>{c()}:P;let f,l=e.onHandshakeComplete;"function"!=typeof l&&(l=P),this._onHandshakeComplete=(...e)=>{this._debug&&this._debug("Handshake completed"),f=void 0===f;const t=this._queue;if(t){this._queue=void 0,this._debug&&this._debug(`Draining outbound queue (${t.length}) ...`);for(let e=0;e<t.length;++e){const r=t[e];let n=this._packetRW.write.finalize(r);if(n===r){const e=this._cipher.allocPacket(r.length);e.set(r,5),n=e}I(this,n)}this._debug&&this._debug("... finished draining outbound queue")}f&&this._server&&this._kex.remoteExtInfoEnabled&&function(e){let t="ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521rsa-sha2-512,rsa-sha2-256,ssh-rsa,ssh-dss";u&&(t=`ssh-ed25519,${t}`);const r=Buffer.byteLength(t);let n=e._packetRW.write.allocStart;const i=e._packetRW.write.alloc(28+r);i[n]=h.EXT_INFO,S(i,1,++n),S(i,15,n+=4),i.utf8Write("server-sig-algs",n+=4,15),S(i,r,n+=15),i.utf8Write(t,n+=4,r),e._debug&&e._debug("Outbound: Sending EXT_INFO"),I(e,e._packetRW.write.finalize(i))}(this),l(...e)},this._queue=void 0;const _=e.messageHandlers;let E;if(this._handlers="object"==typeof _&&null!==_?_:{},this._onPayload=F.bind(this),this._server=!!e.server,this._banner=void 0,this._server){if("object"!=typeof e.hostKeys||null===e.hostKeys)throw new Error("Missing server host key(s)");this._hostKeys=e.hostKeys,"string"==typeof e.greeting&&e.greeting.length&&(E="\r\n"===e.greeting.slice(-2)?e.greeting:`${e.greeting}\r\n`),"string"==typeof e.banner&&e.banner.length&&(this._banner="\r\n"===e.banner.slice(-2)?e.banner:`${e.banner}\r\n`)}else this._hostKeys=void 0;let A,y=e.offer;if("object"!=typeof y||null===y?y=this._server?p:d:y.constructor!==g&&(this._server?y.kex=y.kex.concat(["kex-strict-s-v00@openssh.com"]):y.kex=y.kex.concat(["ext-info-c","kex-strict-c-v00@openssh.com"]),y=new g(y)),this._kex=void 0,this._strictMode=void 0,this._kexinit=void 0,this._offer=y,this._cipher=new o(0,this._onWrite),this._decipher=void 0,this._skipNextInboundPacket=!1,this._packetRW={read:new B,write:new k(this)},this._hostVerifier=this._server||"function"!=typeof e.hostVerifier?void 0:e.hostVerifier,this._parse=H,this._buffer=void 0,this._authsQueue=[],this._authenticated=!1,this._remoteIdentRaw=void 0,"string"==typeof e.ident)this._identRaw=Buffer.from(`SSH-2.0-${e.ident}`),A=Buffer.allocUnsafe(this._identRaw.length+2),A.set(this._identRaw,0),A[A.length-2]=13,A[A.length-1]=10;else if(Buffer.isBuffer(e.ident)){const t=Buffer.allocUnsafe(8+e.ident.length);t.latin1Write("SSH-2.0-",0,8),t.set(e.ident,8),this._identRaw=t,A=Buffer.allocUnsafe(t.length+2),A.set(t,0),A[A.length-2]=13,A[A.length-1]=10}else this._identRaw=T,A=O;this._compatFlags=0,this._debug&&(i?this._debug("Custom crypto binding available"):this._debug("Custom crypto binding not available")),this._debug&&this._debug(`Local ident: ${n(this._identRaw.toString())}`),this.start=()=>{this.start=void 0,E&&this._onWrite(E),this._onWrite(A)}}_destruct(e){this._packetRW.read.cleanup(),this._packetRW.write.cleanup(),this._cipher&&this._cipher.free(),this._decipher&&this._decipher.free(),"string"==typeof e&&0!==e.length||(e="fatal error"),this.parse=()=>{throw new Error(`Instance unusable after ${e}`)},this._onWrite=()=>{throw new Error(`Instance unusable after ${e}`)},this._destruct=void 0}cleanup(){this._destruct&&this._destruct()}parse(e,t,r){for(;t<r;)t=this._parse(e,t,r)}disconnect(e){let t=this._packetRW.write.allocStartKEX;const r=this._packetRW.write.alloc(13,!0),n=t+13;U.has(e)||(e=c.PROTOCOL_ERROR),r[t]=h.DISCONNECT,S(r,e,++t),r.fill(0,t+=4,n),this._debug&&this._debug(`Outbound: Sending DISCONNECT (${e})`),I(this,this._packetRW.write.finalize(r,!0),!0)}ping(){const e=this._packetRW.write.allocStart,t=this._packetRW.write.alloc(L.length);t.set(L,e),this._debug&&this._debug("Outbound: Sending ping (GLOBAL_REQUEST: keepalive@openssh.com)"),I(this,this._packetRW.write.finalize(t))}rekey(){void 0===this._kexinit?(this._debug&&this._debug("Outbound: Initiated explicit rekey"),this._queue=[],_(this)):this._debug&&this._debug("Outbound: Ignoring rekey during handshake")}requestSuccess(e){let t,r=this._packetRW.write.allocStart;Buffer.isBuffer(e)?(t=this._packetRW.write.alloc(1+e.length),t[r]=h.REQUEST_SUCCESS,t.set(e,++r)):(t=this._packetRW.write.alloc(1),t[r]=h.REQUEST_SUCCESS),this._debug&&this._debug("Outbound: Sending REQUEST_SUCCESS"),I(this,this._packetRW.write.finalize(t))}requestFailure(){const e=this._packetRW.write.allocStart,t=this._packetRW.write.alloc(1);t[e]=h.REQUEST_FAILURE,this._debug&&this._debug("Outbound: Sending REQUEST_FAILURE"),I(this,this._packetRW.write.finalize(t))}channelSuccess(e){let t=this._packetRW.write.allocStart;const r=this._packetRW.write.alloc(5);r[t]=h.CHANNEL_SUCCESS,S(r,e,++t),this._debug&&this._debug(`Outbound: Sending CHANNEL_SUCCESS (r:${e})`),I(this,this._packetRW.write.finalize(r))}channelFailure(e){let t=this._packetRW.write.allocStart;const r=this._packetRW.write.alloc(5);r[t]=h.CHANNEL_FAILURE,S(r,e,++t),this._debug&&this._debug(`Outbound: Sending CHANNEL_FAILURE (r:${e})`),I(this,this._packetRW.write.finalize(r))}channelEOF(e){let t=this._packetRW.write.allocStart;const r=this._packetRW.write.alloc(5);r[t]=h.CHANNEL_EOF,S(r,e,++t),this._debug&&this._debug(`Outbound: Sending CHANNEL_EOF (r:${e})`),I(this,this._packetRW.write.finalize(r))}channelClose(e){let t=this._packetRW.write.allocStart;const r=this._packetRW.write.alloc(5);r[t]=h.CHANNEL_CLOSE,S(r,e,++t),this._debug&&this._debug(`Outbound: Sending CHANNEL_CLOSE (r:${e})`),I(this,this._packetRW.write.finalize(r))}channelWindowAdjust(e,t){let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(9);n[r]=h.CHANNEL_WINDOW_ADJUST,S(n,e,++r),S(n,t,r+=4),this._debug&&this._debug(`Outbound: Sending CHANNEL_WINDOW_ADJUST (r:${e}, ${t})`),I(this,this._packetRW.write.finalize(n))}channelData(e,t){const r=Buffer.isBuffer(t),n=r?t.length:Buffer.byteLength(t);let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(9+n);o[i]=h.CHANNEL_DATA,S(o,e,++i),S(o,n,i+=4),r?o.set(t,i+=4):o.utf8Write(t,i+=4,n),this._debug&&this._debug(`Outbound: Sending CHANNEL_DATA (r:${e}, ${n})`),I(this,this._packetRW.write.finalize(o))}channelExtData(e,t,r){const n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t);let o=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(13+i);s[o]=h.CHANNEL_EXTENDED_DATA,S(s,e,++o),S(s,r,o+=4),S(s,i,o+=4),n?s.set(t,o+=4):s.utf8Write(t,o+=4,i),this._debug&&this._debug(`Outbound: Sending CHANNEL_EXTENDED_DATA (r:${e})`),I(this,this._packetRW.write.finalize(s))}channelOpenConfirm(e,t,r,n){let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(17);o[i]=h.CHANNEL_OPEN_CONFIRMATION,S(o,e,++i),S(o,t,i+=4),S(o,r,i+=4),S(o,n,i+=4),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN_CONFIRMATION (r:${e}, l:${t})`),I(this,this._packetRW.write.finalize(o))}channelOpenFail(e,t,r){"string"!=typeof r&&(r="");const n=Buffer.byteLength(r);let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(13+n+4);o[i]=h.CHANNEL_OPEN_FAILURE,S(o,e,++i),S(o,t,i+=4),S(o,n,i+=4),i+=4,n&&(o.utf8Write(r,i,n),i+=n),S(o,0,i),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN_FAILURE (r:${e})`),I(this,this._packetRW.write.finalize(o))}service(e){if(this._server)throw new Error("Client-only method called in server mode");const t=Buffer.byteLength(e);let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(5+t);n[r]=h.SERVICE_REQUEST,S(n,t,++r),n.utf8Write(e,r+=4,t),this._debug&&this._debug(`Outbound: Sending SERVICE_REQUEST (${e})`),I(this,this._packetRW.write.finalize(n))}authPassword(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e),i=Buffer.byteLength(t),o=r?Buffer.byteLength(r):0;let s=this._packetRW.write.allocStart;const a=this._packetRW.write.alloc(5+n+4+14+4+8+1+4+i+(r?4+o:0));a[s]=h.USERAUTH_REQUEST,S(a,n,++s),a.utf8Write(e,s+=4,n),S(a,14,s+=n),a.utf8Write("ssh-connection",s+=4,14),S(a,8,s+=14),a.utf8Write("password",s+=4,8),a[s+=8]=r?1:0,S(a,i,++s),Buffer.isBuffer(t)?m(t,a,0,i,s+=4):a.utf8Write(t,s+=4,i),r?(S(a,o,s+=i),Buffer.isBuffer(r)?m(r,a,0,o,s+=4):a.utf8Write(r,s+=4,o),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (changed password)")):this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (password)"),this._authsQueue.push("password"),I(this,this._packetRW.write.finalize(a))}authPK(e,t,r,n){if(this._server)throw new Error("Client-only method called in server mode");if((t=A(t))instanceof Error)throw new Error("Invalid key");const i=t.type;t=t.getPublicSSH(),"function"==typeof r&&(n=r,r=void 0),r||(r=i);const o=Buffer.byteLength(e),s=Buffer.byteLength(r),a=t.length,c=this._kex.sessionID,u=c.length,f=(n?4+u:0)+1+4+o+4+14+4+9+1+4+s+4+a;let l,d;if(n?(l=Buffer.allocUnsafe(f),d=0,S(l,u,d),l.set(c,d+=4),d+=u):(l=this._packetRW.write.alloc(f),d=this._packetRW.write.allocStart),l[d]=h.USERAUTH_REQUEST,S(l,o,++d),l.utf8Write(e,d+=4,o),S(l,14,d+=o),l.utf8Write("ssh-connection",d+=4,14),S(l,9,d+=14),l.utf8Write("publickey",d+=4,9),l[d+=9]=n?1:0,S(l,s,++d),l.utf8Write(r,d+=4,s),S(l,a,d+=s),l.set(t,d+=4),!n)return this._authsQueue.push("publickey"),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (publickey -- check)"),void I(this,this._packetRW.write.finalize(l));n(l,n=>{if(!1===(n=b(n,i)))throw new Error("Error while converting handshake signature");const c=n.length;d=this._packetRW.write.allocStart,l=this._packetRW.write.alloc(5+o+4+14+4+9+1+4+s+4+a+4+4+s+4+c),l[d]=h.USERAUTH_REQUEST,S(l,o,++d),l.utf8Write(e,d+=4,o),S(l,14,d+=o),l.utf8Write("ssh-connection",d+=4,14),S(l,9,d+=14),l.utf8Write("publickey",d+=4,9),l[d+=9]=1,S(l,s,++d),l.utf8Write(r,d+=4,s),S(l,a,d+=s),l.set(t,d+=4),S(l,4+s+4+c,d+=a),S(l,s,d+=4),l.utf8Write(r,d+=4,s),S(l,c,d+=s),l.set(n,d+=4),this._authsQueue.push("publickey"),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (publickey)"),I(this,this._packetRW.write.finalize(l))})}authHostbased(e,t,r,n,i,o){if(this._server)throw new Error("Client-only method called in server mode");if((t=A(t))instanceof Error)throw new Error("Invalid key");const s=t.type;t=t.getPublicSSH(),"function"==typeof i&&(o=i,i=void 0),i||(i=s);const a=Buffer.byteLength(e),c=Buffer.byteLength(i),u=t.length,f=this._kex.sessionID,l=f.length,d=Buffer.byteLength(r),p=Buffer.byteLength(n),g=Buffer.allocUnsafe(4+l+1+4+a+4+14+4+9+4+c+4+u+4+d+4+p);let _=0;S(g,l,_),g.set(f,_+=4),g[_+=l]=h.USERAUTH_REQUEST,S(g,a,++_),g.utf8Write(e,_+=4,a),S(g,14,_+=a),g.utf8Write("ssh-connection",_+=4,14),S(g,9,_+=14),g.utf8Write("hostbased",_+=4,9),S(g,c,_+=9),g.utf8Write(i,_+=4,c),S(g,u,_+=c),g.set(t,_+=4),S(g,d,_+=u),g.utf8Write(r,_+=4,d),S(g,p,_+=d),g.utf8Write(n,_+=4,p),o(g,e=>{if(!(e=b(e,s)))throw new Error("Error while converting handshake signature");const t=e.length,r=g.length-l-4;_=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(r+4+4+c+4+t);m(g,n,4+l,g.length,_),S(n,4+c+4+t,_+=r),S(n,c,_+=4),n.utf8Write(i,_+=4,c),S(n,t,_+=c),n.set(e,_+=4),this._authsQueue.push("hostbased"),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (hostbased)"),I(this,this._packetRW.write.finalize(n))})}authKeyboard(e){if(this._server)throw new Error("Client-only method called in server mode");const t=Buffer.byteLength(e);let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(5+t+4+14+4+20+4+4);n[r]=h.USERAUTH_REQUEST,S(n,t,++r),n.utf8Write(e,r+=4,t),S(n,14,r+=t),n.utf8Write("ssh-connection",r+=4,14),S(n,20,r+=14),n.utf8Write("keyboard-interactive",r+=4,20),S(n,0,r+=20),S(n,0,r+=4),this._authsQueue.push("keyboard-interactive"),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (keyboard-interactive)"),I(this,this._packetRW.write.finalize(n))}authNone(e){if(this._server)throw new Error("Client-only method called in server mode");const t=Buffer.byteLength(e);let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(5+t+4+14+4+4);n[r]=h.USERAUTH_REQUEST,S(n,t,++r),n.utf8Write(e,r+=4,t),S(n,14,r+=t),n.utf8Write("ssh-connection",r+=4,14),S(n,4,r+=14),n.utf8Write("none",r+=4,4),this._authsQueue.push("none"),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (none)"),I(this,this._packetRW.write.finalize(n))}authInfoRes(e){if(this._server)throw new Error("Client-only method called in server mode");let t,r=0;if(e){t=new Array(e.length);for(let n=0;n<e.length;++n){const i=Buffer.byteLength(e[n]);t[n]=i,r+=4+i}}let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(5+r);if(i[n]=h.USERAUTH_INFO_RESPONSE,e){S(i,e.length,++n),n+=4;for(let r=0;r<e.length;++r){const o=t[r];S(i,o,n),n+=4,o&&(i.utf8Write(e[r],n,o),n+=o)}}else S(i,0,++n);this._debug&&this._debug("Outbound: Sending USERAUTH_INFO_RESPONSE"),I(this,this._packetRW.write.finalize(i))}tcpipForward(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(23+n+4);o[i]=h.GLOBAL_REQUEST,S(o,13,++i),o.utf8Write("tcpip-forward",i+=4,13),o[i+=13]=void 0===r||!0===r?1:0,S(o,n,++i),o.utf8Write(e,i+=4,n),S(o,t,i+=n),this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (tcpip-forward)"),I(this,this._packetRW.write.finalize(o))}cancelTcpipForward(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(30+n+4);o[i]=h.GLOBAL_REQUEST,S(o,20,++i),o.utf8Write("cancel-tcpip-forward",i+=4,20),o[i+=20]=void 0===r||!0===r?1:0,S(o,n,++i),o.utf8Write(e,i+=4,n),S(o,t,i+=n),this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (cancel-tcpip-forward)"),I(this,this._packetRW.write.finalize(o))}openssh_streamLocalForward(e,t){if(this._server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(41+r);i[n]=h.GLOBAL_REQUEST,S(i,31,++n),i.utf8Write("streamlocal-forward@openssh.com",n+=4,31),i[n+=31]=void 0===t||!0===t?1:0,S(i,r,++n),i.utf8Write(e,n+=4,r),this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (streamlocal-forward@openssh.com)"),I(this,this._packetRW.write.finalize(i))}openssh_cancelStreamLocalForward(e,t){if(this._server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(48+r);i[n]=h.GLOBAL_REQUEST,S(i,38,++n),i.utf8Write("cancel-streamlocal-forward@openssh.com",n+=4,38),i[n+=38]=void 0===t||!0===t?1:0,S(i,r,++n),i.utf8Write(e,n+=4,r),this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (cancel-streamlocal-forward@openssh.com)"),I(this,this._packetRW.write.finalize(i))}directTcpip(e,t,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(n.srcIP),o=Buffer.byteLength(n.dstIP);let s=this._packetRW.write.allocStart;const a=this._packetRW.write.alloc(33+i+4+4+o+4);a[s]=h.CHANNEL_OPEN,S(a,12,++s),a.utf8Write("direct-tcpip",s+=4,12),S(a,e,s+=12),S(a,t,s+=4),S(a,r,s+=4),S(a,o,s+=4),a.utf8Write(n.dstIP,s+=4,o),S(a,n.dstPort,s+=o),S(a,i,s+=4),a.utf8Write(n.srcIP,s+=4,i),S(a,n.srcPort,s+=i),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, direct-tcpip)`),I(this,this._packetRW.write.finalize(a))}openssh_directStreamLocal(e,t,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(n.socketPath);let o=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(51+i+4+4);s[o]=h.CHANNEL_OPEN,S(s,30,++o),s.utf8Write("direct-streamlocal@openssh.com",o+=4,30),S(s,e,o+=30),S(s,t,o+=4),S(s,r,o+=4),S(s,i,o+=4),s.utf8Write(n.socketPath,o+=4,i),w(s,0,o+=i,o+8),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, direct-streamlocal@openssh.com)`),I(this,this._packetRW.write.finalize(s))}openssh_noMoreSessions(e){if(this._server)throw new Error("Client-only method called in server mode");let t=this._packetRW.write.allocStart;const r=this._packetRW.write.alloc(34);r[t]=h.GLOBAL_REQUEST,S(r,28,++t),r.utf8Write("no-more-sessions@openssh.com",t+=4,28),r[t+=28]=void 0===e||!0===e?1:0,this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (no-more-sessions@openssh.com)"),I(this,this._packetRW.write.finalize(r))}session(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(24);i[n]=h.CHANNEL_OPEN,S(i,7,++n),i.utf8Write("session",n+=4,7),S(i,e,n+=7),S(i,t,n+=4),S(i,r,n+=4),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, session)`),I(this,this._packetRW.write.finalize(i))}windowChange(e,t,r,n,i){if(this._server)throw new Error("Client-only method called in server mode");let o=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(39);s[o]=h.CHANNEL_REQUEST,S(s,e,++o),S(s,13,o+=4),s.utf8Write("window-change",o+=4,13),s[o+=13]=0,S(s,r,++o),S(s,t,o+=4),S(s,i,o+=4),S(s,n,o+=4),this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, window-change)`),I(this,this._packetRW.write.finalize(s))}pty(e,t,r,n,i,o,s,a){if(this._server)throw new Error("Client-only method called in server mode");o&&o.length||(o="vt100"),!s||Buffer.isBuffer(s)||Array.isArray(s)||"object"!=typeof s||null===s||(s=function(e){const t=Object.keys(e),r=Buffer.allocUnsafe(5*t.length+1);let n=0;for(let i=0;i<t.length;++i){const o=t[i];if("TTY_OP_END"===o)continue;const s=l[o];if(void 0===s)continue;const a=e[o];"number"==typeof a&&isFinite(a)&&(r[n++]=s,r[n++]=a>>>24,r[n++]=a>>>16,r[n++]=a>>>8,r[n++]=a)}return r[n++]=l.TTY_OP_END,n<r.length?v(r,0,n):r}(s)),s&&s.length||(s=D);const c=o.length,u=s.length;let f=this._packetRW.write.allocStart;const d=this._packetRW.write.alloc(21+c+4+4+4+4+4+u);if(d[f]=h.CHANNEL_REQUEST,S(d,e,++f),S(d,7,f+=4),d.utf8Write("pty-req",f+=4,7),d[f+=7]=void 0===a||!0===a?1:0,S(d,c,++f),d.utf8Write(o,f+=4,c),S(d,r,f+=c),S(d,t,f+=4),S(d,i,f+=4),S(d,n,f+=4),S(d,u,f+=4),f+=4,Array.isArray(s))for(let e=0;e<u;++e)d[f++]=s[e];else Buffer.isBuffer(s)&&d.set(s,f);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, pty-req)`),I(this,this._packetRW.write.finalize(d))}shell(e,t){if(this._server)throw new Error("Client-only method called in server mode");let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(15);n[r]=h.CHANNEL_REQUEST,S(n,e,++r),S(n,5,r+=4),n.utf8Write("shell",r+=4,5),n[r+=5]=void 0===t||!0===t?1:0,this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, shell)`),I(this,this._packetRW.write.finalize(n))}exec(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t);let o=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(18+i);s[o]=h.CHANNEL_REQUEST,S(s,e,++o),S(s,4,o+=4),s.utf8Write("exec",o+=4,4),s[o+=4]=void 0===r||!0===r?1:0,S(s,i,++o),n?s.set(t,o+=4):s.utf8Write(t,o+=4,i),this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exec: ${t})`),I(this,this._packetRW.write.finalize(s))}signal(e,t){if(this._server)throw new Error("Client-only method called in server mode");const r=t;if("SIG"===(t=t.toUpperCase()).slice(0,3)&&(t=t.slice(3)),1!==f[t])throw new Error(`Invalid signal: ${r}`);const n=t.length;let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(20+n);o[i]=h.CHANNEL_REQUEST,S(o,e,++i),S(o,6,i+=4),o.utf8Write("signal",i+=4,6),o[i+=6]=0,S(o,n,++i),o.utf8Write(t,i+=4,n),this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, signal: ${t})`),I(this,this._packetRW.write.finalize(o))}env(e,t,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(t),o=Buffer.isBuffer(r),s=o?r.length:Buffer.byteLength(r);let a=this._packetRW.write.allocStart;const c=this._packetRW.write.alloc(17+i+4+s);c[a]=h.CHANNEL_REQUEST,S(c,e,++a),S(c,3,a+=4),c.utf8Write("env",a+=4,3),c[a+=3]=void 0===n||!0===n?1:0,S(c,i,++a),c.utf8Write(t,a+=4,i),S(c,s,a+=i),o?c.set(r,a+=4):c.utf8Write(r,a+=4,s),this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, env: ${t}=${r})`),I(this,this._packetRW.write.finalize(c))}x11Forward(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");const n=t.protocol,i=t.cookie,o=Buffer.isBuffer(n),s=o?n.length:Buffer.byteLength(n),a=Buffer.isBuffer(i),c=a?i.length:Buffer.byteLength(i);let u=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(22+s+4+c+4);f[u]=h.CHANNEL_REQUEST,S(f,e,++u),S(f,7,u+=4),f.utf8Write("x11-req",u+=4,7),f[u+=7]=void 0===r||!0===r?1:0,f[++u]=t.single?1:0,S(f,s,++u),o?f.set(n,u+=4):f.utf8Write(n,u+=4,s),S(f,c,u+=s),a?f.set(i,u+=4):f.latin1Write(i,u+=4,c),S(f,t.screen||0,u+=c),this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, x11-req)`),I(this,this._packetRW.write.finalize(f))}subsystem(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(t);let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(23+n);o[i]=h.CHANNEL_REQUEST,S(o,e,++i),S(o,9,i+=4),o.utf8Write("subsystem",i+=4,9),o[i+=9]=void 0===r||!0===r?1:0,S(o,n,++i),o.utf8Write(t,i+=4,n),this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, subsystem: ${t})`),I(this,this._packetRW.write.finalize(o))}openssh_agentForward(e,t){if(this._server)throw new Error("Client-only method called in server mode");let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(36);n[r]=h.CHANNEL_REQUEST,S(n,e,++r),S(n,26,r+=4),n.utf8Write("auth-agent-req@openssh.com",r+=4,26),n[r+=26]=void 0===t||!0===t?1:0,this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, auth-agent-req@openssh.com)`),I(this,this._packetRW.write.finalize(n))}openssh_hostKeysProve(e){if(this._server)throw new Error("Client-only method called in server mode");let t=0;const r=[];for(const n of e){const e=n.getPublicSSH();t+=4+e.length,r.push(e)}let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(35+t);i[n]=h.GLOBAL_REQUEST,S(i,29,++n),i.utf8Write("hostkeys-prove-00@openssh.com",n+=4,29),i[n+=29]=1,++n;for(const e of r)S(i,e.length,n),m(e,i,0,e.length,n+=4),n+=e.length;this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (hostkeys-prove-00@openssh.com)"),I(this,this._packetRW.write.finalize(i))}serviceAccept(e){if(!this._server)throw new Error("Server-only method called in client mode");const t=Buffer.byteLength(e);let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(5+t);if(n[r]=h.SERVICE_ACCEPT,S(n,t,++r),n.utf8Write(e,r+=4,t),this._debug&&this._debug(`Outbound: Sending SERVICE_ACCEPT (${e})`),I(this,this._packetRW.write.finalize(n)),this._server&&this._banner&&"ssh-userauth"===e){const e=this._banner;this._banner=void 0;const t=Buffer.byteLength(e);r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(5+t+4);n[r]=h.USERAUTH_BANNER,S(n,t,++r),n.utf8Write(e,r+=4,t),S(n,0,r+=t),this._debug&&this._debug("Outbound: Sending USERAUTH_BANNER"),I(this,this._packetRW.write.finalize(n))}}forwardedTcpip(e,t,r,n){if(!this._server)throw new Error("Server-only method called in client mode");const i=Buffer.byteLength(n.boundAddr),o=Buffer.byteLength(n.remoteAddr);let s=this._packetRW.write.allocStart;const a=this._packetRW.write.alloc(36+i+4+4+o+4);a[s]=h.CHANNEL_OPEN,S(a,15,++s),a.utf8Write("forwarded-tcpip",s+=4,15),S(a,e,s+=15),S(a,t,s+=4),S(a,r,s+=4),S(a,i,s+=4),a.utf8Write(n.boundAddr,s+=4,i),S(a,n.boundPort,s+=i),S(a,o,s+=4),a.utf8Write(n.remoteAddr,s+=4,o),S(a,n.remotePort,s+=o),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, forwarded-tcpip)`),I(this,this._packetRW.write.finalize(a))}x11(e,t,r,n){if(!this._server)throw new Error("Server-only method called in client mode");const i=Buffer.byteLength(n.originAddr);let o=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(24+i+4);s[o]=h.CHANNEL_OPEN,S(s,3,++o),s.utf8Write("x11",o+=4,3),S(s,e,o+=3),S(s,t,o+=4),S(s,r,o+=4),S(s,i,o+=4),s.utf8Write(n.originAddr,o+=4,i),S(s,n.originPort,o+=i),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, x11)`),I(this,this._packetRW.write.finalize(s))}openssh_authAgent(e,t,r){if(!this._server)throw new Error("Server-only method called in client mode");let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(39);i[n]=h.CHANNEL_OPEN,S(i,22,++n),i.utf8Write("auth-agent@openssh.com",n+=4,22),S(i,e,n+=22),S(i,t,n+=4),S(i,r,n+=4),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, auth-agent@openssh.com)`),I(this,this._packetRW.write.finalize(i))}openssh_forwardedStreamLocal(e,t,r,n){if(!this._server)throw new Error("Server-only method called in client mode");const i=Buffer.byteLength(n.socketPath);let o=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(54+i+4);s[o]=h.CHANNEL_OPEN,S(s,33,++o),s.utf8Write("forwarded-streamlocal@openssh.com",o+=4,33),S(s,e,o+=33),S(s,t,o+=4),S(s,r,o+=4),S(s,i,o+=4),s.utf8Write(n.socketPath,o+=4,i),S(s,0,o+=i),this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, forwarded-streamlocal@openssh.com)`),I(this,this._packetRW.write.finalize(s))}exitStatus(e,t){if(!this._server)throw new Error("Server-only method called in client mode");let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(25);n[r]=h.CHANNEL_REQUEST,S(n,e,++r),S(n,11,r+=4),n.utf8Write("exit-status",r+=4,11),n[r+=11]=0,S(n,t,++r),this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exit-status: ${t})`),I(this,this._packetRW.write.finalize(n))}exitSignal(e,t,r,n){if(!this._server)throw new Error("Server-only method called in client mode");const i=t;if("string"!=typeof i||!i)throw new Error(`Invalid signal: ${i}`);let o=t.toUpperCase();if("SIG"===o.slice(0,3)&&(o=o.slice(3)),1!==f[o])throw new Error(`Invalid signal: ${i}`);const s=Buffer.byteLength(o),a=n?Buffer.byteLength(n):0;let c=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(25+s+1+4+a+4);u[c]=h.CHANNEL_REQUEST,S(u,e,++c),S(u,11,c+=4),u.utf8Write("exit-signal",c+=4,11),u[c+=11]=0,S(u,s,++c),u.utf8Write(o,c+=4,s),u[c+=s]=r?1:0,S(u,a,++c),c+=4,a&&(u.utf8Write(n,c,a),c+=a),S(u,0,c),this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exit-signal: ${t})`),I(this,this._packetRW.write.finalize(u))}authFailure(e,t){if(!this._server)throw new Error("Server-only method called in client mode");if(0===this._authsQueue.length)throw new Error("No auth in progress");let r;if("boolean"==typeof e&&(t=e,e=void 0),e){r=[];for(let t=0;t<e.length;++t)"none"!==e[t].toLowerCase()&&r.push(e[t]);r=r.join(",")}else r="";const n=r.length;let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(5+n+1);o[i]=h.USERAUTH_FAILURE,S(o,n,++i),o.utf8Write(r,i+=4,n),o[i+=n]=!0===t?1:0,this._authsQueue.shift(),this._debug&&this._debug("Outbound: Sending USERAUTH_FAILURE"),I(this,this._packetRW.write.finalize(o))}authSuccess(){if(!this._server)throw new Error("Server-only method called in client mode");if(0===this._authsQueue.length)throw new Error("No auth in progress");const e=this._packetRW.write.allocStart,t=this._packetRW.write.alloc(1);t[e]=h.USERAUTH_SUCCESS,this._authsQueue.shift(),this._authenticated=!0,this._debug&&this._debug("Outbound: Sending USERAUTH_SUCCESS"),I(this,this._packetRW.write.finalize(t)),"zlib@openssh.com"===this._kex.negotiated.cs.compress&&(this._packetRW.read=new C),"zlib@openssh.com"===this._kex.negotiated.sc.compress&&(this._packetRW.write=new R(this))}authPKOK(e,t){if(!this._server)throw new Error("Server-only method called in client mode");if(0===this._authsQueue.length||"publickey"!==this._authsQueue[0])throw new Error('"publickey" auth not in progress');const r=Buffer.byteLength(e),n=t.length;let i=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(5+r+4+n);o[i]=h.USERAUTH_PK_OK,S(o,r,++i),o.utf8Write(e,i+=4,r),S(o,n,i+=r),o.set(t,i+=4),this._authsQueue.shift(),this._debug&&this._debug("Outbound: Sending USERAUTH_PK_OK"),I(this,this._packetRW.write.finalize(o))}authPasswdChg(e){if(!this._server)throw new Error("Server-only method called in client mode");const t=Buffer.byteLength(e);let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(5+t+4);n[r]=h.USERAUTH_PASSWD_CHANGEREQ,S(n,t,++r),n.utf8Write(e,r+=4,t),S(n,0,r+=t),this._debug&&this._debug("Outbound: Sending USERAUTH_PASSWD_CHANGEREQ"),I(this,this._packetRW.write.finalize(n))}authInfoReq(e,t,r){if(!this._server)throw new Error("Server-only method called in client mode");let n=0;const i=e?Buffer.byteLength(e):0,o=t?Buffer.byteLength(t):0;for(let e=0;e<r.length;++e)n+=4+Buffer.byteLength(r[e].prompt)+1;let s=this._packetRW.write.allocStart;const a=this._packetRW.write.alloc(5+i+4+o+4+4+n);a[s]=h.USERAUTH_INFO_REQUEST,S(a,i,++s),s+=4,e&&(a.utf8Write(e,s,i),s+=i),S(a,o,s),s+=4,t&&(a.utf8Write(t,s,o),s+=o),S(a,0,s),S(a,r.length,s+=4),s+=4;for(let e=0;e<r.length;++e){const t=r[e],n=Buffer.byteLength(t.prompt);S(a,n,s),s+=4,n&&(a.utf8Write(t.prompt,s,n),s+=n),a[s++]=t.echo?1:0}this._debug&&this._debug("Outbound: Sending USERAUTH_INFO_REQUEST"),I(this,this._packetRW.write.finalize(a))}}},4408:(e,t,r)=>{"use strict";e.exports={...r(9570),...r(5172),...r(9066),...r(6691),...r(8119),...r(2865),...r(6812),...r(2205),...r(2673),...r(9757)}},4434:e=>{"use strict";e.exports=require("events")},4440:(e,t,r)=>{"use strict";const n=r(2613),{inspect:i}=r(9023);function o(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function s(e,t){if(n("string"==typeof t,"`thing` has to be of type string"),Array.isArray(e)){const r=e.length;return n(r>0,"At least one expected value needs to be specified"),e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}t.ERR_INTERNAL_ASSERTION=class e extends Error{constructor(t){super(),Error.captureStackTrace(this,e);const r="This is caused by either a bug in ssh2 or incorrect usage of ssh2 internals.\nPlease open an issue with this stack trace at https://github.com/mscdex/ssh2/issues\n";this.message=void 0===t?r:`${t}\n${r}`}};const a=2**32,c=(()=>{try{return new Function("return 2n ** 32n")()}catch{}})();t.ERR_OUT_OF_RANGE=class e extends RangeError{constructor(t,r,s,u){super(),Error.captureStackTrace(this,e),n(r,'Missing "range" argument');let h,f=u?t:`The value of "${t}" is out of range.`;Number.isInteger(s)&&Math.abs(s)>a?h=o(String(s)):"bigint"==typeof s?(h=String(s),(s>c||s<-c)&&(h=o(h)),h+="n"):h=i(s),f+=` It must be ${r}. Received ${h}`,this.message=f}};class u extends TypeError{constructor(e,t,r){let i,o;if(super(),Error.captureStackTrace(this,u),n("string"==typeof e,"'name' must be a string"),"string"==typeof t&&t.startsWith("not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",e.endsWith(" argument"))o=`The ${e} ${i} ${s(t,"type")}`;else{const r=e.includes(".")?"property":"argument";o=`The "${e}" ${r} ${i} ${s(t,"type")}`}o+=". Received type "+typeof r,this.message=o}}t.ERR_INVALID_ARG_TYPE=u,t.validateNumber=function(e,t){if("number"!=typeof e)throw new u(t,"number",e)}},4452:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=r(e,i)),t instanceof RegExp&&(t=r(t,i));var o=n(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function n(e,t,r){var n,i,o,s,a,c=r.indexOf(e),u=r.indexOf(t,c+1),h=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],o=r.length;h>=0&&!a;)h==c?(n.push(h),c=r.indexOf(e,h+1)):1==n.length?a=[n.pop(),u]:((i=n.pop())<o&&(o=i,s=u),u=r.indexOf(t,h+1)),h=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}e.exports=t,t.range=n},4503:(e,t,r)=>{var n=r(3920),i=r(894),o=r(6604),s=r(3608);for(var a in e.exports={Reader:o,Writer:s},i)i.hasOwnProperty(a)&&(e.exports[a]=i[a]);for(var c in n)n.hasOwnProperty(c)&&(e.exports[c]=n[c])},4504:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){n[e]=t[e]}),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),n}}},4603:(e,t,r)=>{var n=r(2203).Transform,i=r(2203).Readable,o=r(2203).Writable,s=process.binding("constants"),a=r(9023),c=a.inherits,u=a.isDate,h=r(4434).EventEmitter.listenerCount,f=r(9896),l=r(3949).readString,d=r(3949).readInt,p={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8};Object.keys(p).forEach(function(e){p[p[e]]=e}),I.STATUS_CODE=p;var g={INIT:1,OPEN:3,CLOSE:4,READ:5,WRITE:6,LSTAT:7,FSTAT:8,SETSTAT:9,FSETSTAT:10,OPENDIR:11,READDIR:12,REMOVE:13,MKDIR:14,RMDIR:15,REALPATH:16,STAT:17,RENAME:18,READLINK:19,SYMLINK:20,EXTENDED:200};Object.keys(g).forEach(function(e){g[g[e]]=e});var _={VERSION:2,STATUS:101,HANDLE:102,DATA:103,NAME:104,ATTRS:105,EXTENDED:201};Object.keys(_).forEach(function(e){_[_[e]]=e});var E={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32};I.OPEN_MODE=E;var A=Math.pow(2,32)-1,y=new Buffer([0,0,0,5,g.INIT,0,0,0,3]),m=new Buffer([0,0,0,5,_.VERSION,0,0,0,3]),w=/^SSH-2.0-(?:OpenSSH|dropbear)/,v=260096;function b(e){}function I(e,t){"string"!=typeof e||t||(t=e,e=void 0),"object"==typeof e&&e||(e={}),n.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this.debug="function"==typeof e.debug?e.debug:b,this.server=!!e.server,this._isOpenSSH=t&&w.test(t),this._needContinue=!1,this._state={status:"packet_header",writeReqid:-1,pktLeft:void 0,pktHdrBuf:new Buffer(9),pktBuf:void 0,pktType:void 0,version:void 0,extensions:{},maxDataLen:this._isOpenSSH?v:32768,requests:{}};var r=this;function i(){r.writable=!1,r._cleanup(!1)}this.on("end",function(){r.readable=!1}).on("finish",i).on("prefinish",i),this.server||this.push(y)}function S(e,t,r,n,i,o){var s,a,c,u=25,h=32768;"function"==typeof i?o=i:"object"==typeof i&&("number"==typeof i.concurrency&&i.concurrency>0&&!isNaN(i.concurrency)&&(u=i.concurrency),"number"==typeof i.chunkSize&&i.chunkSize>0&&!isNaN(i.chunkSize)&&(h=i.chunkSize),"function"==typeof i.step&&(s=i.step),i.preserve);var l,d,p=0,g=0,_=0,E=0,A=!1,y=new Buffer(h*u);function m(r){if(!A){A=!0;var n,i=0;l||d?(n=function(){0===--i&&o(r)},l&&(e===f||e.writable)&&++i,d&&(t===f||t.writable)&&++i,l&&(e===f||e.writable)&&e.close(l,n),d&&(t===f||t.writable)&&t.close(d,n)):o(r)}}e.open(r,"r",function(i,A){if(i)return m(i);l=A,e.fstat(l,function i(A,w){if(A)return e!==f?void e.stat(r,function(e,t){if(e)return m(A);i(null,t)}):m(A);a=w.size,t.open(n,"w",function(r,n){if(r)return m(r);if(d=n,a<=0)return m();function i(r,n,i,c,u){if(r)return m(r);function h(r){if(r)return m(r);E+=n,s&&s(E,n,a),0===--_&&(E===a?t.close(d,function(t){if(d=void 0,t)return m(t);e.close(l,function(e){if(l=void 0,e)return m(e);o()})}):w())}e===f?t.writeData(d,i,u||0,n,c,h):t.write(d,i,u||0,n,c,h)}function A(e,t){return function(r,n,o){i(r,n,o,t,e)}}function w(){for(;g<a&&_<u;)c=g+h>a?a-g:h,e===f?e.read(l,y,p,c,g,A(p,g)):e.readData(l,y,p,c,g,i),p+=c,g+=c,++_;p=0}w()})})})}function B(e,t,r,n,i,o,s){var a="function"==typeof s?s:void 0;e.writeData(t,r,n,i,o,function(s,c){if(s)return e.close(t,function(){a&&a(s)});c===i?e.close(t,a):B(e,t,r,n+=c,i-=c,o+=c,a)})}function k(e,t,r,n){var i=e.readUInt32BE(t,!0),o=new P;if(t+=4,1&i){var s=C(e,t,r,n);if(!1===s)return!1;o.size=s,t+=8}if(2&i){var a,c;if(!1===(a=d(e,t,this,n)))return!1;if(o.uid=a,!1===(c=d(e,t+=4,this,n)))return!1;o.gid=c,t+=4}if(4&i){var u=d(e,t,this,n);if(!1===u)return!1;o.mode=u,o.permissions=u,t+=4}if(8&i){var h,f;if(!1===(h=d(e,t,this,n)))return!1;if(o.atime=h,!1===(f=d(e,t+=4,this,n)))return!1;o.mtime=f,t+=4}if(2147483648&i){var l=d(e,t,this,n);if(!1===l)return!1;t+=4;for(var p,g=0;g<l;++g){if(!1===(p=d(e,t,this,n)))return!1;t+=4+p}}return e._pos=t,o}function C(e,t,r,n){if(e.length-t<8)return r&&r._cleanup(n),!1;for(var i=0,o=t+8;t<o;++t)i*=256,i+=e[t];return e._pos=t,i}function R(e){var t=0,r=0,n=[],i=0;if("number"==typeof e.size){t|=1,r+=8;var o=new Array(8),s=e.size;for(i=7;i>=0;--i)o[i]=255&s,s/=256;n.push(o)}if("number"==typeof e.uid&&"number"==typeof e.gid&&(t|=2,r+=8,n.push([e.uid>>24&255,e.uid>>16&255,e.uid>>8&255,255&e.uid]),n.push([e.gid>>24&255,e.gid>>16&255,e.gid>>8&255,255&e.gid])),"number"==typeof e.permissions||"string"==typeof e.permissions||"number"==typeof e.mode||"string"==typeof e.mode){var a=U(e.mode||e.permissions);t|=4,r+=4,n.push([a>>24&255,a>>16&255,a>>8&255,255&a])}if(("number"==typeof e.atime||u(e.atime))&&("number"==typeof e.mtime||u(e.mtime))){var c=N(e.atime),h=N(e.mtime);t|=8,r+=8,n.push([c>>24&255,c>>16&255,c>>8&255,255&c]),n.push([h>>24&255,h>>16&255,h>>8&255,255&h])}return{flags:t,nbytes:r,bytes:n}}function N(e){if("number"==typeof e&&!isNaN(e))return e;if(u(e))return parseInt(e.getTime()/1e3,10);throw new Error("Cannot parse time: "+e)}function U(e){if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e)return U(parseInt(e,8));throw new Error("Cannot parse mode: "+e)}c(I,n),I.prototype.__read=n.prototype._read,I.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},I.prototype.__push=n.prototype.push,I.prototype.push=function(e,t){if(!this.readable)return!1;null===e&&(this.readable=!1);var r=this.__push(e,t);return this._needContinue=!1===r,r},I.prototype._cleanup=function(e){var t=this._state;t.pktBuf=void 0;var r=t.requests,n=Object.keys(r),i=n.length;if(i){if(this.readable)for(var o,s=new Error("SFTP session ended early"),a=0;a<i;++a)(o=r[n[a]].cb)&&o(s);t.requests={}}this.readable?this.push(null):this._readableState.endEmitted||this._readableState.flowing||this.resume(),!1!==e&&(this.debug("DEBUG[SFTP]: Parser: Malformed packet"),e&&e(new Error("Malformed packet")))},I.prototype._transform=function(e,t,r){for(var n,i,o,s=this._state,a=this.server,c=s.status,u=s.pktType,f=s.pktBuf,E=s.pktLeft,A=s.version,y=s.pktHdrBuf,w=s.requests,v=this.debug,b=e.length,I=0;;){if("discard"===c){if(!(E<=(i=b-I))){E-=i;break}I+=E,E=0,c="packet_header",n=f=void 0}else{if(void 0!==f){if(E<=(i=b-I)){e.copy(f,f.length-E,I,I+E),I+=E,E=0,n=f,f=void 0;continue}e.copy(f,f.length-E,I),E-=i;break}if("packet_header"===c)n?(E=n.readUInt32BE(4,!0)-1,u=n[8],a?void 0===A&&u!==g.INIT?(v("DEBUG[SFTP]: Parser: Unexpected packet before init"),c="bad_pkt"):void 0!==A&&u===g.INIT?(v("DEBUG[SFTP]: Parser: Unexpected duplicate init"),c="bad_pkt"):E>34e3?(v("DEBUG[SFTP]: Parser: Packet length ("+E+") exceeds max length (34000)"),c="bad_pkt"):u===g.EXTENDED?c="bad_pkt":void 0===g[u]&&(v("DEBUG[SFTP]: Parser: Unsupported packet type: "+u),c="discard"):void 0===A&&u!==_.VERSION?(v("DEBUG[SFTP]: Parser: Unexpected packet before version"),c="bad_pkt"):void 0!==A&&u===_.VERSION?(v("DEBUG[SFTP]: Parser: Unexpected duplicate version"),c="bad_pkt"):void 0===_[u]&&(c="discard"),"bad_pkt"===c?(y.writeUInt32BE(E,0,!0),y[4]=u,E=4,f=y):(f=new Buffer(E),c="payload")):(E=5,f=y);else if("payload"===c){if(u===_.VERSION||u===g.INIT){if(!1===(A=s.version=d(n,0,this,r)))return;if(A<3)return this._cleanup(),r(new Error("Incompatible SFTP version: "+A));a&&this.push(m);var S,B,R=n.length;for(n._pos=4;n._pos<R;){if(!1===(S=l(n,n._pos,"ascii",this,r)))return;if(!1===(B=l(n,n._pos,"ascii",this,r)))return;s.extensions[S]?s.extensions[S].push(B):s.extensions[S]=[B]}this.emit("ready")}else{if(!1===(o=d(n,0,this,r)))return;var N,U,T,O;if(a){var L,D,P=g[u];if(v("DEBUG[SFTP]: Parser: Request: "+P),h(this,P)){if(u===g.OPEN){if(!1===(N=l(n,4,"utf8",this,r)))return;var x=d(n,n._pos,this,r);if(!1===x)return;if(!1===(U=k(n,n._pos+4,this,r)))return;this.emit(P,o,N,x,U)}else if(u===g.CLOSE||u===g.FSTAT||u===g.READDIR){if(!1===(T=l(n,4,this,r)))return;this.emit(P,o,T)}else if(u===g.READ){if(!1===(T=l(n,4,this,r)))return;if(!1===(L=C(n,n._pos,this,r)))return;var H=d(n,n._pos,this,r);if(!1===H)return;this.emit(P,o,T,L,H)}else if(u===g.WRITE){if(!1===(T=l(n,4,this,r)))return;if(!1===(L=C(n,n._pos,this,r)))return;if(!1===(O=l(n,n._pos,this,r)))return;this.emit(P,o,T,L,O)}else if(u===g.LSTAT||u===g.STAT||u===g.OPENDIR||u===g.REMOVE||u===g.RMDIR||u===g.REALPATH||u===g.READLINK){if(!1===(D=l(n,4,"utf8",this,r)))return;this.emit(P,o,D)}else if(u===g.SETSTAT||u===g.MKDIR){if(!1===(D=l(n,4,"utf8",this,r)))return;if(!1===(U=k(n,n._pos,this,r)))return;this.emit(P,o,D,U)}else if(u===g.FSETSTAT){if(!1===(T=l(n,4,this,r)))return;if(!1===(U=k(n,n._pos,this,r)))return;this.emit(P,o,T,U)}else if(u===g.RENAME||u===g.SYMLINK){var Q,F;if(!1===(Q=l(n,4,"utf8",this,r)))return;if(!1===(F=l(n,n._pos,"utf8",this,r)))return;u===g.SYMLINK&&this._isOpenSSH?this.emit(P,o,F,Q):this.emit(P,o,Q,F)}}else this.status(o,p.OP_UNSUPPORTED)}else{var M=w[o],K=M&&M.cb;if(v("DEBUG[SFTP]: Parser: Response: "+_[u]),M&&K)if(u===_.STATUS){var W=d(n,4,this,r);if(!1===W)return;var G=l(n,8,"utf8",this,r);if(!1===G)return;var q=l(n,n._pos,"ascii",this,r);if(!1===q)return;if(W===p.OK)K();else{var j=new Error(G||p[W]);j.code=W,j.lang=q,K(j)}}else if(u===_.HANDLE){if(!1===(T=l(n,4,this,r)))return;K(void 0,T)}else if(u===_.DATA)if(M.buffer){var $=d(n,4,this,r);if(!1===$)return;var Y=M.buffer.length;if($>Y&&n.writeUInt32BE(Y,4,!0),!1===(O=l(n,4,M.buffer,this,r)))return;K(void 0,O,$)}else{if(!1===(O=l(n,4,this,r)))return;K(void 0,O)}else if(u===_.NAME){var X=d(n,4,this,r);if(!1===X)return;var z,V=[];n._pos=8;for(var J=0;J<X;++J){if(!1===(N=l(n,n._pos,"utf8",this,r)))return;if(!1===(z=l(n,n._pos,"utf8",this,r)))return;if(!1===(U=k(n,n._pos,this,r)))return;V.push({filename:N,longname:z,attrs:U})}K(void 0,V)}else if(u===_.ATTRS){if(!1===(U=k(n,4,this,r)))return;K(void 0,U)}else if(u===_.EXTENDED){if(M.extended)switch(M.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":var Z={f_bsize:void 0,f_frsize:void 0,f_blocks:void 0,f_bfree:void 0,f_bavail:void 0,f_files:void 0,f_ffree:void 0,f_favail:void 0,f_sid:void 0,f_flag:void 0,f_namemax:void 0};if(Z.f_bsize=C(n,4,this,r),!1===Z.f_bsize)return;if(Z.f_frsize=C(n,12,this,r),!1===Z.f_frsize)return;if(Z.f_blocks=C(n,20,this,r),!1===Z.f_blocks)return;if(Z.f_bfree=C(n,28,this,r),!1===Z.f_bfree)return;if(Z.f_bavail=C(n,36,this,r),!1===Z.f_bavail)return;if(Z.f_files=C(n,44,this,r),!1===Z.f_files)return;if(Z.f_ffree=C(n,52,this,r),!1===Z.f_ffree)return;if(Z.f_favail=C(n,60,this,r),!1===Z.f_favail)return;if(Z.f_sid=C(n,68,this,r),!1===Z.f_sid)return;if(Z.f_flag=C(n,76,this,r),!1===Z.f_flag)return;if(Z.f_namemax=C(n,84,this,r),!1===Z.f_namemax)return;K(void 0,Z)}K()}M&&delete w[o]}}c="packet_header",n=f=void 0}else if("bad_pkt"===c){if(a&&n[4]!==g.INIT){var ee=n[4]===g.EXTENDED?p.OP_UNSUPPORTED:p.FAILURE;if(n[4]===g.INIT||n[4]===_.VERSION)return this._cleanup(r);if(!1===(o=d(n,5,this,r)))return;this.status(o,ee)}E=n.readUInt32BE(0,!0)-5,c="discard"}}if(I>=b)break}s.status=c,s.pktType=u,s.pktBuf=f,s.pktLeft=E,s.version=A,r()},I.prototype.createReadStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new x(this,e,t)},I.prototype.createWriteStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new H(this,e,t)},I.prototype.open=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=this._state;"function"==typeof r&&(n=r,r=void 0);var o=D(t);if(null===o)throw new Error("Unknown flags string: "+t);var s=0,a=0;"object"==typeof r&&(s=(r=R(r)).flags,a=r.nbytes,r=r.bytes);var c=Buffer.byteLength(e),u=9,h=new Buffer(13+c+4+4+a);h.writeUInt32BE(h.length-4,0,!0),h[4]=g.OPEN;var f=i.writeReqid=(i.writeReqid+1)%A;if(h.writeUInt32BE(f,5,!0),h.writeUInt32BE(c,u,!0),h.write(e,u+=4,c,"utf8"),h.writeUInt32BE(o,u+=c,!0),h.writeUInt32BE(s,u+=4,!0),r&&s){u+=4;for(var l=0,d=r.length;l<d;++l)for(var p=0,_=r[l].length;p<_;++p)h[u++]=r[l][p]}return i.requests[f]={cb:n},this.debug("DEBUG[SFTP]: Outgoing: Writing OPEN"),this.push(h)},I.prototype.close=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.CLOSE;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),e.copy(o,i+=4),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing CLOSE"),this.push(o)},I.prototype.readData=function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>=t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var s=this._state,a=e.length,c=9,u=i,h=new Buffer(13+a+8+4);h.writeUInt32BE(h.length-4,0,!0),h[4]=g.READ;var f=s.writeReqid=(s.writeReqid+1)%A;h.writeUInt32BE(f,5,!0),h.writeUInt32BE(a,c,!0),e.copy(h,c+=4),c+=a;for(var l=7;l>=0;--l)h[c+l]=255&u,u/=256;return h.writeUInt32BE(n,c+=8,!0),s.requests[f]={cb:function(e,t,r){if(e&&e.code!==p.EOF)return o(e);o(void 0,r||0,t,i)},buffer:t.slice(r,r+n)},this.debug("DEBUG[SFTP]: Outgoing: Writing READ"),this.push(h)},I.prototype.writeData=function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var s=this,a=this._state;if(n){var c=n>a.maxDataLen?n-a.maxDataLen:0,u=i;c&&(n=a.maxDataLen);var h=e.length,f=9,l=new Buffer(13+h+8+4+n);l.writeUInt32BE(l.length-4,0,!0),l[4]=g.WRITE;var d=a.writeReqid=(a.writeReqid+1)%A;l.writeUInt32BE(d,5,!0),l.writeUInt32BE(h,f,!0),e.copy(l,f+=4),f+=h;for(var p=7;p>=0;--p)l[f+p]=255&i,i/=256;return l.writeUInt32BE(n,f+=8,!0),t.copy(l,f+=4,r,r+n),a.requests[d]={cb:function(i){i?o&&o(i):c?s.writeData(e,t,r+n,c,u+n,o):o&&o(void 0,n)}},this.debug("DEBUG[SFTP]: Outgoing: Writing WRITE"),this.push(l)}o&&process.nextTick(function(){o(void 0,0)})},I.prototype.fastGet=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");S(this,f,e,t,r,n)},I.prototype.fastPut=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");S(f,this,e,t,r,n)},I.prototype.readFile=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n="function"==typeof r?r:void 0,i=this;if("function"!=typeof t&&t)if("string"==typeof t)t={encoding:t,flag:"r"};else if(t){if("object"!=typeof t)throw new TypeError("Bad arguments")}else t={encoding:null,flag:"r"};else t={encoding:null,flag:"r"};var o,s,a,c=t.encoding;if(c&&!Buffer.isEncoding(c))throw new Error("Unknown encoding: "+c);var u,h=0,f=0,l=t.flag||"r";function d(){0===o?(s=new Buffer(8192),i.readData(u,s,0,8192,f,p)):i.readData(u,s,h,o-h,f,p)}function p(e,t){return e?i.close(u,function(){return n&&n(e)}):0===t?g():(f+=t,h+=t,void(0!==o?h===o?g():d():(a.push(s.slice(0,t)),d())))}function g(){i.close(u,function(e){return 0===o?s=Buffer.concat(a,h):h<o&&(s=s.slice(0,h)),c&&(s=s.toString(c)),n&&n(e,s)})}this.open(e,l,438,function(t,r){if(t)return n&&n(t);u=r,i.fstat(u,function t(r,c){if(r)i.stat(e,function(e,o){if(e)return i.close(u,function(){n&&n(r)});t(null,o)});else{if(0===(o=c.size))return a=[],d();s=new Buffer(o),d()}})})},I.prototype.writeFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i="function"==typeof n?n:void 0,o=this;if("function"!=typeof r&&r)if("string"==typeof r)r={encoding:r,mode:438,flag:"w"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"w"};else i=r,r={encoding:"utf8",mode:438,flag:"w"};if(r.encoding&&!Buffer.isEncoding(r.encoding))throw new Error("Unknown encoding: "+r.encoding);var s=r.flag||"w";this.open(e,s,r.mode,function(n,a){if(n)i&&i(n);else{var c=Buffer.isBuffer(t)?t:new Buffer(""+t,r.encoding||"utf8"),u=/a/.test(s)?null:0;if(null===u)return void o.fstat(a,function t(r,n){r?o.stat(e,function(e,n){if(e)return o.close(a,function(){i&&i(r)});t(null,n)}):B(o,a,c,0,c.length,n.size,i)});B(o,a,c,0,c.length,u,i)}})},I.prototype.appendFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");if("function"!=typeof r&&r)if("string"==typeof r)r={encoding:r,mode:438,flag:"a"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"a"};else r={encoding:"utf8",mode:438,flag:"a"};r.flag||(r=a._extend({flag:"a"},r)),this.writeFile(e,t,r,n)},I.prototype.exists=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,function(e){t&&t(!e)})},I.prototype.unlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.REMOVE;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing REMOVE"),this.push(o)},I.prototype.rename=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=new Buffer(13+i+4+o);a.writeUInt32BE(a.length-4,0,!0),a[4]=g.RENAME;var c=n.writeReqid=(n.writeReqid+1)%A;return a.writeUInt32BE(c,5,!0),a.writeUInt32BE(i,s,!0),a.write(e,s+=4,i,"utf8"),a.writeUInt32BE(o,s+=i,!0),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing RENAME"),this.push(a)},I.prototype.mkdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,o=this._state;"function"==typeof t&&(r=t,t=void 0),"object"==typeof t&&(n=(t=R(t)).flags,i=t.nbytes,t=t.bytes);var s=Buffer.byteLength(e),a=9,c=new Buffer(13+s+4+i);c.writeUInt32BE(c.length-4,0,!0),c[4]=g.MKDIR;var u=o.writeReqid=(o.writeReqid+1)%A;if(c.writeUInt32BE(u,5,!0),c.writeUInt32BE(s,a,!0),c.write(e,a+=4,s,"utf8"),c.writeUInt32BE(n,a+=s),n){a+=4;for(var h=0,f=t.length;h<f;++h)for(var l=0,d=t[h].length;l<d;++l)c[a++]=t[h][l]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing MKDIR"),this.push(c)},I.prototype.rmdir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.RMDIR;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing RMDIR"),this.push(o)},I.prototype.readdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this._state;if("function"==typeof t&&(r=t,t={}),"object"!=typeof t&&(t={}),n=!t||!t.full,!Buffer.isBuffer(e)&&"string"!=typeof e)throw new Error("missing directory handle or path");if("string"==typeof e){var o=this,s=[],a=0;return this.opendir(e,function e(n,i){if(n)return r(n);o.readdir(i,t,function(t,n){var c=t&&t.code===p.EOF;if(t&&!c)return o.close(i,function(){r(t)});if(c)return o.close(i,function(e){if(e)return r(e);r(void 0,s)});for(var u=0,h=n.length;u<h;++u,++a)s[a]=n[u];e(void 0,i)})})}var c=e.length,u=9,h=new Buffer(13+c);h.writeUInt32BE(h.length-4,0,!0),h[4]=g.READDIR;var f=i.writeReqid=(i.writeReqid+1)%A;return h.writeUInt32BE(f,5,!0),h.writeUInt32BE(c,u,!0),e.copy(h,u+=4),i.requests[f]={cb:n?function(e,t){if(e)return r(e);for(var n=t.length-1;n>=0;--n)"."!==t[n].filename&&".."!==t[n].filename||t.splice(n,1);r(void 0,t)}:r},this.debug("DEBUG[SFTP]: Outgoing: Writing READDIR"),this.push(h)},I.prototype.fstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.FSTAT;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),e.copy(o,i+=4),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing FSTAT"),this.push(o)},I.prototype.stat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.STAT;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing STAT"),this.push(o)},I.prototype.lstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.LSTAT;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing LSTAT"),this.push(o)},I.prototype.opendir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.OPENDIR;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing OPENDIR"),this.push(o)},I.prototype.setstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,o=this._state;"object"==typeof t?(n=(t=R(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var s=Buffer.byteLength(e),a=9,c=new Buffer(13+s+4+i);c.writeUInt32BE(c.length-4,0,!0),c[4]=g.SETSTAT;var u=o.writeReqid=(o.writeReqid+1)%A;if(c.writeUInt32BE(u,5,!0),c.writeUInt32BE(s,a,!0),c.write(e,a+=4,s,"utf8"),c.writeUInt32BE(n,a+=s),n){a+=4;for(var h=0,f=t.length;h<f;++h)for(var l=0,d=t[h].length;l<d;++l)c[a++]=t[h][l]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SETSTAT"),this.push(c)},I.prototype.fsetstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=0,i=0,o=this._state;"object"==typeof t?(n=(t=R(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var s=e.length,a=9,c=new Buffer(13+s+4+i);c.writeUInt32BE(c.length-4,0,!0),c[4]=g.FSETSTAT;var u=o.writeReqid=(o.writeReqid+1)%A;if(c.writeUInt32BE(u,5,!0),c.writeUInt32BE(s,a,!0),e.copy(c,a+=4),c.writeUInt32BE(n,a+=s),n){a+=4;for(var h=0,f=t.length;h<f;++h)for(var l=0,d=t[h].length;l<d;++l)c[a++]=t[h][l]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing FSETSTAT"),this.push(c)},I.prototype.futimes=function(e,t,r,n){return this.fsetstat(e,{atime:N(t),mtime:N(r)},n)},I.prototype.utimes=function(e,t,r,n){return this.setstat(e,{atime:N(t),mtime:N(r)},n)},I.prototype.fchown=function(e,t,r,n){return this.fsetstat(e,{uid:t,gid:r},n)},I.prototype.chown=function(e,t,r,n){return this.setstat(e,{uid:t,gid:r},n)},I.prototype.fchmod=function(e,t,r){return this.fsetstat(e,{mode:t},r)},I.prototype.chmod=function(e,t,r){return this.setstat(e,{mode:t},r)},I.prototype.readlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.READLINK;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing link info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing READLINK"),this.push(o)},I.prototype.symlink=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(t),o=Buffer.byteLength(e),s=9,a=new Buffer(13+i+4+o);a.writeUInt32BE(a.length-4,0,!0),a[4]=g.SYMLINK;var c=n.writeReqid=(n.writeReqid+1)%A;return a.writeUInt32BE(c,5,!0),this._isOpenSSH?(a.writeUInt32BE(o,s,!0),a.write(e,s+=4,o,"utf8"),a.writeUInt32BE(i,s+=o,!0),a.write(t,s+=4,i,"utf8")):(a.writeUInt32BE(i,s,!0),a.write(t,s+=4,i,"utf8"),a.writeUInt32BE(o,s+=i,!0),a.write(e,s+=4,o,"utf8")),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SYMLINK"),this.push(a)},I.prototype.realpath=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=new Buffer(13+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.REALPATH;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(n,i,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing path info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing REALPATH"),this.push(o)},I.prototype.ext_openssh_rename=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["posix-rename@openssh.com"]||-1===n.extensions["posix-rename@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=new Buffer(41+i+4+o);a.writeUInt32BE(a.length-4,0,!0),a[4]=g.EXTENDED;var c=n.writeReqid=(n.writeReqid+1)%A;return a.writeUInt32BE(c,5,!0),a.writeUInt32BE(24,s,!0),a.write("posix-rename@openssh.com",s+=4,24,"ascii"),a.writeUInt32BE(i,s+=24,!0),a.write(e,s+=4,i,"utf8"),a.writeUInt32BE(o,s+=i,!0),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing posix-rename@openssh.com"),this.push(a)},I.prototype.ext_openssh_statvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["statvfs@openssh.com"]||-1===r.extensions["statvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");var n=Buffer.byteLength(e),i=9,o=new Buffer(36+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(19,i,!0),o.write("statvfs@openssh.com",i+=4,19,"ascii"),o.writeUInt32BE(n,i+=19,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={extended:"statvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing statvfs@openssh.com"),this.push(o)},I.prototype.ext_openssh_fstatvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fstatvfs@openssh.com"]||-1===r.extensions["fstatvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=new Buffer(37+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(20,i,!0),o.write("fstatvfs@openssh.com",i+=4,20,"ascii"),o.writeUInt32BE(n,i+=20,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={extended:"fstatvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fstatvfs@openssh.com"),this.push(o)},I.prototype.ext_openssh_hardlink=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["hardlink@openssh.com"]||-1===n.extensions["hardlink@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=new Buffer(37+i+4+o);a.writeUInt32BE(a.length-4,0,!0),a[4]=g.EXTENDED;var c=n.writeReqid=(n.writeReqid+1)%A;return a.writeUInt32BE(c,5,!0),a.writeUInt32BE(20,s,!0),a.write("hardlink@openssh.com",s+=4,20,"ascii"),a.writeUInt32BE(i,s+=20,!0),a.write(e,s+=4,i,"utf8"),a.writeUInt32BE(o,s+=i,!0),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing hardlink@openssh.com"),this.push(a)},I.prototype.ext_openssh_fsync=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fsync@openssh.com"]||-1===r.extensions["fsync@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=new Buffer(34+n);o.writeUInt32BE(o.length-4,0,!0),o[4]=g.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%A;return o.writeUInt32BE(s,5,!0),o.writeUInt32BE(17,i,!0),o.write("fsync@openssh.com",i+=4,17,"ascii"),o.writeUInt32BE(n,i+=17,!0),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fsync@openssh.com"),this.push(o)},I.prototype.status=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");if(!p[t]||"number"!=typeof t)throw new Error("Bad status code: "+t);r||(r=""),n||(n="");var i=Buffer.byteLength(r),o=Buffer.byteLength(n),s=new Buffer(17+i+4+o);return s.writeUInt32BE(s.length-4,0,!0),s[4]=_.STATUS,s.writeUInt32BE(e,5,!0),s.writeUInt32BE(t,9,!0),s.writeUInt32BE(i,13,!0),i&&s.write(r,17,i,"utf8"),s.writeUInt32BE(o,17+i,!0),o&&s.write(n,17+i+4,o,"ascii"),this.debug("DEBUG[SFTP]: Outgoing: Writing STATUS"),this.push(s)},I.prototype.handle=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(t))throw new Error("handle is not a Buffer");var r=t.length;if(r>256)throw new Error("handle too large (> 256 bytes)");var n=new Buffer(13+r);return n.writeUInt32BE(n.length-4,0,!0),n[4]=_.HANDLE,n.writeUInt32BE(e,5,!0),n.writeUInt32BE(r,9,!0),r&&t.copy(n,13),this.debug("DEBUG[SFTP]: Outgoing: Writing HANDLE"),this.push(n)},I.prototype.data=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n=Buffer.isBuffer(t);if(!n&&"string"!=typeof t)throw new Error("data is not a Buffer or string");n||r||(r="utf8");var i=n?t.length:Buffer.byteLength(t,r),o=new Buffer(13+i);return o.writeUInt32BE(o.length-4,0,!0),o[4]=_.DATA,o.writeUInt32BE(e,5,!0),o.writeUInt32BE(i,9,!0),i&&(n?t.copy(o,13):o.write(t,13,i,r)),this.debug("DEBUG[SFTP]: Outgoing: Writing DATA"),this.push(o)},I.prototype.name=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(Array.isArray(t)||"object"!=typeof t){if(!Array.isArray(t))throw new Error("names is not an object or array")}else t=[t];var r,n,i,o,s,a,c,u,h,f,l,d,p=t.length,g=0,E=[];for(f=0;f<p;++f)i=(n=t[f])&&n.filename&&"string"==typeof n.filename?n.filename:"",g+=4+Buffer.byteLength(i),o=n&&n.longname&&"string"==typeof n.longname?n.longname:"",g+=4+Buffer.byteLength(o),"object"==typeof n.attrs?(g+=4+(r=R(n.attrs)).nbytes,E.push(r)):E.push(null);for((u=new Buffer(13+g)).writeUInt32BE(u.length-4,0,!0),u[4]=_.NAME,u.writeUInt32BE(e,5,!0),u.writeUInt32BE(p,9,!0),h=13,f=0;f<p;++f)if(i=(n=t[f])&&n.filename&&"string"==typeof n.filename?n.filename:"",a=Buffer.byteLength(i),u.writeUInt32BE(a,h,!0),h+=4,a&&(u.write(i,h,a,"utf8"),h+=a),o=n&&n.longname&&"string"==typeof n.longname?n.longname:"",a=Buffer.byteLength(o),u.writeUInt32BE(a,h,!0),h+=4,a&&(u.write(o,h,a,"utf8"),h+=a),s=E[f]){if(u.writeUInt32BE(s.flags,h,!0),h+=4,s.flags&&s.bytes){var A=s.bytes;for(l=0,a=A.length;l<a;++l)for(d=0,c=A[l].length;d<c;++d)u[h++]=A[l][d]}}else u.writeUInt32BE(0,h,!0),h+=4;return this.debug("DEBUG[SFTP]: Outgoing: Writing NAME"),this.push(u)},I.prototype.attrs=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if("object"!=typeof t)throw new Error("attrs is not an object");var r=R(t),n=new Buffer(13+r.nbytes),i=13;if(n.writeUInt32BE(n.length-4,0,!0),n[4]=_.ATTRS,n.writeUInt32BE(e,5,!0),n.writeUInt32BE(r.flags,9,!0),r.flags&&r.bytes)for(var o=r.bytes,s=0,a=o.length;s<a;++s)for(var c=0,u=o[s].length;c<u;++c)n[i++]=o[s][c];return this.debug("DEBUG[SFTP]: Outgoing: Writing ATTRS"),this.push(n)};var T,O={r:E.READ,"r+":E.READ|E.WRITE,w:E.TRUNC|E.CREAT|E.WRITE,wx:E.TRUNC|E.CREAT|E.WRITE|E.EXCL,xw:E.TRUNC|E.CREAT|E.WRITE|E.EXCL,"w+":E.TRUNC|E.CREAT|E.READ|E.WRITE,"wx+":E.TRUNC|E.CREAT|E.READ|E.WRITE|E.EXCL,"xw+":E.TRUNC|E.CREAT|E.READ|E.WRITE|E.EXCL,a:E.APPEND|E.CREAT|E.WRITE,ax:E.APPEND|E.CREAT|E.WRITE|E.EXCL,xa:E.APPEND|E.CREAT|E.WRITE|E.EXCL,"a+":E.APPEND|E.CREAT|E.READ|E.WRITE,"ax+":E.APPEND|E.CREAT|E.READ|E.WRITE|E.EXCL,"xa+":E.APPEND|E.CREAT|E.READ|E.WRITE|E.EXCL},L=Object.keys(O);function D(e){var t=O[e];return void 0!==t?t:null}function P(e){this.mode=e&&e.mode,this.permissions=this.mode,this.uid=e&&e.uid,this.gid=e&&e.gid,this.size=e&&e.size,this.atime=e&&e.atime,this.mtime=e&&e.mtime}function x(e,t,r){if(!(this instanceof x))return new x(e,t,r);var n=this;if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(void 0===r.highWaterMark&&(r.highWaterMark=65536),i.call(this,r),this.path=t,this.handle=void 0===r.handle?null:r.handle,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=void 0===r.start?void 0:r.start,this.end=void 0===r.end?void 0:r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.sftp=e,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.on("end",function(){n.autoClose&&n.destroy()}),Buffer.isBuffer(this.handle)||this.open()}function H(e,t,r){if(!(this instanceof H))return new H(e,t,r);if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(o.call(this,r),this.path=t,this.handle=void 0===r.handle?null:r.handle,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=void 0===r.start?void 0:r.start,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesWritten=0,this.sftp=e,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),Buffer.isBuffer(this.handle)||this.open(),this.once("finish",function(){this.autoClose&&this.close()})}I.stringToFlags=D,I.flagsToString=function(e){for(var t=0;t<L.length;++t){var r=L[t];if(O[r]===e)return r}return null},P.prototype._checkModeProperty=function(e){return(this.mode&s.S_IFMT)===e},P.prototype.isDirectory=function(){return this._checkModeProperty(s.S_IFDIR)},P.prototype.isFile=function(){return this._checkModeProperty(s.S_IFREG)},P.prototype.isBlockDevice=function(){return this._checkModeProperty(s.S_IFBLK)},P.prototype.isCharacterDevice=function(){return this._checkModeProperty(s.S_IFCHR)},P.prototype.isSymbolicLink=function(){return this._checkModeProperty(s.S_IFLNK)},P.prototype.isFIFO=function(){return this._checkModeProperty(s.S_IFIFO)},P.prototype.isSocket=function(){return this._checkModeProperty(s.S_IFSOCK)},I.Stats=P,c(x,i),x.prototype.open=function(){var e=this;this.sftp.open(this.path,this.flags,this.mode,function(t,r){if(t)return e.emit("error",t),this.destroyed=this.closed=!0,void e.emit("close");e.handle=r,e.emit("open",r),e.read()})},x.prototype._read=function(e){if(!Buffer.isBuffer(this.handle))return this.once("open",function(){this._read(e)});if(!this.destroyed){var t;(!T||T.length-T.used<128)&&(T=null,t=this._readableState.highWaterMark,(T=new Buffer(t)).used=0);var r=T,n=Math.min(T.length-T.used,e),i=T.used;if(void 0!==this.end&&(n=Math.min(this.end-this.pos+1,n)),n<=0)return this.push(null);var o=this;this.sftp.readData(this.handle,T,T.used,n,this.pos,function(e,t){if(e)o.autoClose&&o.destroy(),o.emit("error",e);else{var n=null;t>0&&(n=r.slice(i,i+t)),o.push(n)}}),this.pos+=n,T.used+=n}},x.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,Buffer.isBuffer(this.handle)&&this.close())},x.prototype.close=function(e){var t=this;if(e&&this.once("close",e),this.closed||!Buffer.isBuffer(this.handle))return Buffer.isBuffer(this.handle)?process.nextTick(this.emit.bind(this,"close")):void this.once("open",r);function r(e){t.sftp.close(e||t.handle,function(e){e?t.emit("error",e):t.emit("close")}),t.handle=null}this.closed=!0,r()},c(H,o),H.prototype.open=function(){var e=this;this.sftp.open(this.path,this.flags,this.mode,function(t,r){if(t)return e.emit("error",t),void(this.autoClose&&(this.destroyed=this.closed=!0,e.emit("close")));e.handle=r,"a"!==e.flags[0]?e.emit("open",r):e.sftp.fstat(r,function t(n,i){n?e.sftp.stat(e.path,function(r,i){if(r)return e.destroy(),void e.emit("error",n);t(null,i)}):(e.pos=i.size,e.emit("open",r))})})},H.prototype._write=function(e,t,r){if(!Buffer.isBuffer(e))return this.emit("error",new Error("Invalid data"));if(!Buffer.isBuffer(this.handle))return this.once("open",function(){this._write(e,t,r)});var n=this;this.sftp.writeData(this.handle,e,0,e.length,this.pos,function(e,t){if(e)return n.autoClose&&n.destroy(),r(e);n.bytesWritten+=t,r()}),this.pos+=e.length},H.prototype._writev=function(e,t){if(!Buffer.isBuffer(this.handle))return this.once("open",function(){this._writev(e,t)});for(var r=this.sftp,n=this.handle,i=e.length,o=this,s=0;s<e.length;++s){var a=e[s].chunk;r.writeData(n,a,0,a.length,this.pos,c),this.pos+=a.length}function c(e,r){if(e)return o.destroy(),t(e);o.bytesWritten+=r,0===--i&&t()}},H.prototype.destroy=x.prototype.destroy,H.prototype.close=x.prototype.close,H.prototype.destroySoon=H.prototype.end,e.exports=I},4632:(e,t,r)=>{"use strict";const{createCipheriv:n,createDecipheriv:i,createHmac:o,randomFillSync:s,timingSafeEqual:a}=r(6982),{readUInt32BE:c,writeUInt32BE:u}=r(2024),h=Buffer[Symbol.species],f=2**32-1,l=Buffer.alloc(0),d=Buffer.alloc(4),p=new Map,g=35e3;let _,E,A,y,m,w,v;try{_=r(Object(function(){var e=new Error("Cannot find module './crypto/build/Release/sshcrypto.node'");throw e.code="MODULE_NOT_FOUND",e}())),({AESGCMCipher:E,ChaChaPolyCipher:A,GenericCipher:y,AESGCMDecipher:m,ChaChaPolyDecipher:w,GenericDecipher:v}=_)}catch{}const b=(()=>{function e(e,t,r,n,i,o,s){return{sslName:e,blockLen:t,keyLen:r,ivLen:0!==n||1&s?n:t,authLen:i,discardLen:o,stream:!!(1&s)}}return{"chacha20-poly1305@openssh.com":e("chacha20",8,64,0,16,0,1),"aes128-gcm":e("aes-128-gcm",16,16,12,16,0,1),"aes256-gcm":e("aes-256-gcm",16,32,12,16,0,1),"aes128-gcm@openssh.com":e("aes-128-gcm",16,16,12,16,0,1),"aes256-gcm@openssh.com":e("aes-256-gcm",16,32,12,16,0,1),"aes128-cbc":e("aes-128-cbc",16,16,0,0,0,0),"aes192-cbc":e("aes-192-cbc",16,24,0,0,0,0),"aes256-cbc":e("aes-256-cbc",16,32,0,0,0,0),"rijndael-cbc@lysator.liu.se":e("aes-256-cbc",16,32,0,0,0,0),"3des-cbc":e("des-ede3-cbc",8,24,0,0,0,0),"blowfish-cbc":e("bf-cbc",8,16,0,0,0,0),"idea-cbc":e("idea-cbc",8,16,0,0,0,0),"cast128-cbc":e("cast-cbc",8,16,0,0,0,0),"aes128-ctr":e("aes-128-ctr",16,16,16,0,0,1),"aes192-ctr":e("aes-192-ctr",16,24,16,0,0,1),"aes256-ctr":e("aes-256-ctr",16,32,16,0,0,1),"3des-ctr":e("des-ede3",8,24,8,0,0,1),"blowfish-ctr":e("bf-ecb",8,16,8,0,0,1),"cast128-ctr":e("cast5-ecb",8,16,8,0,0,1),arcfour:e("rc4",8,16,0,0,1536,1),arcfour128:e("rc4",8,16,0,0,1536,1),arcfour256:e("rc4",8,32,0,0,1536,1),arcfour512:e("rc4",8,64,0,0,1536,1)}})(),I=(()=>{function e(e,t,r,n){return{sslName:e,len:t,actualLen:r,isETM:n}}return{"hmac-md5":e("md5",16,16,!1),"hmac-md5-96":e("md5",16,12,!1),"hmac-ripemd160":e("ripemd160",20,20,!1),"hmac-sha1":e("sha1",20,20,!1),"hmac-sha1-etm@openssh.com":e("sha1",20,20,!0),"hmac-sha1-96":e("sha1",20,12,!1),"hmac-sha2-256":e("sha256",32,32,!1),"hmac-sha2-256-etm@openssh.com":e("sha256",32,32,!0),"hmac-sha2-256-96":e("sha256",32,12,!1),"hmac-sha2-512":e("sha512",64,64,!1),"hmac-sha2-512-etm@openssh.com":e("sha512",64,64,!0),"hmac-sha2-512-96":e("sha512",64,12,!1)}})(),S=Buffer.alloc(32),B=Buffer.alloc(16);let k,C,R;class N{constructor(e){const t=e.outbound;this.outSeqno=t.seqno,this._onWrite=t.onWrite,this._encKeyMain=t.cipherKey.slice(0,32),this._encKeyPktLen=t.cipherKey.slice(32),this._dead=!1}free(){this._dead=!0}allocPacket(e){let t=5+e,r=8-(t-4&7);r<4&&(r+=8),t+=r;const n=Buffer.allocUnsafe(t);return u(n,t-4,0),n[4]=r,s(n,5+e,r),n}encrypt(e){if(this._dead)return;B[0]=0,u(B,this.outSeqno,12);const t=n("chacha20",this._encKeyMain,B).update(S),r=n("chacha20",this._encKeyPktLen,B).update(e.slice(0,4));this._onWrite(r),B[0]=1;const i=n("chacha20",this._encKeyMain,B).update(e.slice(4));this._onWrite(i),R(C,r,r.length,i,i.length,t);const o=Buffer.allocUnsafe(16);o.set(new Uint8Array(k.HEAPU8.buffer,C,16),0),this._onWrite(o),this.outSeqno=this.outSeqno+1>>>0}}class U{constructor(e){const t=e.outbound;this.outSeqno=t.seqno,this._onWrite=t.onWrite,this._instance=new A(t.cipherKey),this._dead=!1}free(){this._dead=!0,this._instance.free()}allocPacket(e){let t=5+e,r=8-(t-4&7);r<4&&(r+=8),t+=r;const n=Buffer.allocUnsafe(t+16);return u(n,t-4,0),n[4]=r,s(n,5+e,r),n}encrypt(e){this._dead||(this._instance.encrypt(e,this.outSeqno),this._onWrite(e),this.outSeqno=this.outSeqno+1>>>0)}}class T{constructor(e){const t=e.outbound;this.outSeqno=t.seqno,this._onWrite=t.onWrite,this._encSSLName=t.cipherInfo.sslName,this._encKey=t.cipherKey,this._encIV=t.cipherIV,this._dead=!1}free(){this._dead=!0}allocPacket(e){let t=5+e,r=16-(t-4&15);r<4&&(r+=16),t+=r;const n=Buffer.allocUnsafe(t);return u(n,t-4,0),n[4]=r,s(n,5+e,r),n}encrypt(e){if(this._dead)return;const t=n(this._encSSLName,this._encKey,this._encIV);t.setAutoPadding(!1);const r=e.slice(0,4);t.setAAD(r),this._onWrite(r);const i=t.update(e.slice(4));this._onWrite(i);const o=t.final();o.length&&this._onWrite(o);const s=t.getAuthTag();this._onWrite(s),K(this._encIV),this.outSeqno=this.outSeqno+1>>>0}}class O{constructor(e){const t=e.outbound;this.outSeqno=t.seqno,this._onWrite=t.onWrite,this._instance=new E(t.cipherInfo.sslName,t.cipherKey,t.cipherIV),this._dead=!1}free(){this._dead=!0,this._instance.free()}allocPacket(e){let t=5+e,r=16-(t-4&15);r<4&&(r+=16),t+=r;const n=Buffer.allocUnsafe(t+16);return u(n,t-4,0),n[4]=r,s(n,5+e,r),n}encrypt(e){this._dead||(this._instance.encrypt(e),this._onWrite(e),this.outSeqno=this.outSeqno+1>>>0)}}class L{constructor(e){const t=e.outbound;this.outSeqno=t.seqno,this._onWrite=t.onWrite,this._encBlockLen=t.cipherInfo.blockLen,this._cipherInstance=n(t.cipherInfo.sslName,t.cipherKey,t.cipherIV),this._macSSLName=t.macInfo.sslName,this._macKey=t.macKey,this._macActualLen=t.macInfo.actualLen,this._macETM=t.macInfo.isETM,this._aadLen=this._macETM?4:0,this._dead=!1;const r=t.cipherInfo.discardLen;if(r){let e=p.get(r);void 0===e&&(e=Buffer.alloc(r),p.set(r,e)),this._cipherInstance.update(e)}}free(){this._dead=!0}allocPacket(e){const t=this._encBlockLen;let r=5+e,n=t-(r-this._aadLen&t-1);n<4&&(n+=t),r+=n;const i=Buffer.allocUnsafe(r);return u(i,r-4,0),i[4]=n,s(i,5+e,n),i}encrypt(e){if(this._dead)return;let t;if(this._macETM){const r=new Uint8Array(e.buffer,e.byteOffset,4),n=this._cipherInstance.update(new Uint8Array(e.buffer,e.byteOffset+4,e.length-4));this._onWrite(r),this._onWrite(n),t=o(this._macSSLName,this._macKey),u(d,this.outSeqno,0),t.update(d),t.update(r),t.update(n)}else{const r=this._cipherInstance.update(e);this._onWrite(r),t=o(this._macSSLName,this._macKey),u(d,this.outSeqno,0),t.update(d),t.update(e)}let r=t.digest();r.length>this._macActualLen&&(r=r.slice(0,this._macActualLen)),this._onWrite(r),this.outSeqno=this.outSeqno+1>>>0}}class D{constructor(e){const t=e.outbound;this.outSeqno=t.seqno,this._onWrite=t.onWrite,this._encBlockLen=t.cipherInfo.blockLen,this._macLen=t.macInfo.len,this._macActualLen=t.macInfo.actualLen,this._aadLen=t.macInfo.isETM?4:0,this._instance=new y(t.cipherInfo.sslName,t.cipherKey,t.cipherIV,t.macInfo.sslName,t.macKey,t.macInfo.isETM),this._dead=!1}free(){this._dead=!0,this._instance.free()}allocPacket(e){const t=this._encBlockLen;let r=5+e,n=t-(r-this._aadLen&t-1);n<4&&(n+=t),r+=n;const i=Buffer.allocUnsafe(r+this._macLen);return u(i,r-4,0),i[4]=n,s(i,5+e,n),i}encrypt(e){this._dead||(this._instance.encrypt(e,this.outSeqno),this._macActualLen<this._macLen&&(e=new h(e.buffer,e.byteOffset,e.length-(this._macLen-this._macActualLen))),this._onWrite(e),this.outSeqno=this.outSeqno+1>>>0)}}class P{constructor(e){const t=e.inbound;this.inSeqno=t.seqno,this._onPayload=t.onPayload,this._decKeyMain=t.decipherKey.slice(0,32),this._decKeyPktLen=t.decipherKey.slice(32),this._len=0,this._lenBuf=Buffer.alloc(4),this._lenPos=0,this._packet=null,this._pktLen=0,this._mac=Buffer.allocUnsafe(16),this._calcMac=Buffer.allocUnsafe(16),this._macPos=0}free(){}decrypt(e,t,r){for(;t<r;){if(this._lenPos<4){let n=Math.min(4-this._lenPos,r-t);for(;n--;)this._lenBuf[this._lenPos++]=e[t++];if(this._lenPos<4)return;B[0]=0,u(B,this.inSeqno,12);const o=i("chacha20",this._decKeyPktLen,B).update(this._lenBuf);if(this._len=c(o,0),this._len>g||this._len<8||7&this._len)throw new Error("Bad packet length")}if(this._pktLen<this._len){if(t>=r)return;const n=Math.min(this._len-this._pktLen,r-t);let i;if(i=0!==t||n!==r?new Uint8Array(e.buffer,e.byteOffset+t,n):e,n===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._pktLen)),t+=n,this._pktLen+=n,this._pktLen<this._len||t>=r)return}{const n=Math.min(16-this._macPos,r-t);if(0!==t||n!==r?this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._macPos):this._mac.set(e,this._macPos),t+=n,this._macPos+=n,this._macPos<16)return}B[0]=0,u(B,this.inSeqno,12);const o=n("chacha20",this._decKeyMain,B).update(S);if(R(C,this._lenBuf,4,this._packet,this._packet.length,o),this._calcMac.set(new Uint8Array(k.HEAPU8.buffer,C,16),0),!a(this._calcMac,this._mac))throw new Error("Invalid MAC");B[0]=1;const s=i("chacha20",this._decKeyMain,B).update(this._packet),f=new h(s.buffer,s.byteOffset+1,s.length-s[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._len=0,this._lenPos=0,this._packet=null,this._pktLen=0,this._macPos=0;{const e=this._onPayload(f);if(void 0!==e)return!1===e?t:e}}}}class x{constructor(e){const t=e.inbound;this.inSeqno=t.seqno,this._onPayload=t.onPayload,this._instance=new w(t.decipherKey),this._len=0,this._lenBuf=Buffer.alloc(4),this._lenPos=0,this._packet=null,this._pktLen=0,this._mac=Buffer.allocUnsafe(16),this._macPos=0}free(){this._instance.free()}decrypt(e,t,r){for(;t<r;){if(this._lenPos<4){let n=Math.min(4-this._lenPos,r-t);for(;n--;)this._lenBuf[this._lenPos++]=e[t++];if(this._lenPos<4)return;if(this._len=this._instance.decryptLen(this._lenBuf,this.inSeqno),this._len>g||this._len<8||7&this._len)throw new Error("Bad packet length");if(t>=r)return}if(this._pktLen<this._len){const n=Math.min(this._len-this._pktLen,r-t);let i;if(i=0!==t||n!==r?new Uint8Array(e.buffer,e.byteOffset+t,n):e,n===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._pktLen)),t+=n,this._pktLen+=n,this._pktLen<this._len||t>=r)return}{const n=Math.min(16-this._macPos,r-t);if(0!==t||n!==r?this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._macPos):this._mac.set(e,this._macPos),t+=n,this._macPos+=n,this._macPos<16)return}this._instance.decrypt(this._packet,this._mac,this.inSeqno);const n=new h(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._len=0,this._lenPos=0,this._packet=null,this._pktLen=0,this._macPos=0;{const e=this._onPayload(n);if(void 0!==e)return!1===e?t:e}}}}class H{constructor(e){const t=e.inbound;this.inSeqno=t.seqno,this._onPayload=t.onPayload,this._decipherInstance=null,this._decipherSSLName=t.decipherInfo.sslName,this._decipherKey=t.decipherKey,this._decipherIV=t.decipherIV,this._len=0,this._lenBytes=0,this._packet=null,this._packetPos=0,this._pktLen=0,this._tag=Buffer.allocUnsafe(16),this._tagPos=0}free(){}decrypt(e,t,r){for(;t<r;){if(this._lenBytes<4){let n=Math.min(4-this._lenBytes,r-t);for(this._lenBytes+=n;n--;)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len+20>g||this._len<16||15&this._len)throw new Error("Bad packet length");this._decipherInstance=i(this._decipherSSLName,this._decipherKey,this._decipherIV),this._decipherInstance.setAutoPadding(!1),this._decipherInstance.setAAD(W(this._len))}if(this._pktLen<this._len){if(t>=r)return;const n=Math.min(this._len-this._pktLen,r-t);let i;if(i=0!==t||n!==r?this._decipherInstance.update(new Uint8Array(e.buffer,e.byteOffset+t,n)):this._decipherInstance.update(e),i.length&&(n===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._packetPos)),this._packetPos+=i.length),t+=n,this._pktLen+=n,this._pktLen<this._len||t>=r)return}{const n=Math.min(16-this._tagPos,r-t);if(0!==t||n!==r?this._tag.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._tagPos):this._tag.set(e,this._tagPos),t+=n,this._tagPos+=n,this._tagPos<16)return}{this._decipherInstance.setAuthTag(this._tag);const e=this._decipherInstance.final();e.length&&(this._packet?this._packet.set(e,this._packetPos):this._packet=e)}const n=this._packet?new h(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1):l;this.inSeqno=this.inSeqno+1>>>0,K(this._decipherIV),this._len=0,this._lenBytes=0,this._packet=null,this._packetPos=0,this._pktLen=0,this._tagPos=0;{const e=this._onPayload(n);if(void 0!==e)return!1===e?t:e}}}}class Q{constructor(e){const t=e.inbound;this.inSeqno=t.seqno,this._onPayload=t.onPayload,this._instance=new m(t.decipherInfo.sslName,t.decipherKey,t.decipherIV),this._len=0,this._lenBytes=0,this._packet=null,this._pktLen=0,this._tag=Buffer.allocUnsafe(16),this._tagPos=0}free(){}decrypt(e,t,r){for(;t<r;){if(this._lenBytes<4){let n=Math.min(4-this._lenBytes,r-t);for(this._lenBytes+=n;n--;)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len+20>g||this._len<16||15&this._len)throw new Error(`Bad packet length: ${this._len}`)}if(this._pktLen<this._len){if(t>=r)return;const n=Math.min(this._len-this._pktLen,r-t);let i;if(i=0!==t||n!==r?new Uint8Array(e.buffer,e.byteOffset+t,n):e,n===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._pktLen)),t+=n,this._pktLen+=n,this._pktLen<this._len||t>=r)return}{const n=Math.min(16-this._tagPos,r-t);if(0!==t||n!==r?this._tag.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._tagPos):this._tag.set(e,this._tagPos),t+=n,this._tagPos+=n,this._tagPos<16)return}this._instance.decrypt(this._packet,this._len,this._tag);const n=new h(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._len=0,this._lenBytes=0,this._packet=null,this._pktLen=0,this._tagPos=0;{const e=this._onPayload(n);if(void 0!==e)return!1===e?t:e}}}}class F{constructor(e){const t=e.inbound;this.inSeqno=t.seqno,this._onPayload=t.onPayload,this._decipherInstance=i(t.decipherInfo.sslName,t.decipherKey,t.decipherIV),this._decipherInstance.setAutoPadding(!1),this._block=Buffer.allocUnsafe(t.macInfo.isETM?4:t.decipherInfo.blockLen),this._blockSize=t.decipherInfo.blockLen,this._blockPos=0,this._len=0,this._packet=null,this._packetPos=0,this._pktLen=0,this._mac=Buffer.allocUnsafe(t.macInfo.actualLen),this._macPos=0,this._macSSLName=t.macInfo.sslName,this._macKey=t.macKey,this._macActualLen=t.macInfo.actualLen,this._macETM=t.macInfo.isETM,this._macInstance=null;const r=t.decipherInfo.discardLen;if(r){let e=p.get(r);void 0===e&&(e=Buffer.alloc(r),p.set(r,e)),this._decipherInstance.update(e)}}free(){}decrypt(e,t,r){for(;t<r;){if(this._blockPos<this._block.length){const n=Math.min(this._block.length-this._blockPos,r-t);if(0!==t||n!==r||n<e.length?this._block.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._blockPos):this._block.set(e,this._blockPos),t+=n,this._blockPos+=n,this._blockPos<this._block.length)return;let i,s;if(this._macETM?this._len=s=c(this._block,0):(i=this._decipherInstance.update(this._block),this._len=c(i,0),s=4+this._len-this._blockSize),this._len>g||this._len<5||s&this._blockSize-1)throw new Error("Bad packet length");if(this._macInstance=o(this._macSSLName,this._macKey),u(d,this.inSeqno,0),this._macInstance.update(d),this._macETM?this._macInstance.update(this._block):(this._macInstance.update(new Uint8Array(i.buffer,i.byteOffset,4)),this._pktLen=i.length-4,this._packetPos=this._pktLen,this._packet=Buffer.allocUnsafe(this._len),this._packet.set(new Uint8Array(i.buffer,i.byteOffset+4,this._packetPos),0)),t>=r)return}if(this._pktLen<this._len){const n=Math.min(this._len-this._pktLen,r-t);let i;i=0!==t||n!==r?new Uint8Array(e.buffer,e.byteOffset+t,n):e,this._macETM&&this._macInstance.update(i);const o=this._decipherInstance.update(i);if(o.length&&(n===this._len?this._packet=o:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(o,this._packetPos)),this._packetPos+=o.length),t+=n,this._pktLen+=n,this._pktLen<this._len||t>=r)return}{const n=Math.min(this._macActualLen-this._macPos,r-t);if(0!==t||n!==r?this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._macPos):this._mac.set(e,this._macPos),t+=n,this._macPos+=n,this._macPos<this._macActualLen)return}this._macETM||this._macInstance.update(this._packet);let n=this._macInstance.digest();if(this._macActualLen<n.length&&(n=new Uint8Array(n.buffer,n.byteOffset,this._macActualLen)),!G(n,this._mac))throw new Error("Invalid MAC");const i=new h(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._blockPos=0,this._len=0,this._packet=null,this._packetPos=0,this._pktLen=0,this._macPos=0,this._macInstance=null;{const e=this._onPayload(i);if(void 0!==e)return!1===e?t:e}}}}class M{constructor(e){const t=e.inbound;this.inSeqno=t.seqno,this._onPayload=t.onPayload,this._instance=new v(t.decipherInfo.sslName,t.decipherKey,t.decipherIV,t.macInfo.sslName,t.macKey,t.macInfo.isETM,t.macInfo.actualLen),this._block=Buffer.allocUnsafe(t.macInfo.isETM||t.decipherInfo.stream?4:t.decipherInfo.blockLen),this._blockPos=0,this._len=0,this._packet=null,this._pktLen=0,this._mac=Buffer.allocUnsafe(t.macInfo.actualLen),this._macPos=0,this._macActualLen=t.macInfo.actualLen,this._macETM=t.macInfo.isETM}free(){this._instance.free()}decrypt(e,t,r){for(;t<r;){if(this._blockPos<this._block.length){const n=Math.min(this._block.length-this._blockPos,r-t);if(0!==t||n!==r||n<e.length?this._block.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._blockPos):this._block.set(e,this._blockPos),t+=n,this._blockPos+=n,this._blockPos<this._block.length)return;let i;if(this._macETM?this._len=i=c(this._block,0):(this._instance.decryptBlock(this._block),this._len=c(this._block,0),i=4+this._len-this._block.length),this._len>g||this._len<5||i&this._block.length-1)throw new Error("Bad packet length");if(this._macETM||(this._pktLen=this._block.length-4,this._pktLen&&(this._packet=Buffer.allocUnsafe(this._len),this._packet.set(new Uint8Array(this._block.buffer,this._block.byteOffset+4,this._pktLen),0))),t>=r)return}if(this._pktLen<this._len){const n=Math.min(this._len-this._pktLen,r-t);let i;if(i=0!==t||n!==r?new Uint8Array(e.buffer,e.byteOffset+t,n):e,n===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._pktLen)),t+=n,this._pktLen+=n,this._pktLen<this._len||t>=r)return}{const n=Math.min(this._macActualLen-this._macPos,r-t);if(0!==t||n!==r?this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._macPos):this._mac.set(e,this._macPos),t+=n,this._macPos+=n,this._macPos<this._macActualLen)return}this._instance.decrypt(this._packet,this.inSeqno,this._block,this._mac);const n=new h(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._blockPos=0,this._len=0,this._packet=null,this._pktLen=0,this._macPos=0,this._macInstance=null;{const e=this._onPayload(n);if(void 0!==e)return!1===e?t:e}}}}function K(e){++e[11]>>>8&&++e[10]>>>8&&++e[9]>>>8&&++e[8]>>>8&&++e[7]>>>8&&++e[6]>>>8&&++e[5]>>>8&&++e[4]}const W=(()=>{const e=Buffer.alloc(4);return t=>(e[0]=t>>>24,e[1]=t>>>16,e[2]=t>>>8,e[3]=t,e)})();function G(e,t){return e.length!==t.length?(a(e,e),!1):a(e,t)}e.exports={CIPHER_INFO:b,MAC_INFO:I,bindingAvailable:!!_,init:new Promise(async(e,t)=>{try{k=await r(5654)(),C=k._malloc(16),R=k.cwrap("poly1305_auth",null,["number","array","number","array","number","array"])}catch(e){return t(e)}e()}),NullCipher:class{constructor(e,t){this.outSeqno=e,this._onWrite=t,this._dead=!1}free(){this._dead=!0}allocPacket(e){let t=5+e,r=8-(7&t);r<4&&(r+=8),t+=r;const n=Buffer.allocUnsafe(t);return u(n,t-4,0),n[4]=r,s(n,5+e,r),n}encrypt(e){this._dead||(this._onWrite(e),this.outSeqno=this.outSeqno+1>>>0)}},createCipher:function(e){if("object"!=typeof e||null===e)throw new Error("Invalid config");if("object"!=typeof e.outbound||null===e.outbound)throw new Error("Invalid outbound");const t=e.outbound;if("function"!=typeof t.onWrite)throw new Error("Invalid outbound.onWrite");if("object"!=typeof t.cipherInfo||null===t.cipherInfo)throw new Error("Invalid outbound.cipherInfo");if(!Buffer.isBuffer(t.cipherKey)||t.cipherKey.length!==t.cipherInfo.keyLen)throw new Error("Invalid outbound.cipherKey");if(t.cipherInfo.ivLen&&(!Buffer.isBuffer(t.cipherIV)||t.cipherIV.length!==t.cipherInfo.ivLen))throw new Error("Invalid outbound.cipherIV");if("number"!=typeof t.seqno||t.seqno<0||t.seqno>f)throw new Error("Invalid outbound.seqno");const r=!!t.forceNative;switch(t.cipherInfo.sslName){case"aes-128-gcm":case"aes-256-gcm":return E&&!r?new O(e):new T(e);case"chacha20":return A&&!r?new U(e):new N(e);default:if("object"!=typeof t.macInfo||null===t.macInfo)throw new Error("Invalid outbound.macInfo");if(!Buffer.isBuffer(t.macKey)||t.macKey.length!==t.macInfo.len)throw new Error("Invalid outbound.macKey");return y&&!r?new D(e):new L(e)}},NullDecipher:class{constructor(e,t){this.inSeqno=e,this._onPayload=t,this._len=0,this._lenBytes=0,this._packet=null,this._packetPos=0}free(){}decrypt(e,t,r){for(;t<r;){if(this._lenBytes<4){let n=Math.min(4-this._lenBytes,r-t);for(this._lenBytes+=n;n--;)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len>g||this._len<8||4+this._len&7)throw new Error("Bad packet length");if(t>=r)return}if(this._packetPos<this._len){const n=Math.min(this._len-this._packetPos,r-t);let i;if(i=0!==t||n!==r?new Uint8Array(e.buffer,e.byteOffset+t,n):e,n===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._packetPos)),t+=n,this._packetPos+=n,this._packetPos<this._len)return}const n=this._packet?new h(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1):l;this.inSeqno=this.inSeqno+1>>>0,this._len=0,this._lenBytes=0,this._packet=null,this._packetPos=0;{const e=this._onPayload(n);if(void 0!==e)return!1===e?t:e}}}},createDecipher:function(e){if("object"!=typeof e||null===e)throw new Error("Invalid config");if("object"!=typeof e.inbound||null===e.inbound)throw new Error("Invalid inbound");const t=e.inbound;if("function"!=typeof t.onPayload)throw new Error("Invalid inbound.onPayload");if("object"!=typeof t.decipherInfo||null===t.decipherInfo)throw new Error("Invalid inbound.decipherInfo");if(!Buffer.isBuffer(t.decipherKey)||t.decipherKey.length!==t.decipherInfo.keyLen)throw new Error("Invalid inbound.decipherKey");if(t.decipherInfo.ivLen&&(!Buffer.isBuffer(t.decipherIV)||t.decipherIV.length!==t.decipherInfo.ivLen))throw new Error("Invalid inbound.decipherIV");if("number"!=typeof t.seqno||t.seqno<0||t.seqno>f)throw new Error("Invalid inbound.seqno");const r=!!t.forceNative;switch(t.decipherInfo.sslName){case"aes-128-gcm":case"aes-256-gcm":return m&&!r?new Q(e):new H(e);case"chacha20":return w&&!r?new x(e):new P(e);default:if("object"!=typeof t.macInfo||null===t.macInfo)throw new Error("Invalid inbound.macInfo");if(!Buffer.isBuffer(t.macKey)||t.macKey.length!==t.macInfo.len)throw new Error("Invalid inbound.macKey");return v&&!r?new M(e):new F(e)}}}},4756:e=>{"use strict";e.exports=require("tls")},4801:(e,t,r)=>{var n,i=r(9278),o=r(4434).EventEmitter,s=o.listenerCount,a=r(9023).inherits,c=r(6584),u=c.SSH2Stream,h=c.SFTPStream,f=c.constants,l=f.DISCONNECT_REASON,d=f.CHANNEL_OPEN_FAILURE,p=r(3863),g=r(190),_=Math.pow(2,32)-1;function E(e,t){if(!(this instanceof E))return new E(e,t);!n&&E.KEEPALIVE_INTERVAL>0&&E.KEEPALIVE_CLIENT_INTERVAL>0&&E.KEEPALIVE_CLIENT_COUNT_MAX>=0&&(n=new g(E.KEEPALIVE_INTERVAL,E.KEEPALIVE_CLIENT_INTERVAL,E.KEEPALIVE_CLIENT_COUNT_MAX));var r=this;o.call(this),"function"==typeof t&&r.on("connection",t);for(var a={},c=0,h=Object.keys(e),f=h.length;c<f;++c)a[h[c]]=e[h[c]];if(a.server=!0,"function"==typeof a.debug)var d=a.debug,p=Object.keys(a);this._srv=new i.Server(function(e){if(r._connections>=r.maxConnections)e.destroy();else{++r._connections,e.once("close",function(e){--r._connections,c.read()}).on("error",function(e){c.reset(),c.emit("error",e)});var t=a;if(d){t={};for(var n,i=0;i<p.length;++i)t[n=p[i]]=a[n];var o="["+process.hrtime().join(".")+"] ";t.debug=function(e){d(o+e)}}var c=new u(t),h=new A(c,e);e.pipe(c).pipe(e),h.on("error",f),c.once("header",function(t){if(!c._readableState.ended){if(!s(r,"connection"))return c.disconnect(l.BY_APPLICATION);h.removeListener("error",f),r.emit("connection",h,{ip:e.remoteAddress,header:t})}})}function f(e){}}).on("error",function(e){r.emit("error",e)}).on("listening",function(){r.emit("listening")}).on("close",function(){r.emit("close")}),this._connections=0,this.maxConnections=1/0}function A(e,t){o.call(this);var r=this;this._sshstream=e;var i=this._channels={};this._curChan=-1,this._sock=t,this.noMoreSessions=!1,this.authenticated=!1,e.on("end",function(){r.emit("end")}).on("close",function(e){r.emit("close",e)}).on("error",function(e){r.emit("error",e)}).on("drain",function(){r.emit("drain")}).on("continue",function(){r.emit("continue")});var a,c=0,u=!1,h=[];function f(t,n,i,o){if(0===c||a&&(a.username!==t||a.service!==n)||"password"!==i&&"publickey"!==i&&"hostbased"!==i&&"keyboard-interactive"!==i&&"none"!==i||10===h.length)return e.disconnect(l.PROTOCOL_ERROR);if("ssh-connection"!==n)return e.disconnect(l.SERVICE_NOT_AVAILABLE);var u;if(e._state.authMethod=i,"keyboard-interactive"===i?u=new v(e,t,n,i,o,g):"publickey"===i?u=new b(e,t,n,i,o,g):"hostbased"===i?u=new I(e,t,n,i,o,g):"password"===i?u=new S(e,t,n,i,o,g):"none"===i&&(u=new m(e,t,n,i,g)),a){if(!a._initialResponse)return h.push(u);a._multistep&&!this._finalResponse&&(a._cleanup&&a._cleanup(),a.emit("abort"))}a=u,s(r,"authentication")?r.emit("authentication",a):a.reject()}function g(t,n,i,o){a!==t||r.authenticated||(n?(e.removeListener("USERAUTH_REQUEST",f),a=void 0,r.authenticated=!0,e.authSuccess(),h=[],r.emit("ready")):(e.authFailure(i,o),h.length&&(a=h.pop(),s(r,"authentication")?r.emit("authentication",a):a.reject())))}e.on("SERVICE_REQUEST",function(t){if(0===c||u||r.authenticated||"ssh-userauth"!==t)return e.disconnect(l.SERVICE_NOT_AVAILABLE);u=!0,e.serviceAccept(t)}).on("USERAUTH_REQUEST",f),e.on("GLOBAL_REQUEST",function(t,n,i){if(("tcpip-forward"===t||"cancel-tcpip-forward"===t||"no-more-sessions@openssh.com"===t||"streamlocal-forward@openssh.com"===t||"cancel-streamlocal-forward@openssh.com"===t)&&s(r,"request")&&r.authenticated){var o,a;if(n){var c=!1;o=function(r){var n;if(!c)return c=!0,"tcpip-forward"===t&&0===i.bindPort&&"number"==typeof r&&(n=new Buffer(4)).writeUInt32BE(r,0,!0),e.requestSuccess(n)},a=function(){if(!c)return c=!0,e.requestFailure()}}if("no-more-sessions@openssh.com"===t)return r.noMoreSessions=!0,void(o&&o());r.emit("request",o,a,t,i)}else n&&e.requestFailure()}),e.on("CHANNEL_OPEN",function(t){if("session"===t.type&&r.noMoreSessions||!r.authenticated){var n=d.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,n)}var o,a,c=k(r),u=!1;if(!1===c)return e.channelOpenFail(t.sender,d.RESOURCE_SHORTAGE);switch(i[c]=!0,a=function(){if(!u){u=!0,delete i[c];var r=d.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,r)}},t.type){case"session":s(r,"session")?(o=function(){if(!u)return u=!0,e.channelOpenConfirm(t.sender,c,p.MAX_WINDOW,p.PACKET_SIZE),new y(r,t,c)},r.emit("session",o,a)):a();break;case"direct-tcpip":s(r,"tcpip")?(o=function(){if(!u){u=!0,e.channelOpenConfirm(t.sender,c,p.MAX_WINDOW,p.PACKET_SIZE);var n={type:void 0,incoming:{id:c,window:p.MAX_WINDOW,packetSize:p.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new p(n,r)}},r.emit("tcpip",o,a,t.data)):a();break;case"direct-streamlocal@openssh.com":s(r,"openssh.streamlocal")?(o=function(){if(!u){u=!0,e.channelOpenConfirm(t.sender,c,p.MAX_WINDOW,p.PACKET_SIZE);var n={type:void 0,incoming:{id:c,window:p.MAX_WINDOW,packetSize:p.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new p(n,r)}},r.emit("openssh.streamlocal",o,a,t.data)):a();break;default:a()}}),e.on("NEWKEYS",function(){++c>1&&r.emit("rekey")}),n&&this.once("ready",function(){n.add(e)})}function y(e,t,r){this.subtype=void 0;var n,i=!1,o=this,a=t.sender,c={type:"session",incoming:{id:r,window:p.MAX_WINDOW,packetSize:p.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};e._sshstream.on("CHANNEL_REQUEST:"+r,function(t){var r,u,f=!1;if(t.wantReply&&("shell"!==t.request&&"exec"!==t.request&&"subsystem"!==t.request&&(r=function(){if(!(f||i||n))return f=!0,e._sshstream.channelSuccess(a)}),u=function(){if(!(f||i||n))return f=!0,e._sshstream.channelFailure(a)}),i)u&&u();else switch(t.request){case"env":s(o,"env")?o.emit("env",r,u,{key:t.key,val:t.val}):u&&u();break;case"pty-req":s(o,"pty")?o.emit("pty",r,u,{cols:t.cols,rows:t.rows,width:t.width,height:t.height,term:t.term,modes:t.modes}):u&&u();break;case"window-change":s(o,"window-change")?o.emit("window-change",r,u,{cols:t.cols,rows:t.rows,width:t.width,height:t.height}):u&&u();break;case"x11-req":s(o,"x11")?o.emit("x11",r,u,{single:t.single,protocol:t.protocol,cookie:t.cookie,screen:t.screen}):u&&u();break;case"signal":s(o,"signal")?o.emit("signal",r,u,{name:t.signal}):u&&u();break;case"auth-agent-req@openssh.com":s(o,"auth-agent")?o.emit("auth-agent",r,u):u&&u();break;case"shell":s(o,"shell")?(r=function(){if(!(f||i||n))return f=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new p(c,e,{server:!0})).subtype=o.subtype=t.request,n},o.emit("shell",r,u)):u&&u();break;case"exec":s(o,"exec")?(r=function(){if(!(f||i||n))return f=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new p(c,e,{server:!0})).subtype=o.subtype=t.request,n},o.emit("exec",r,u,{command:t.command})):u&&u();break;case"subsystem":r=function(){if(!(f||i||n)){if(f=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new p(c,e,{server:!0})).subtype=o.subtype=t.request+":"+t.subsystem,"sftp"===t.subsystem){var r=new h({server:!0,debug:e._sshstream.debug});return n.pipe(r).pipe(n),r}return n}},"sftp"===t.subsystem&&s(o,"sftp")?o.emit("sftp",r,u):"sftp"!==t.subsystem&&s(o,"subsystem")?o.emit("subsystem",r,u,{name:t.subsystem}):u&&u();break;default:u&&u()}}).once("CHANNEL_EOF:"+r,function(){i=!0,o.emit("eof"),o.emit("end")}).once("CHANNEL_CLOSE:"+r,function(){i=!0,o.emit("close")})}function m(e,t,r,n,i){o.call(this);var s=this;this.username=this.user=t,this.service=r,this.method=n,this._initialResponse=!1,this._finalResponse=!1,this._multistep=!1,this._cbfinal=function(e,t,r){s._finalResponse||(s._finalResponse=!0,i(s,e,t,r))},this._stream=e}a(E,o),E.prototype.listen=function(){return this._srv.listen.apply(this._srv,arguments),this},E.prototype.address=function(){return this._srv.address()},E.prototype.getConnections=function(e){this._srv.getConnections(e)},E.prototype.close=function(e){return this._srv.close(e),this},E.prototype.ref=function(){this._srv.ref()},E.prototype.unref=function(){this._srv.unref()},a(A,o),A.prototype.end=function(){return this._sshstream.disconnect(l.BY_APPLICATION)},A.prototype.x11=function(e,t,r){return B(this,"x11",{originAddr:e,originPort:t},r)},A.prototype.forwardOut=function(e,t,r,n,i){return B(this,"forwarded-tcpip",{boundAddr:e,boundPort:t,remoteAddr:r,remotePort:n},i)},A.prototype.openssh_forwardOutStreamLocal=function(e,t){return B(this,"forwarded-streamlocal@openssh.com",{socketPath:e},t)},A.prototype.rekey=function(e){var t,r=this._sshstream,n=!0;try{n=r.rekey()}catch(e){t=e}return"function"==typeof e&&(t?process.nextTick(function(){e(t)}):this.once("rekey",e)),n},a(y,o),a(m,o),m.prototype.accept=function(){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!0)},m.prototype.reject=function(e,t){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!1,e,t)};var w=/[ \t\r\n]*,[ \t\r\n]*/g;function v(e,t,r,n,i,o){m.call(this,e,t,r,n,o),this._multistep=!0;var s=this;this._cb=void 0,this._onInfoResponse=function(e){if(s._cb){var t=s._cb;s._cb=void 0,t(e)}},this.submethods=i.split(w),this.on("abort",function(){s._cb&&s._cb(new Error("Authentication request aborted"))})}function b(e,t,r,n,i,o){m.call(this,e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature?this.sigAlgo="ssh-rsa"===i.keyAlgo?"RSA-SHA1":"DSA-SHA1":this.sigAlgo=void 0,this.blob=i.blob}function I(e,t,r,n,i,o){m.call(this,e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature?this.sigAlgo="ssh-rsa"===i.keyAlgo?"RSA-SHA1":"DSA-SHA1":this.sigAlgo=void 0,this.blob=i.blob,this.localHostname=i.localHostname,this.localUsername=i.localUsername}function S(e,t,r,n,i,o){m.call(this,e,t,r,n,o),this.password=i}function B(e,t,r,n){var i=k(e),o=p.MAX_WINDOW,s=p.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=!0;var c=e._sshstream;return c.once("CHANNEL_OPEN_CONFIRMATION:"+i,function(r){c.removeAllListeners("CHANNEL_OPEN_FAILURE:"+i);var a={type:t,incoming:{id:i,window:o,packetSize:s,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new p(a,e,{server:!0}))}).once("CHANNEL_OPEN_FAILURE:"+i,function(t){c.removeAllListeners("CHANNEL_OPEN_CONFIRMATION:"+i),delete e._channels[i];var r=new Error("(SSH) Channel open failure: "+t.description);r.reason=t.reason,r.lang=t.lang,n(r)}),"forwarded-tcpip"===t?a=c.forwardedTcpip(i,o,s,r):"x11"===t?a=c.x11(i,o,s,r):"forwarded-streamlocal@openssh.com"===t&&(a=c.openssh_forwardedStreamLocal(i,o,s,r)),a}function k(e){if(e._curChan<_)return++e._curChan;for(var t=0,r=e._channels;t<_;++t)if(!r[t])return t;return!1}a(v,m),v.prototype._cleanup=function(){this._stream.removeListener("USERAUTH_INFO_RESPONSE",this._onInfoResponse)},v.prototype.prompt=function(e,t,r,n){Array.isArray(e)||(e=[e]),"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r&&(n=r,r=void 0);for(var i=0;i<e.length;++i)"string"==typeof e[i]&&(e[i]={prompt:e[i],echo:!0});return this._cb=n,this._initialResponse=!0,this._stream.once("USERAUTH_INFO_RESPONSE",this._onInfoResponse),this._stream.authInfoReq(t,r,e)},a(b,m),b.prototype.accept=function(){this.signature?m.prototype.accept.call(this):(this._initialResponse=!0,this._stream.authPKOK(this.key.algo,this.key.data))},a(I,m),a(S,m),E.createServer=function(e,t){return new E(e,t)},E.KEEPALIVE_INTERVAL=1e3,E.KEEPALIVE_CLIENT_INTERVAL=15e3,E.KEEPALIVE_CLIENT_COUNT_MAX=3,e.exports=E},4822:(e,t,r)=>{e.exports=y;var n=r(9896),i=r(816),o=r(5084),s=(o.Minimatch,r(1726)),a=r(4434).EventEmitter,c=r(6928),u=r(2613),h=r(4016),f=r(2627),l=r(621),d=(l.alphasort,l.alphasorti,l.setopts),p=l.ownProp,g=r(5720),_=(r(9023),l.childrenIgnored),E=l.isIgnored,A=r(824);function y(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return f(e,t)}return new w(e,t,r)}y.sync=f;var m=y.GlobSync=f.GlobSync;function w(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new m(e,t)}if(!(this instanceof w))return new w(e,t,r);d(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=A(r),this.on("error",r),this.on("end",function(e){r(null,e)}));var i=this;if(n=this.minimatch.set.length,this._processing=0,this.matches=new Array(n),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}o=!1}y.glob=y,y.hasMagic=function(e,t){var r=function(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}({},t);r.noprocess=!0;var n=new w(e,r).minimatch.set;if(!e)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},y.Glob=w,s(w,a),w.prototype._finish=function(){if(u(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();l.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0===--e&&t._finish()}},w.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),o=this,s=n.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);n.forEach(function(r,n){r=o._makeAbs(r),i.realpath(r,o.realpathCache,function(n,i){n?"stat"===n.syscall?a[r]=!0:o.emit("error",n):a[i]=!0,0===--s&&(o.matches[e]=a,t())})})},w.prototype._mark=function(e){return l.mark(this,e)},w.prototype._makeAbs=function(e){return l.makeAbs(this,e)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},w.prototype._process=function(e,t,r,n){if(u(this instanceof w),u("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,n]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,c=e.slice(s);null===i?a=".":h(i)||h(e.join("/"))?(i&&h(i)||(i="/"+i),a=i):a=i;var f=this._makeAbs(a);if(_(this,a))return n();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,f,c,t,r,n):this._processReaddir(i,a,f,c,t,r,n)}},w.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(c,u){return a._processReaddir2(e,t,r,n,i,o,u,s)})},w.prototype._processReaddir2=function(e,t,r,n,i,o,s,a){if(!s)return a();for(var u=n[0],h=!!this.minimatch.negate,f=u._glob,l=this.dot||"."===f.charAt(0),d=[],p=0;p<s.length;p++)("."!==(_=s[p]).charAt(0)||l)&&(h&&!e?!_.match(u):_.match(u))&&d.push(_);var g=d.length;if(0===g)return a();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),p=0;p<g;p++){var _=d[p];e&&(_="/"!==e?e+"/"+_:e+_),"/"!==_.charAt(0)||this.nomount||(_=c.join(this.root,_)),this._emitMatch(i,_)}return a()}for(n.shift(),p=0;p<g;p++)_=d[p],e&&(_="/"!==e?e+"/"+_:e+_),this._process([_].concat(n),i,o,a);a()},w.prototype._emitMatch=function(e,t){if(!this.aborted&&!this.matches[e][t]&&!E(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=this._makeAbs(t);if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.mark&&(t=this._mark(t)),this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}},w.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,i=g("lstat\0"+e,function(n,i){if(n)return t();var o=i.isSymbolicLink();r.symlinks[e]=o,o||i.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())});i&&n.lstat(e,i)}},w.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=g("readdir\0"+e+"\0"+t,r))){if(t&&!p(this.symlinks,e))return this._readdirInGlobStar(e,r);if(p(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return r();if(Array.isArray(i))return r(null,i)}n.readdir(e,function(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}(this,e,r))}},w.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}},w.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},w.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(c,u){a._processGlobStar2(e,t,r,n,i,o,u,s)})},w.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=e?[e]:[],h=u.concat(c);this._process(h,i,!1,a);var f=this.symlinks[r],l=s.length;if(f&&o)return a();for(var d=0;d<l;d++)if("."!==s[d].charAt(0)||this.dot){var p=u.concat(s[d],c);this._process(p,i,!0,a);var g=u.concat(s[d],n);this._process(g,i,!0,a)}a()},w.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})},w.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&h(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},w.prototype._stat=function(e,t){var r=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&p(this.cache,r)){var o=this.cache[r];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var c=this,u=g("stat\0"+r,function(i,o){if(o&&o.isSymbolicLink())return n.stat(r,function(n,i){n?c._stat2(e,r,null,o,t):c._stat2(e,r,n,i,t)});c._stat2(e,r,i,o,t)});u&&n.lstat(r,u)},w.prototype._stat2=function(e,t,r,n,i){if(r)return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=n,"/"===t.slice(-1)&&!n.isDirectory())return i(null,!1,n);var s=n.isDirectory()?"DIR":"FILE";return this.cache[t]=this.cache[t]||s,o&&"DIR"!==s?i():i(null,s,n)}},4989:(e,t,r)=>{"use strict";const{createDiffieHellman:n,createDiffieHellmanGroup:i,createECDH:o,createHash:s,createPublicKey:a,diffieHellman:c,generateKeyPairSync:u,randomFillSync:h}=r(6982),{Ber:f}=r(9149),{COMPAT:l,curve25519Supported:d,DEFAULT_KEX:p,DEFAULT_SERVER_HOST_KEY:g,DEFAULT_CIPHER:_,DEFAULT_MAC:E,DEFAULT_COMPRESSION:A,DISCONNECT_REASON:y,MESSAGE:m}=r(468),{CIPHER_INFO:w,createCipher:v,createDecipher:b,MAC_INFO:I}=r(4632),{parseDERKey:S}=r(8717),{bufferFill:B,bufferParser:k,convertSignature:C,doFatalError:R,FastBuffer:N,sigSSHToASN1:U,writeUInt32BE:T}=r(2024),{PacketReader:O,PacketWriter:L,ZlibPacketReader:D,ZlibPacketWriter:P}=r(1760);let x;const H=Buffer.alloc(0);function Q(e){let t;if(e._compatFlags&l.BAD_DHGEX){const r=e._offer.lists.kex;let n=r.array,i=!1;for(let e=0;e<n.length;++e)n[e].includes("group-exchange")&&(i||(i=!0,n=n.slice()),n.splice(e--,1));if(i){let i=17+e._offer.totalSize+1+4;const o=Buffer.from(n.join(","));i-=r.buffer.length-o.length;const s=e._offer.lists.all,a=new Uint8Array(s.buffer,s.byteOffset+4+r.buffer.length,s.length-(4+r.buffer.length));t=Buffer.allocUnsafe(i),T(t,o.length,17),t.set(o,21),t.set(a,21+o.length)}}void 0===t&&(t=Buffer.allocUnsafe(17+e._offer.totalSize+1+4),e._offer.copyAllTo(t,17)),e._debug&&e._debug("Outbound: Sending KEXINIT"),t[0]=m.KEXINIT,h(t,1,16),B(t,0,t.length-5),e._kexinit=t,e._packetRW.write.allocStart=0;{const r=e._packetRW.write.allocStartKEX,n=e._packetRW.write.alloc(t.length,!0);n.set(t,r),e._cipher.encrypt(e._packetRW.write.finalize(n,!0))}}function F(e,t){const r={kex:void 0,serverHostKey:void 0,cs:{cipher:void 0,mac:void 0,compress:void 0,lang:void 0},sc:{cipher:void 0,mac:void 0,compress:void 0,lang:void 0}};if(k.init(t,17),void 0===(r.kex=k.readList())||void 0===(r.serverHostKey=k.readList())||void 0===(r.cs.cipher=k.readList())||void 0===(r.sc.cipher=k.readList())||void 0===(r.cs.mac=k.readList())||void 0===(r.sc.mac=k.readList())||void 0===(r.cs.compress=k.readList())||void 0===(r.sc.compress=k.readList())||void 0===(r.cs.lang=k.readList())||void 0===(r.sc.lang=k.readList()))return k.clear(),R(e,"Received malformed KEXINIT","handshake",y.KEY_EXCHANGE_FAILED);const n=k.pos(),i=n<t.length&&1===t[n];k.clear();const o=e._offer,s=r;let a,c,u,h=o.lists.kex.array;if(e._compatFlags&l.BAD_DHGEX){let e=!1;for(let t=0;t<h.length;++t)-1!==h[t].indexOf("group-exchange")&&(e||(e=!0,h=h.slice()),h.splice(t--,1))}const f=e._debug;let d;if(f&&f("Inbound: Handshake in progress"),f&&f(`Handshake: (local) KEX method: ${h}`),f&&f(`Handshake: (remote) KEX method: ${s.kex}`),e._server?(c=h,a=s.kex,d=-1!==a.indexOf("ext-info-c")):(c=s.kex,a=h,d=-1!==c.indexOf("ext-info-s")),void 0===e._strictMode&&(e._server?e._strictMode=-1!==a.indexOf("kex-strict-c-v00@openssh.com"):e._strictMode=-1!==c.indexOf("kex-strict-s-v00@openssh.com"),e._strictMode&&(f&&f("Handshake: strict KEX mode enabled"),1!==e._decipher.inSeqno)))return f&&f("Handshake: KEXINIT not first packet in strict KEX mode"),R(e,"Handshake failed: KEXINIT not first packet in strict KEX mode","handshake",y.KEY_EXCHANGE_FAILED);for(u=0;u<a.length&&-1===c.indexOf(a[u]);++u);if(u===a.length)return f&&f("Handshake: no matching key exchange algorithm"),R(e,"Handshake failed: no matching key exchange algorithm","handshake",y.KEY_EXCHANGE_FAILED);r.kex=a[u],f&&f(`Handshake: KEX algorithm: ${a[u]}`),!i||s.kex.length&&a[u]===s.kex[0]||(e._skipNextInboundPacket=!0);const p=o.lists.serverHostKey.array;for(f&&f(`Handshake: (local) Host key format: ${p}`),f&&f(`Handshake: (remote) Host key format: ${s.serverHostKey}`),e._server?(c=p,a=s.serverHostKey):(c=s.serverHostKey,a=p),u=0;u<a.length&&-1===c.indexOf(a[u]);++u);if(u===a.length)return f&&f("Handshake: No matching host key format"),R(e,"Handshake failed: no matching host key format","handshake",y.KEY_EXCHANGE_FAILED);r.serverHostKey=a[u],f&&f(`Handshake: Host key format: ${a[u]}`);const g=o.lists.cs.cipher.array;for(f&&f(`Handshake: (local) C->S cipher: ${g}`),f&&f(`Handshake: (remote) C->S cipher: ${s.cs.cipher}`),e._server?(c=g,a=s.cs.cipher):(c=s.cs.cipher,a=g),u=0;u<a.length&&-1===c.indexOf(a[u]);++u);if(u===a.length)return f&&f("Handshake: No matching C->S cipher"),R(e,"Handshake failed: no matching C->S cipher","handshake",y.KEY_EXCHANGE_FAILED);r.cs.cipher=a[u],f&&f(`Handshake: C->S Cipher: ${a[u]}`);const _=o.lists.sc.cipher.array;for(f&&f(`Handshake: (local) S->C cipher: ${_}`),f&&f(`Handshake: (remote) S->C cipher: ${s.sc.cipher}`),e._server?(c=_,a=s.sc.cipher):(c=s.sc.cipher,a=_),u=0;u<a.length&&-1===c.indexOf(a[u]);++u);if(u===a.length)return f&&f("Handshake: No matching S->C cipher"),R(e,"Handshake failed: no matching S->C cipher","handshake",y.KEY_EXCHANGE_FAILED);r.sc.cipher=a[u],f&&f(`Handshake: S->C cipher: ${a[u]}`);const E=o.lists.cs.mac.array;if(f&&f(`Handshake: (local) C->S MAC: ${E}`),f&&f(`Handshake: (remote) C->S MAC: ${s.cs.mac}`),w[r.cs.cipher].authLen>0)r.cs.mac="",f&&f("Handshake: C->S MAC: <implicit>");else{for(e._server?(c=E,a=s.cs.mac):(c=s.cs.mac,a=E),u=0;u<a.length&&-1===c.indexOf(a[u]);++u);if(u===a.length)return f&&f("Handshake: No matching C->S MAC"),R(e,"Handshake failed: no matching C->S MAC","handshake",y.KEY_EXCHANGE_FAILED);r.cs.mac=a[u],f&&f(`Handshake: C->S MAC: ${a[u]}`)}const A=o.lists.sc.mac.array;if(f&&f(`Handshake: (local) S->C MAC: ${A}`),f&&f(`Handshake: (remote) S->C MAC: ${s.sc.mac}`),w[r.sc.cipher].authLen>0)r.sc.mac="",f&&f("Handshake: S->C MAC: <implicit>");else{for(e._server?(c=A,a=s.sc.mac):(c=s.sc.mac,a=A),u=0;u<a.length&&-1===c.indexOf(a[u]);++u);if(u===a.length)return f&&f("Handshake: No matching S->C MAC"),R(e,"Handshake failed: no matching S->C MAC","handshake",y.KEY_EXCHANGE_FAILED);r.sc.mac=a[u],f&&f(`Handshake: S->C MAC: ${a[u]}`)}const m=o.lists.cs.compress.array;for(f&&f(`Handshake: (local) C->S compression: ${m}`),f&&f(`Handshake: (remote) C->S compression: ${s.cs.compress}`),e._server?(c=m,a=s.cs.compress):(c=s.cs.compress,a=m),u=0;u<a.length&&-1===c.indexOf(a[u]);++u);if(u===a.length)return f&&f("Handshake: No matching C->S compression"),R(e,"Handshake failed: no matching C->S compression","handshake",y.KEY_EXCHANGE_FAILED);r.cs.compress=a[u],f&&f(`Handshake: C->S compression: ${a[u]}`);const v=o.lists.sc.compress.array;for(f&&f(`Handshake: (local) S->C compression: ${v}`),f&&f(`Handshake: (remote) S->C compression: ${s.sc.compress}`),e._server?(c=v,a=s.sc.compress):(c=s.sc.compress,a=v),u=0;u<a.length&&-1===c.indexOf(a[u]);++u);if(u===a.length)return f&&f("Handshake: No matching S->C compression"),R(e,"Handshake failed: no matching S->C compression","handshake",y.KEY_EXCHANGE_FAILED);r.sc.compress=a[u],f&&f(`Handshake: S->C compression: ${a[u]}`),r.cs.lang="",r.sc.lang="",e._kex&&(e._kexinit||Q(e),e._decipher._onPayload=q.bind(e,{firstPacket:!1})),e._kex=M(r,e,t),e._kex.remoteExtInfoEnabled=d,e._kex.start()}const M=(()=>{function e(e){let t,r=0,n=e.length;for(;0===e[r];)++r,--n;return 128&e[r]?(t=Buffer.allocUnsafe(1+n),t[0]=0,e.copy(t,1,r),e=t):n!==e.length&&(t=Buffer.allocUnsafe(n),e.copy(t,0,r),e=t),e}class t{constructor(e,t,r){this._protocol=t,this.sessionID=t._kex?t._kex.sessionID:void 0,this.negotiated=e,this.remoteExtInfoEnabled=!1,this._step=1,this._public=null,this._dh=null,this._sentNEWKEYS=!1,this._receivedNEWKEYS=!1,this._finished=!1,this._hostVerified=!1,this._kexinit=t._kexinit,this._remoteKexinit=r,this._identRaw=t._identRaw,this._remoteIdentRaw=t._remoteIdentRaw,this._hostKey=void 0,this._dhData=void 0,this._sig=void 0}finish(e){if(this._finished)return!1;this._finished=!0;const t=this._protocol._server,r=this.negotiated,n=this.convertPublicKey(this._dhData);let i=this.computeSecret(this._dhData);if(i instanceof Error)return i.message=`Error while computing DH secret (${this.type}): ${i.message}`,i.level="handshake",R(this._protocol,i,y.KEY_EXCHANGE_FAILED);const o=s(this.hashName);W(o,t?this._remoteIdentRaw:this._identRaw),W(o,t?this._identRaw:this._remoteIdentRaw),W(o,t?this._remoteKexinit:this._kexinit),W(o,t?this._kexinit:this._remoteKexinit);const a=t?this._hostKey.getPublicSSH():this._hostKey;if(W(o,a),"groupex"===this.type){const e=this.getDHParams(),t=Buffer.allocUnsafe(4);T(t,this._minBits,0),o.update(t),T(t,this._prefBits,0),o.update(t),T(t,this._maxBits,0),o.update(t),W(o,e.prime),W(o,e.generator)}W(o,t?n:this.getPublicKey());const c=t?this.getPublicKey():n;W(o,c),W(o,i);const u=o.digest();if(t){let e;switch(this.negotiated.serverHostKey){case"rsa-sha2-256":e="sha256";break;case"rsa-sha2-512":e="sha512"}this._protocol._debug&&this._protocol._debug("Generating signature ...");let t=this._hostKey.sign(u,e);if(t instanceof Error)return R(this._protocol,`Handshake failed: signature generation failed for ${this._hostKey.type} host key: ${t.message}`,"handshake",y.KEY_EXCHANGE_FAILED);if(t=C(t,this._hostKey.type),!1===t)return R(this._protocol,`Handshake failed: signature conversion failed for ${this._hostKey.type} host key`,"handshake",y.KEY_EXCHANGE_FAILED);const r=this.negotiated.serverHostKey,n=Buffer.byteLength(r),i=4+n+4+t.length;let o=this._protocol._packetRW.write.allocStartKEX;const s=this._protocol._packetRW.write.alloc(5+a.length+4+c.length+4+i,!0);if(s[o]=m.KEXDH_REPLY,T(s,a.length,++o),s.set(a,o+=4),T(s,c.length,o+=a.length),s.set(c,o+=4),T(s,i,o+=c.length),T(s,n,o+=4),s.utf8Write(r,o+=4,n),T(s,t.length,o+=n),s.set(t,o+=4),this._protocol._debug){let e;switch(this.type){case"group":e="KEXDH_REPLY";break;case"groupex":e="KEXDH_GEX_REPLY";break;default:e="KEXECDH_REPLY"}this._protocol._debug(`Outbound: Sending ${e}`)}this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(s,!0))}else{k.init(this._sig,0);const e=k.readString(!0);if(!e)return R(this._protocol,"Malformed packet while reading signature","handshake",y.KEY_EXCHANGE_FAILED);if(e!==r.serverHostKey)return R(this._protocol,`Wrong signature type: ${e}, expected: ${r.serverHostKey}`,"handshake",y.KEY_EXCHANGE_FAILED);let t,n,i=k.readString();if(k.clear(),void 0===i)return R(this._protocol,"Malformed packet while reading signature","handshake",y.KEY_EXCHANGE_FAILED);if(!(i=U(i,e)))return R(this._protocol,"Malformed signature","handshake",y.KEY_EXCHANGE_FAILED);{k.init(this._hostKey,0);const e=k.readString(!0),r=this._hostKey.slice(k.pos());if(k.clear(),t=S(r,e),t instanceof Error)return t.level="handshake",R(this._protocol,t,y.KEY_EXCHANGE_FAILED)}switch(this.negotiated.serverHostKey){case"rsa-sha2-256":n="sha256";break;case"rsa-sha2-512":n="sha512"}this._protocol._debug&&this._protocol._debug("Verifying signature ...");const o=t.verify(u,i,n);if(!0!==o)return o instanceof Error?this._protocol._debug&&this._protocol._debug(`Signature verification failed: ${o.stack}`):this._protocol._debug&&this._protocol._debug("Signature verification failed"),R(this._protocol,"Handshake failed: signature verification failed","handshake",y.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Verified signature")}let h,f;!t&&e||j(this);const l=e=>{if(h)return j(this),h.outbound.seqno=this._protocol._cipher.outSeqno,this._protocol._cipher.free(),this._protocol._cipher=v(h),this._protocol._packetRW.write=f,h=void 0,f=void 0,this._protocol._onHandshakeComplete(r),!1;this.sessionID||(this.sessionID=u);{const e=Buffer.allocUnsafe(4+i.length);T(e,i.length,0),e.set(i,4),i=e}const n=w[r.cs.cipher],o=w[r.sc.cipher],s=G(n.ivLen,this.hashName,i,u,this.sessionID,"A"),a=G(o.ivLen,this.hashName,i,u,this.sessionID,"B"),c=G(n.keyLen,this.hashName,i,u,this.sessionID,"C"),d=G(o.keyLen,this.hashName,i,u,this.sessionID,"D");let p,g,_,E;n.authLen||(p=I[r.cs.mac],g=G(p.len,this.hashName,i,u,this.sessionID,"E")),o.authLen||(_=I[r.sc.mac],E=G(_.len,this.hashName,i,u,this.sessionID,"F"));const A={inbound:{onPayload:this._protocol._onPayload,seqno:this._protocol._decipher.inSeqno,decipherInfo:t?n:o,decipherIV:t?s:a,decipherKey:t?c:d,macInfo:t?p:_,macKey:t?g:E},outbound:{onWrite:this._protocol._onWrite,seqno:this._protocol._cipher.outSeqno,cipherInfo:t?o:n,cipherIV:t?a:s,cipherKey:t?d:c,macInfo:t?_:p,macKey:t?E:g}};this._protocol._decipher.free(),h=A,this._protocol._decipher=b(A);const y={read:void 0,write:void 0};switch(r.cs.compress){case"zlib":t?y.read=new D:y.write=new P(this._protocol);break;case"zlib@openssh.com":if(this._protocol._authenticated){t?y.read=new D:y.write=new P(this._protocol);break}default:t?y.read=new O:y.write=new L(this._protocol)}switch(r.sc.compress){case"zlib":t?y.write=new P(this._protocol):y.read=new D;break;case"zlib@openssh.com":if(this._protocol._authenticated){t?y.write=new P(this._protocol):y.read=new D;break}default:t?y.write=new L(this._protocol):y.read=new O}return this._protocol._packetRW.read.cleanup(),this._protocol._packetRW.write.cleanup(),this._protocol._packetRW.read=y.read,f=y.write,this._public=null,this._dh=null,this._kexinit=this._protocol._kexinit=void 0,this._remoteKexinit=void 0,this._identRaw=void 0,this._remoteIdentRaw=void 0,this._hostKey=void 0,this._dhData=void 0,this._sig=void 0,!e&&l()};return(t||e)&&(this.finish=l),t?void 0:l(e)}start(){if(!this._protocol._server){if(this._protocol._debug){let e;e="group"===this.type?"KEXDH_INIT":"KEXECDH_INIT",this._protocol._debug(`Outbound: Sending ${e}`)}const e=this.getPublicKey();let t=this._protocol._packetRW.write.allocStartKEX;const r=this._protocol._packetRW.write.alloc(5+e.length,!0);r[t]=m.KEXDH_INIT,T(r,e.length,++t),r.set(e,t+=4),this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(r,!0))}}getPublicKey(){this.generateKeys();const e=this._public;if(e)return this.convertPublicKey(e)}convertPublicKey(e){let t,r=0,n=e.length;for(;0===e[r];)++r,--n;return 128&e[r]?(t=Buffer.allocUnsafe(1+n),t[0]=0,e.copy(t,1,r),t):(n!==e.length&&(t=Buffer.allocUnsafe(n),e.copy(t,0,r),e=t),e)}computeSecret(t){this.generateKeys();try{return e(this._dh.computeSecret(t))}catch(e){return e}}parse(e){const t=e[0];switch(this._step){case 1:if(this._protocol._server){if(t!==m.KEXDH_INIT)return R(this._protocol,`Received packet ${t} instead of ${m.KEXDH_INIT}`,"handshake",y.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Received DH Init"),k.init(e,1);const r=k.readString();if(k.clear(),void 0===r)return R(this._protocol,"Received malformed KEX*_INIT","handshake",y.KEY_EXCHANGE_FAILED);this._dhData=r;let n=this._protocol._hostKeys[this.negotiated.serverHostKey];Array.isArray(n)&&(n=n[0]),this._hostKey=n,this.finish()}else{if(t!==m.KEXDH_REPLY)return R(this._protocol,`Received packet ${t} instead of ${m.KEXDH_REPLY}`,"handshake",y.KEY_EXCHANGE_FAILED);let r,n,i;if(this._protocol._debug&&this._protocol._debug("Received DH Reply"),k.init(e,1),void 0===(r=k.readString())||void 0===(n=k.readString())||void 0===(i=k.readString()))return k.clear(),R(this._protocol,"Received malformed KEX*_REPLY","handshake",y.KEY_EXCHANGE_FAILED);k.clear(),k.init(r,0);const o=k.readString(!0);if(k.clear(),void 0===o)return R(this._protocol,"Received malformed host public key","handshake",y.KEY_EXCHANGE_FAILED);if(o!==this.negotiated.serverHostKey)switch(this.negotiated.serverHostKey){case"rsa-sha2-256":case"rsa-sha2-512":if("ssh-rsa"===o)break;default:return R(this._protocol,"Host key does not match negotiated type","handshake",y.KEY_EXCHANGE_FAILED)}this._hostKey=r,this._dhData=n,this._sig=i;let s,a=!1;if(void 0===this._protocol._hostVerifier?(s=!0,this._protocol._debug&&this._protocol._debug("Host accepted by default (no verification)")):s=this._protocol._hostVerifier(r,e=>{if(!a){if(a=!0,!1===e)return this._protocol._debug&&this._protocol._debug("Host denied (verification failed)"),R(this._protocol,"Host denied (verification failed)","handshake",y.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Host accepted (verified)"),this._hostVerified=!0,this._receivedNEWKEYS?this.finish():j(this)}}),void 0===s)return void++this._step;if(a=!0,!1===s)return this._protocol._debug&&this._protocol._debug("Host denied (verification failed)"),R(this._protocol,"Host denied (verification failed)","handshake",y.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Host accepted (verified)"),this._hostVerified=!0,j(this)}++this._step;break;case 2:return t!==m.NEWKEYS?R(this._protocol,`Received packet ${t} instead of ${m.NEWKEYS}`,"handshake",y.KEY_EXCHANGE_FAILED):(this._protocol._debug&&this._protocol._debug("Inbound: NEWKEYS"),this._receivedNEWKEYS=!0,this._protocol._strictMode&&(this._protocol._decipher.inSeqno=0),++this._step,this.finish(!this._protocol._server&&!this._hostVerified));default:return R(this._protocol,`Received unexpected packet ${t} after NEWKEYS`,"handshake",y.KEY_EXCHANGE_FAILED)}}}class r extends t{constructor(e,...t){super(...t),this.type="25519",this.hashName=e,this._keys=null}generateKeys(){this._keys||(this._keys=u("x25519"))}getPublicKey(){return this.generateKeys(),this._keys.publicKey.export({type:"spki",format:"der"}).slice(-32)}convertPublicKey(e){let t,r=0,n=e.length;for(;0===e[r];)++r,--n;return 32===e.length||n!==e.length&&(t=Buffer.allocUnsafe(n),e.copy(t,0,r),e=t),e}computeSecret(t){this.generateKeys();try{const r=new f.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.3.101.110"),r.endSequence(),r.startSequence(f.BitString),r.writeByte(0),r._ensure(t.length),t.copy(r._buf,r._offset,0,t.length),r._offset+=t.length,r.endSequence(),r.endSequence(),e(c({privateKey:this._keys.privateKey,publicKey:a({key:r.buffer,type:"spki",format:"der"})}))}catch(e){return e}}}class h extends t{constructor(e,t,...r){super(...r),this.type="ecdh",this.curveName=e,this.hashName=t}generateKeys(){this._dh||(this._dh=o(this.curveName),this._public=this._dh.generateKeys())}}class p extends t{constructor(e,...t){super(...t),this.type="groupex",this.hashName=e,this._prime=null,this._generator=null,this._minBits=2048,this._prefBits=function(e){const t=w[e.cs.cipher],r=w[e.sc.cipher],n=8*Math.max(0,"des-ede3-cbc"===t.sslName?14:t.keyLen,t.blockLen,t.ivLen,"des-ede3-cbc"===r.sslName?14:r.keyLen,r.blockLen,r.ivLen);return n<=112?2048:n<=128?3072:n<=192?7680:8192}(this.negotiated),this._protocol._compatFlags&l.BUG_DHGEX_LARGE&&(this._prefBits=Math.min(this._prefBits,4096)),this._maxBits=8192}start(){if(this._protocol._server)return;this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_GEX_REQUEST");let e=this._protocol._packetRW.write.allocStartKEX;const t=this._protocol._packetRW.write.alloc(13,!0);t[e]=m.KEXDH_GEX_REQUEST,T(t,this._minBits,++e),T(t,this._prefBits,e+=4),T(t,this._maxBits,e+=4),this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(t,!0))}generateKeys(){!this._dh&&this._prime&&this._generator&&(this._dh=n(this._prime,this._generator),this._public=this._dh.generateKeys())}setDHParams(e,t){if(!Buffer.isBuffer(e))throw new Error("Invalid prime value");if(!Buffer.isBuffer(t))throw new Error("Invalid generator value");this._prime=e,this._generator=t}getDHParams(){if(this._dh)return{prime:e(this._dh.getPrime()),generator:e(this._dh.getGenerator())}}parse(e){const r=e[0];switch(this._step){case 1:{if(this._protocol._server)return r!==m.KEXDH_GEX_REQUEST?R(this._protocol,`Received packet ${r} instead of `+m.KEXDH_GEX_REQUEST,"handshake",y.KEY_EXCHANGE_FAILED):R(this._protocol,"Group exchange not implemented for server","handshake",y.KEY_EXCHANGE_FAILED);if(r!==m.KEXDH_GEX_GROUP)return R(this._protocol,`Received packet ${r} instead of ${m.KEXDH_GEX_GROUP}`,"handshake",y.KEY_EXCHANGE_FAILED);let t,n;if(this._protocol._debug&&this._protocol._debug("Received DH GEX Group"),k.init(e,1),void 0===(t=k.readString())||void 0===(n=k.readString()))return k.clear(),R(this._protocol,"Received malformed KEXDH_GEX_GROUP","handshake",y.KEY_EXCHANGE_FAILED);k.clear(),this.setDHParams(t,n),this.generateKeys();const i=this.getPublicKey();this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_GEX_INIT");let o=this._protocol._packetRW.write.allocStartKEX;const s=this._protocol._packetRW.write.alloc(5+i.length,!0);s[o]=m.KEXDH_GEX_INIT,T(s,i.length,++o),s.set(i,o+=4),this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(s,!0)),++this._step;break}case 2:if(this._protocol._server)return r!==m.KEXDH_GEX_INIT?R(this._protocol,`Received packet ${r} instead of ${m.KEXDH_GEX_INIT}`,"handshake",y.KEY_EXCHANGE_FAILED):(this._protocol._debug&&this._protocol._debug("Received DH GEX Init"),R(this._protocol,"Group exchange not implemented for server","handshake",y.KEY_EXCHANGE_FAILED));if(r!==m.KEXDH_GEX_REPLY)return R(this._protocol,`Received packet ${r} instead of ${m.KEXDH_GEX_REPLY}`,"handshake",y.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Received DH GEX Reply"),this._step=1,e[0]=m.KEXDH_REPLY,this.parse=t.prototype.parse,this.parse(e)}}}class g extends t{constructor(e,t,...r){super(...r),this.type="group",this.groupName=e,this.hashName=t}start(){if(!this._protocol._server){this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_INIT");const e=this.getPublicKey();let t=this._protocol._packetRW.write.allocStartKEX;const r=this._protocol._packetRW.write.alloc(5+e.length,!0);r[t]=m.KEXDH_INIT,T(r,e.length,++t),r.set(e,t+=4),this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(r,!0))}}generateKeys(){this._dh||(this._dh=i(this.groupName),this._public=this._dh.generateKeys())}getDHParams(){if(this._dh)return{prime:e(this._dh.getPrime()),generator:e(this._dh.getGenerator())}}}return(e,...t)=>{if("object"!=typeof e||null===e)throw new Error("Invalid negotiated argument");const n=e.kex;if("string"==typeof n){switch(t=[e,...t],n){case"curve25519-sha256":case"curve25519-sha256@libssh.org":if(!d)break;return new r("sha256",...t);case"ecdh-sha2-nistp256":return new h("prime256v1","sha256",...t);case"ecdh-sha2-nistp384":return new h("secp384r1","sha384",...t);case"ecdh-sha2-nistp521":return new h("secp521r1","sha512",...t);case"diffie-hellman-group1-sha1":return new g("modp2","sha1",...t);case"diffie-hellman-group14-sha1":return new g("modp14","sha1",...t);case"diffie-hellman-group14-sha256":return new g("modp14","sha256",...t);case"diffie-hellman-group15-sha512":return new g("modp15","sha512",...t);case"diffie-hellman-group16-sha512":return new g("modp16","sha512",...t);case"diffie-hellman-group17-sha512":return new g("modp17","sha512",...t);case"diffie-hellman-group18-sha512":return new g("modp18","sha512",...t);case"diffie-hellman-group-exchange-sha1":return new p("sha1",...t);case"diffie-hellman-group-exchange-sha256":return new p("sha256",...t)}throw new Error(`Unsupported key exchange algorithm: ${n}`)}throw new Error(`Invalid key exchange type: ${n}`)}})(),K=(()=>{const e=["kex","serverHostKey",["cs","cipher"],["sc","cipher"],["cs","mac"],["sc","mac"],["cs","compress"],["sc","compress"],["cs","lang"],["sc","lang"]];return class{constructor(t){if("object"!=typeof t||null===t)throw new TypeError("Argument must be an object");const r={kex:void 0,serverHostKey:void 0,cs:{cipher:void 0,mac:void 0,compress:void 0,lang:void 0},sc:{cipher:void 0,mac:void 0,compress:void 0,lang:void 0},all:void 0};let n=0;for(const i of e){let e,o,s,a;if("string"==typeof i)e=r,o=t[i],s=a=i;else{const n=i[0];e=r[n],a=i[1],o=t[n][a],s=`${n}.${a}`}const c={array:void 0,buffer:void 0};if(Buffer.isBuffer(o))c.array=(""+o).split(","),c.buffer=o,n+=4+o.length;else{if("string"==typeof o&&(o=o.split(",")),!Array.isArray(o))throw new TypeError(`Invalid \`${s}\` type: ${typeof o}`);c.array=o,c.buffer=Buffer.from(o.join(",")),n+=4+c.buffer.length}e[a]=c}const i=Buffer.allocUnsafe(n);r.all=i;let o=0;for(const t of e){let e;e="string"==typeof t?r[t].buffer:r[t[0]][t[1]].buffer,o=T(i,e.length,o),i.set(e,o),o+=e.length}this.totalSize=n,this.lists=r}copyAllTo(e,t){const r=this.lists.all;if("number"!=typeof t)throw new TypeError("Invalid offset value: "+typeof t);if(e.length-t<r.length)throw new Error("Insufficient space to copy list");return e.set(r,t),r.length}}})(),W=(()=>{const e=Buffer.allocUnsafe(4);return(t,r)=>{T(e,r.length,0),t.update(e),t.update(r)}})();function G(e,t,r,n,i,o){let a;if(e){let c=s(t).update(r).update(n).update(o).update(i).digest();for(;c.length<e;){const e=s(t).update(r).update(n).update(c).digest(),i=Buffer.allocUnsafe(c.length+e.length);i.set(c,0),i.set(e,c.length),c=i}a=c.length===e?c:new N(c.buffer,c.byteOffset,e)}else a=H;return a}function q(e,t){if(0===t.length)return void(this._debug&&this._debug("Inbound: Skipping empty packet payload"));if(this._skipNextInboundPacket)return void(this._skipNextInboundPacket=!1);const n=(t=this._packetRW.read.read(t))[0];if(!this._strictMode)switch(n){case m.IGNORE:case m.UNIMPLEMENTED:case m.DEBUG:return x||(x=r(7516)),x[n](this,t)}switch(n){case m.DISCONNECT:return x||(x=r(7516)),x[n](this,t);case m.KEXINIT:return e.firstPacket?(e.firstPacket=!1,F(this,t)):R(this,"Received extra KEXINIT during handshake","handshake",y.KEY_EXCHANGE_FAILED);default:if(n<20||n>49)return R(this,`Received unexpected packet type ${n}`,"handshake",y.KEY_EXCHANGE_FAILED)}return this._kex.parse(t)}function j(e){if(!e._sentNEWKEYS){e._protocol._debug&&e._protocol._debug("Outbound: Sending NEWKEYS");const t=e._protocol._packetRW.write.allocStartKEX,r=e._protocol._packetRW.write.alloc(1,!0);r[t]=m.NEWKEYS,e._protocol._cipher.encrypt(e._protocol._packetRW.write.finalize(r,!0)),e._sentNEWKEYS=!0,e._protocol._strictMode&&(e._protocol._cipher.outSeqno=0)}}e.exports={KexInit:K,kexinit:Q,onKEXPayload:q,DEFAULT_KEXINIT_CLIENT:new K({kex:p.concat(["ext-info-c","kex-strict-c-v00@openssh.com"]),serverHostKey:g,cs:{cipher:_,mac:E,compress:A,lang:[]},sc:{cipher:_,mac:E,compress:A,lang:[]}}),DEFAULT_KEXINIT_SERVER:new K({kex:p.concat(["kex-strict-s-v00@openssh.com"]),serverHostKey:g,cs:{cipher:_,mac:E,compress:A,lang:[]},sc:{cipher:_,mac:E,compress:A,lang:[]}}),HANDLERS:{[m.KEXINIT]:F}}},5071:(e,t,r)=>{"use strict";const n=r(672);e.exports={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync}},5084:(e,t,r)=>{e.exports=l,l.Minimatch=d;var n=function(){try{return r(6928)}catch(e){}}()||{sep:"/"};l.sep=n.sep;var i=l.GLOBSTAR=d.GLOBSTAR={},o=r(7139),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{}),h=/\/+/;function f(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function l(e,t,r){return g(t),r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&new d(t,r).match(e)}function d(e,t){if(!(this instanceof d))return new d(e,t);g(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===n.sep||(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function p(e,t){return t||(t=this instanceof d?this.options:{}),e=void 0===e?this.pattern:e,g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(r,n,i){return l(r,e,t)}},l.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return l;var t=l,r=function(r,n,i){return t(r,n,f(e,i))};return(r.Minimatch=function(r,n){return new t.Minimatch(r,f(e,n))}).defaults=function(r){return t.defaults(f(e,r)).Minimatch},r.filter=function(r,n){return t.filter(r,f(e,n))},r.defaults=function(r){return t.defaults(f(e,r))},r.makeRe=function(r,n){return t.makeRe(r,f(e,n))},r.braceExpand=function(r,n){return t.braceExpand(r,f(e,n))},r.match=function(r,n,i){return t.match(r,n,f(e,i))},r},d.defaults=function(e){return l.defaults(e).Minimatch},d.prototype.debug=function(){},d.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(e){return e.split(h)}),this.debug(this.pattern,r),r=r.map(function(e,t,r){return e.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0},d.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var n=0,i=e.length;n<i&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},l.braceExpand=function(e,t){return p(e,t)},d.prototype.braceExpand=p;var g=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};d.prototype.parse=function(e,t){g(e);var r=this.options;if("**"===e){if(!r.noglobstar)return i;e="*"}if(""===e)return"";var n,o="",h=!!r.nocase,f=!1,l=[],d=[],p=!1,E=-1,A=-1,y="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function w(){if(n){switch(n){case"*":o+=c,h=!0;break;case"?":o+=a,h=!0;break;default:o+="\\"+n}m.debug("clearStateChar %j %j",n,o),n=!1}}for(var v,b=0,I=e.length;b<I&&(v=e.charAt(b));b++)if(this.debug("%s\t%s %s %j",e,b,o,v),f&&u[v])o+="\\"+v,f=!1;else switch(v){case"/":return!1;case"\\":w(),f=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,b,o,v),p){this.debug("  in class"),"!"===v&&b===A+1&&(v="^"),o+=v;continue}m.debug("call clearStateChar %j",n),w(),n=v,r.noext&&w();continue;case"(":if(p){o+="(";continue}if(!n){o+="\\(";continue}l.push({type:n,start:b-1,reStart:o.length,open:s[n].open,close:s[n].close}),o+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,o),n=!1;continue;case")":if(p||!l.length){o+="\\)";continue}w(),h=!0;var S=l.pop();o+=S.close,"!"===S.type&&d.push(S),S.reEnd=o.length;continue;case"|":if(p||!l.length||f){o+="\\|",f=!1;continue}w(),o+="|";continue;case"[":if(w(),p){o+="\\"+v;continue}p=!0,A=b,E=o.length,o+=v;continue;case"]":if(b===A+1||!p){o+="\\"+v,f=!1;continue}var B=e.substring(A+1,b);try{RegExp("["+B+"]")}catch(e){var k=this.parse(B,_);o=o.substr(0,E)+"\\["+k[0]+"\\]",h=h||k[1],p=!1;continue}h=!0,p=!1,o+=v;continue;default:w(),f?f=!1:!u[v]||"^"===v&&p||(o+="\\"),o+=v}for(p&&(B=e.substr(A+1),k=this.parse(B,_),o=o.substr(0,E)+"\\["+k[0],h=h||k[1]),S=l.pop();S;S=l.pop()){var C=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,r){return r||(r="\\"),t+t+r+"|"}),this.debug("tail=%j\n   %s",C,C,S,o);var R="*"===S.type?c:"?"===S.type?a:"\\"+S.type;h=!0,o=o.slice(0,S.reStart)+R+"\\("+C}w(),f&&(o+="\\\\");var N=!1;switch(o.charAt(0)){case"[":case".":case"(":N=!0}for(var U=d.length-1;U>-1;U--){var T=d[U],O=o.slice(0,T.reStart),L=o.slice(T.reStart,T.reEnd-8),D=o.slice(T.reEnd-8,T.reEnd),P=o.slice(T.reEnd);D+=P;var x=O.split("(").length-1,H=P;for(b=0;b<x;b++)H=H.replace(/\)[+*?]?/,"");var Q="";""===(P=H)&&t!==_&&(Q="$"),o=O+L+P+Q+D}if(""!==o&&h&&(o="(?=.)"+o),N&&(o=y+o),t===_)return[o,h];if(!h)return e.replace(/\\(.)/g,"$1");var F=r.nocase?"i":"";try{var M=new RegExp("^"+o+"$",F)}catch(e){return new RegExp("$.")}return M._glob=e,M._src=o,M};var _={};l.makeRe=function(e,t){return new d(e,t||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===i?r:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,r){var n=new d(t,r=r||{});return e=e.filter(function(e){return n.match(e)}),n.options.nonull&&!e.length&&e.push(t),e},d.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(h),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(r.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},d.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,h=t[s],f=e[o];if(this.debug(t,h,f),!1===h)return!1;if(h===i){this.debug("GLOBSTAR",[t,h,f]);var l=o,d=s+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;l<a;){var p=e[l];if(this.debug("\nglobstar while",e,l,t,d,p),this.matchOne(e.slice(l),t.slice(d),r))return this.debug("globstar found match!",l,a,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,l,t,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!r||(this.debug("\n>>> no match, partial?",e,l,t,d),l!==a))}if("string"==typeof h?(u=f===h,this.debug("string match",h,f,u)):(u=f.match(h),this.debug("pattern match",h,f,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return r;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},5161:(e,t,r)=>{"use strict";const{stringify:n}=r(3689),{outputFileSync:i}=r(2205);e.exports=function(e,t,r){const o=n(t,r);i(e,o,r)}},5172:(e,t,r)=>{"use strict";const n=r(2581).fromPromise;e.exports={copy:n(r(815)),copySync:r(8583)}},5181:(e,t,r)=>{"use strict";const{Server:n}=r(9278),i=r(4434),{listenerCount:o}=i,{CHANNEL_OPEN_FAILURE:s,DEFAULT_CIPHER:a,DEFAULT_COMPRESSION:c,DEFAULT_KEX:u,DEFAULT_MAC:h,DEFAULT_SERVER_HOST_KEY:f,DISCONNECT_REASON:l,DISCONNECT_REASON_BY_VALUE:d,SUPPORTED_CIPHER:p,SUPPORTED_COMPRESSION:g,SUPPORTED_KEX:_,SUPPORTED_MAC:E,SUPPORTED_SERVER_HOST_KEY:A}=r(468),{init:y}=r(4632),{KexInit:m}=r(4989),{parseKey:w}=r(8717),v=r(4321),{SFTP:b}=r(5700),{writeUInt32BE:I}=r(2024),{Channel:S,MAX_WINDOW:B,PACKET_SIZE:k,windowAdjust:C,WINDOW_THRESHOLD:R}=r(5971),{ChannelManager:N,generateAlgorithmList:U,isWritable:T,onChannelOpenFailure:O,onCHANNEL_CLOSE:L}=r(2473);class D extends i{constructor(e,t,r,n,i){super(),this.username=this.user=t,this.service=r,this.method=n,this._initialResponse=!1,this._finalResponse=!1,this._multistep=!1,this._cbfinal=(e,t,r)=>{this._finalResponse||(this._finalResponse=!0,i(this,e,t,r))},this._protocol=e}accept(){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!0)}reject(e,t){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!1,e,t)}}class P extends D{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this._multistep=!0,this._cb=void 0,this._onInfoResponse=e=>{const t=this._cb;t&&(this._cb=void 0,t(e))},this.submethods=i,this.on("abort",()=>{this._cb&&this._cb(new Error("Authentication request aborted"))})}prompt(e,t,r,n){Array.isArray(e)||(e=[e]),"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r?(n=r,r=void 0):"function"!=typeof n&&(n=void 0);for(let t=0;t<e.length;++t)"string"==typeof e[t]&&(e[t]={prompt:e[t],echo:!0});this._cb=n,this._initialResponse=!0,this._protocol.authInfoReq(t,r,e)}}class x extends D{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.hashAlgo=i.hashAlgo,this.signature=i.signature,this.blob=i.blob}accept(){this.signature?D.prototype.accept.call(this):(this._initialResponse=!0,this._protocol.authPKOK(this.key.algo,this.key.data))}}class H extends D{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.hashAlgo=i.hashAlgo,this.signature=i.signature,this.blob=i.blob,this.localHostname=i.localHostname,this.localUsername=i.localUsername}}class Q extends D{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this.password=i,this._changeCb=void 0}requestChange(e,t){if(this._changeCb)throw new Error("Change request already in progress");if("string"!=typeof e)throw new Error("prompt argument must be a string");if("function"!=typeof t)throw new Error("Callback argument must be a function");this._changeCb=t,this._protocol.authPasswdChg(e)}}class F extends i{constructor(e,t,r){super(),this.type="session",this.subtype=void 0,this.server=!0,this._ending=!1,this._channel=void 0,this._chanInfo={type:"session",incoming:{id:r,window:B,packetSize:k,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}}}}class M extends i{constructor(e,t){if(super(),"object"!=typeof e||null===e)throw new Error("Missing configuration object");const r=Object.create(null),i=[],o=e.hostKeys;if(!Array.isArray(o))throw new Error("hostKeys must be an array");const s="object"==typeof e.algorithms&&null!==e.algorithms?e.algorithms:{},l=U(s.serverHostKey,f,A);for(let e=0;e<o.length;++e){let t;if(t=Buffer.isBuffer(o[e])||"string"==typeof o[e]?w(o[e]):w(o[e].key,o[e].passphrase),t instanceof Error)throw new Error(`Cannot parse privateKey: ${t.message}`);if(Array.isArray(t)&&(t=t[0]),null===t.getPrivatePEM())throw new Error("privateKey value contains an invalid private key");if(!i.includes(t.type))if("ssh-rsa"===t.type){let e=l.indexOf("ssh-rsa");const n=l.indexOf("rsa-sha2-256"),o=l.indexOf("rsa-sha2-512");-1===e&&(e=1/0),[e,n,o].sort(G).forEach(s=>{if(-1===s)return;let a;switch(s){case e:a="ssh-rsa";break;case n:a="rsa-sha2-256";break;case o:a="rsa-sha2-512";break;default:return}r[a]=t,i.push(a)})}else r[t.type]=t,i.push(t.type)}const d={kex:U(s.kex,u,_).concat(["kex-strict-s-v00@openssh.com"]),serverHostKey:i,cs:{cipher:U(s.cipher,a,p),mac:U(s.hmac,h,E),compress:U(s.compress,c,g),lang:[]},sc:void 0};d.sc=d.cs,"function"==typeof t&&this.on("connection",t);const y="function"==typeof e.debug?e.debug:void 0,v=e.ident?Buffer.from(e.ident):void 0,b=new m(d);this._srv=new n(t=>{if(this._connections>=this.maxConnections)return void t.destroy();let n;if(++this._connections,t.once("close",()=>{--this._connections}),y){const e=`[${process.hrtime().join(".")}] `;n=t=>{y(`${e}${t}`)}}new K(t,r,v,b,n,this,e)}).on("error",e=>{this.emit("error",e)}).on("listening",()=>{this.emit("listening")}).on("close",()=>{this.emit("close")}),this._connections=0,this.maxConnections=1/0}injectSocket(e){this._srv.emit("connection",e)}listen(...e){return this._srv.listen(...e),this}address(){return this._srv.address()}getConnections(e){return this._srv.getConnections(e),this}close(e){return this._srv.close(e),this}ref(){return this._srv.ref(),this}unref(){return this._srv.unref(),this}}M.KEEPALIVE_CLIENT_INTERVAL=15e3,M.KEEPALIVE_CLIENT_COUNT_MAX=3;class K extends i{constructor(e,t,r,n,i,a,c){super();let u,h,f,p=0,g=!1,_=[];const E=[];function A(e){}this._sock=e,this._chanMgr=new N(this),this._debug=i,this.noMoreSessions=!1,this.authenticated=!1,this.on("error",A);const m=i?(e,t,r)=>{i(`Debug output from client: ${JSON.stringify(r)}`)}:void 0,w="number"==typeof c.keepaliveInterval&&isFinite(c.keepaliveInterval)&&c.keepaliveInterval>0?c.keepaliveInterval:"number"==typeof M.KEEPALIVE_CLIENT_INTERVAL&&isFinite(M.KEEPALIVE_CLIENT_INTERVAL)&&M.KEEPALIVE_CLIENT_INTERVAL>0?M.KEEPALIVE_CLIENT_INTERVAL:-1,U="number"==typeof c.keepaliveCountMax&&isFinite(c.keepaliveCountMax)&&c.keepaliveCountMax>=0?c.keepaliveCountMax:"number"==typeof M.KEEPALIVE_CLIENT_COUNT_MAX&&isFinite(M.KEEPALIVE_CLIENT_COUNT_MAX)&&M.KEEPALIVE_CLIENT_COUNT_MAX>=0?M.KEEPALIVE_CLIENT_COUNT_MAX:-1;let K=0;-1!==w&&-1!==U&&(this.once("ready",()=>{const e=()=>{clearInterval(h)};this.on("close",e).on("end",e),h=setInterval(()=>{if(++K>U){clearInterval(h);const e=new Error("Keepalive timeout");e.level="client-timeout",this.emit("error",e),this.end()}else W.ping()},w)}),f=()=>{h&&h.refresh(),K=0});const W=this._protocol=new v({server:!0,hostKeys:t,ident:r,offer:n,onPacket:f,greeting:c.greeting,banner:c.banner,onWrite:t=>{T(e)&&e.write(t)},onError:t=>{W._destruct||e.removeAllListeners("data"),this.emit("error",t);try{e.end()}catch{}},onHeader:t=>{this.removeListener("error",A);const r={ip:e.remoteAddress,family:e.remoteFamily,port:e.remotePort,header:t};if(!a.emit("connection",this,r))return W.disconnect(l.BY_APPLICATION),void e.end();t.greeting&&this.emit("greeting",t.greeting)},onHandshakeComplete:e=>{++p>1&&this.emit("rekey"),this.emit("handshake",e)},debug:i,messageHandlers:{DEBUG:m,DISCONNECT:(t,r,n)=>{if(r!==l.BY_APPLICATION){n||void 0===(n=d[r])&&(n=`Unexpected disconnection reason: ${r}`);const e=new Error(n);e.code=r,this.emit("error",e)}e.end()},CHANNEL_OPEN:(e,t)=>{if("session"===t.type&&this.noMoreSessions||!this.authenticated){const e=s.ADMINISTRATIVELY_PROHIBITED;return W.channelOpenFail(t.sender,e)}let r,n,a=-1,c=!1;const u=()=>{c||(c=!0,void 0===r&&(r=-1===a?s.RESOURCE_SHORTAGE:s.CONNECT_FAILED),-1!==a&&this._chanMgr.remove(a),W.channelOpenFail(t.sender,r,""))},h=()=>(a=this._chanMgr.add(),-1===a&&(r=s.RESOURCE_SHORTAGE,i&&i("Automatic rejection of incoming channel open: no channels available")),-1!==a),f=t.data;switch(t.type){case"session":if(o(this,"session")&&h())return n=()=>{if(c)return;c=!0;const e=new F(this,t,a);return this._chanMgr.update(a,e),W.channelOpenConfirm(t.sender,a,B,k),e},void this.emit("session",n,u);break;case"direct-tcpip":if(o(this,"tcpip")&&h())return n=()=>{if(c)return;c=!0;const e={type:void 0,incoming:{id:a,window:B,packetSize:k,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},r=new S(this,e,{server:!0});return this._chanMgr.update(a,r),W.channelOpenConfirm(t.sender,a,B,k),r},void this.emit("tcpip",n,u,f);break;case"direct-streamlocal@openssh.com":if(o(this,"openssh.streamlocal")&&h())return n=()=>{if(c)return;c=!0;const e={type:void 0,incoming:{id:a,window:B,packetSize:k,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},r=new S(this,e,{server:!0});return this._chanMgr.update(a,r),W.channelOpenConfirm(t.sender,a,B,k),r},void this.emit("openssh.streamlocal",n,u,f);break;default:r=s.UNKNOWN_CHANNEL_TYPE,i&&i(`Automatic rejection of unsupported incoming channel open type: ${t.type}`)}void 0===r&&(r=s.ADMINISTRATIVELY_PROHIBITED,i&&i(`Automatic rejection of unexpected incoming channel open for: ${t.type}`)),u()},CHANNEL_OPEN_CONFIRMATION:(e,t)=>{const r=this._chanMgr.get(t.recipient);if("function"!=typeof r)return;const n={type:r.type,incoming:{id:t.recipient,window:B,packetSize:k,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new S(this,n,{server:!0});this._chanMgr.update(t.recipient,i),r(void 0,i)},CHANNEL_OPEN_FAILURE:(e,t,r,n)=>{const i=this._chanMgr.get(t);"function"==typeof i&&O(this,t,{reason:r,description:n},i)},CHANNEL_DATA:(e,t,r)=>{let n=this._chanMgr.get(t);"object"==typeof n&&null!==n&&(n.constructor!==F||(n=n._channel,n))&&0!==n.incoming.window&&(n.incoming.window-=r.length,!1!==n.push(r)?n.incoming.window<=R&&C(n):n._waitChanDrain=!0)},CHANNEL_EXTENDED_DATA:(e,t,r,n)=>{},CHANNEL_WINDOW_ADJUST:(e,t,r)=>{let n=this._chanMgr.get(t);"object"==typeof n&&null!==n&&(n.constructor!==F||(n=n._channel,n))&&(n.outgoing.window+=r,n._waitWindow&&(n._waitWindow=!1,n._chunk?n._write(n._chunk,null,n._chunkcb):n._chunkcb?n._chunkcb():n._chunkErr?n.stderr._write(n._chunkErr,null,n._chunkcbErr):n._chunkcbErr&&n._chunkcbErr()))},CHANNEL_SUCCESS:(e,t)=>{let r=this._chanMgr.get(t);"object"==typeof r&&null!==r&&(r.constructor!==F||(r=r._channel,r))&&r._callbacks.length&&r._callbacks.shift()(!1)},CHANNEL_FAILURE:(e,t)=>{let r=this._chanMgr.get(t);"object"==typeof r&&null!==r&&(r.constructor!==F||(r=r._channel,r))&&r._callbacks.length&&r._callbacks.shift()(!0)},CHANNEL_REQUEST:(e,t,r,n,s)=>{const a=this._chanMgr.get(t);if("object"!=typeof a||null===a)return;let c,u,h=!1;if(a.constructor===F)if(n&&("shell"!==r&&"exec"!==r&&"subsystem"!==r&&(c=()=>{h||a._ending||a._channel||(h=!0,W.channelSuccess(a._chanInfo.outgoing.id))}),u=()=>{h||a._ending||a._channel||(h=!0,W.channelFailure(a._chanInfo.outgoing.id))}),a._ending)u&&u();else{switch(r){case"env":if(o(a,"env"))return void a.emit("env",c,u,{key:s.name,val:s.value});break;case"pty-req":if(o(a,"pty"))return void a.emit("pty",c,u,s);break;case"window-change":o(a,"window-change")?a.emit("window-change",c,u,s):u&&u();break;case"x11-req":if(o(a,"x11"))return void a.emit("x11",c,u,s);break;case"signal":if(o(a,"signal"))return void a.emit("signal",c,u,{name:s});break;case"auth-agent-req@openssh.com":if(o(a,"auth-agent"))return void a.emit("auth-agent",c,u);break;case"shell":if(o(a,"shell"))return c=()=>{if(h||a._ending||a._channel)return;h=!0,n&&W.channelSuccess(a._chanInfo.outgoing.id);const e=new S(this,a._chanInfo,{server:!0});return e.subtype=a.subtype=r,a._channel=e,e},void a.emit("shell",c,u);break;case"exec":if(o(a,"exec"))return c=()=>{if(h||a._ending||a._channel)return;h=!0,n&&W.channelSuccess(a._chanInfo.outgoing.id);const e=new S(this,a._chanInfo,{server:!0});return e.subtype=a.subtype=r,a._channel=e,e},void a.emit("exec",c,u,{command:s});break;case"subsystem":{let e="sftp"===s;if(c=()=>{if(h||a._ending||a._channel)return;let t;return h=!0,n&&W.channelSuccess(a._chanInfo.outgoing.id),e?t=new b(this,a._chanInfo,{server:!0,debug:i}):(t=new S(this,a._chanInfo,{server:!0}),t.subtype=a.subtype=`${r}:${s}`),a._channel=t,t},"sftp"===s){if(o(a,"sftp"))return void a.emit("sftp",c,u);e=!1}if(o(a,"subsystem"))return void a.emit("subsystem",c,u,{name:s});break}}i&&i(`Automatic rejection of incoming channel request: ${r}`),u&&u()}else n&&W.channelFailure(a.outgoing.id)},CHANNEL_EOF:(e,t)=>{let r=this._chanMgr.get(t);"object"==typeof r&&null!==r&&(r.constructor!==F||(r._ending||(r._ending=!0,r.emit("eof"),r.emit("end")),r=r._channel,r))&&"open"===r.incoming.state&&(r.incoming.state="eof",r.readable&&r.push(null))},CHANNEL_CLOSE:(e,t)=>{let r=this._chanMgr.get(t);"object"==typeof r&&null!==r&&(r.constructor!==F||(r._ending=!0,r.emit("close"),r=r._channel,r))&&L(this,t,r)},SERVICE_REQUEST:(t,r)=>{if(0===p||g||this.authenticated||"ssh-userauth"!==r)return W.disconnect(l.SERVICE_NOT_AVAILABLE),void e.end();g=!0,W.serviceAccept(r)},USERAUTH_REQUEST:(t,r,n,i,s)=>{if(0===p||this.authenticated||u&&(u.username!==r||u.service!==n)||"password"!==i&&"publickey"!==i&&"hostbased"!==i&&"keyboard-interactive"!==i&&"none"!==i||10===_.length)return W.disconnect(l.PROTOCOL_ERROR),void e.end();if("ssh-connection"!==n)return W.disconnect(l.SERVICE_NOT_AVAILABLE),void e.end();let a;switch(i){case"keyboard-interactive":a=new P(W,r,n,i,s,G);break;case"publickey":a=new x(W,r,n,i,s,G);break;case"hostbased":a=new H(W,r,n,i,s,G);break;case"password":if(u&&u instanceof Q&&u._changeCb){const e=u._changeCb;return u._changeCb=void 0,void e(s.newPassword)}a=new Q(W,r,n,i,s,G);break;case"none":a=new D(W,r,n,i,G)}if(u){if(!u._initialResponse)return _.push(a);u._multistep&&!u._finalResponse&&(u._cleanup&&u._cleanup(),u.emit("abort"))}u=a,o(this,"authentication")?this.emit("authentication",u):u.reject()},USERAUTH_INFO_RESPONSE:(e,t)=>{u&&u instanceof P&&u._onInfoResponse(t)},GLOBAL_REQUEST:(e,t,r,n)=>{const i={type:null,buf:null};function s(e,t){i.type=e,i.buf=t,function(){for(;E.length>0&&E[0].type;){const e=E.shift();"SUCCESS"===e.type&&W.requestSuccess(e.buf),"FAILURE"===e.type&&W.requestFailure()}}()}if(r&&E.push(i),("tcpip-forward"===t||"cancel-tcpip-forward"===t||"no-more-sessions@openssh.com"===t||"streamlocal-forward@openssh.com"===t||"cancel-streamlocal-forward@openssh.com"===t)&&o(this,"request")&&this.authenticated){let e,i;if(r){let r=!1;e=e=>{if(r)return;let i;r=!0,"tcpip-forward"===t&&0===n.bindPort&&"number"==typeof e&&(i=Buffer.allocUnsafe(4),I(i,e,0)),s("SUCCESS",i)},i=()=>{r||(r=!0,s("FAILURE"))}}if("no-more-sessions@openssh.com"===t)return this.noMoreSessions=!0,void(e&&e());this.emit("request",e,i,t,n)}else r&&s("FAILURE")}}});e.pause(),y.then(()=>{W.start(),e.on("data",t=>{try{W.parse(t,0,t.length)}catch(t){this.emit("error",t);try{T(e)&&e.end()}catch{}}}),e.resume()}).catch(t=>{this.emit("error",t);try{T(e)&&e.end()}catch{}}),e.on("error",e=>{e.level="socket",this.emit("error",e)}).once("end",()=>{i&&i("Socket ended"),W.cleanup(),this.emit("end")}).once("close",()=>{i&&i("Socket closed"),W.cleanup(),this.emit("close");const e=new Error("No response from server");this._chanMgr.cleanup(e)});const G=(e,t,r,n)=>{u!==e||this.authenticated||(t?(u=void 0,this.authenticated=!0,W.authSuccess(),_=[],this.emit("ready")):(W.authFailure(r,n),_.length&&(u=_.pop(),o(this,"authentication")?this.emit("authentication",u):u.reject())))}}end(){return this._sock&&T(this._sock)&&(this._protocol.disconnect(l.BY_APPLICATION),this._sock.end()),this}x11(e,t,r){return W(this,"x11",{originAddr:e,originPort:t},r),this}forwardOut(e,t,r,n,i){return W(this,"forwarded-tcpip",{boundAddr:e,boundPort:t,remoteAddr:r,remotePort:n},i),this}openssh_forwardOutStreamLocal(e,t){return W(this,"forwarded-streamlocal@openssh.com",{socketPath:e},t),this}rekey(e){let t;try{this._protocol.rekey()}catch(e){t=e}"function"==typeof e&&(t?process.nextTick(e,t):this.once("rekey",e))}setNoDelay(e){return this._sock&&"function"==typeof this._sock.setNoDelay&&this._sock.setNoDelay(e),this}}function W(e,t,r,n){const i=B,o=k;"function"==typeof r&&(n=r,r={});const s=(e,t)=>{n(e,t)};s.type=t;const a=e._chanMgr.add(s);if(-1!==a)switch(t){case"forwarded-tcpip":e._protocol.forwardedTcpip(a,i,o,r);break;case"x11":e._protocol.x11(a,i,o,r);break;case"forwarded-streamlocal@openssh.com":e._protocol.openssh_forwardedStreamLocal(a,i,o,r);break;default:throw new Error(`Unsupported channel type: ${t}`)}else n(new Error("No free channels available"))}function G(e,t){return e-t}e.exports=M,e.exports.IncomingClient=K},5257:(e,t,r)=>{"use strict";const{createHash:n,getHashes:i,randomFillSync:o}=r(6982),{Socket:s}=r(9278),{lookup:a}=r(2250),c=r(4434),u=i(),{COMPAT:h,CHANNEL_EXTENDED_DATATYPE:{STDERR:f},CHANNEL_OPEN_FAILURE:l,DEFAULT_CIPHER:d,DEFAULT_COMPRESSION:p,DEFAULT_KEX:g,DEFAULT_MAC:_,DEFAULT_SERVER_HOST_KEY:E,DISCONNECT_REASON:A,DISCONNECT_REASON_BY_VALUE:y,SUPPORTED_CIPHER:m,SUPPORTED_COMPRESSION:w,SUPPORTED_KEX:v,SUPPORTED_MAC:b,SUPPORTED_SERVER_HOST_KEY:I}=r(468),{init:S}=r(4632),B=r(4321),{parseKey:k}=r(8717),{SFTP:C}=r(5700),{bufferCopy:R,makeBufferParser:N,makeError:U,readUInt32BE:T,sigSSHToASN1:O,writeUInt32BE:L}=r(2024),{AgentContext:D,createAgent:P,isAgent:x}=r(985),{Channel:H,MAX_WINDOW:Q,PACKET_SIZE:F,windowAdjust:M,WINDOW_THRESHOLD:K}=r(5971),{ChannelManager:W,generateAlgorithmList:G,isWritable:q,onChannelOpenFailure:j,onCHANNEL_CLOSE:$}=r(2473),Y=N(),X=N(),z=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/,V=e=>{};function J(e,t,r,n){const i=Q,o=F;"function"==typeof r&&(n=r,r={});const s=(e,t)=>{n(e,t)};s.type=t;const a=e._chanMgr.add(s);if(-1!==a)switch(t){case"session":case"sftp":e._protocol.session(a,i,o);break;case"direct-tcpip":e._protocol.directTcpip(a,i,o,r);break;case"direct-streamlocal@openssh.com":e._protocol.openssh_directStreamLocal(a,i,o,r);break;default:throw new Error(`Unsupported channel type: ${t}`)}else n(new Error("No free channels available"))}function Z(e,t,r){const n={single:!1,protocol:"MIT-MAGIC-COOKIE-1",cookie:void 0,screen:0};"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("boolean"==typeof t.single&&(n.single=t.single),"number"==typeof t.screen&&(n.screen=t.screen),"string"==typeof t.protocol&&(n.protocol=t.protocol),"string"==typeof t.cookie?n.cookie=t.cookie:Buffer.isBuffer(t.cookie)&&(n.cookie=t.cookie.hexSlice(0,t.cookie.length))),void 0===n.cookie&&(n.cookie=ie());const i="function"==typeof r;"open"===e.outgoing.state?(i&&e._callbacks.push(t=>{t?r(!0!==t?t:new Error("Unable to request X11")):(e._hasX11=!0,++e._client._acceptX11,e.once("close",()=>{e._client._acceptX11&&--e._client._acceptX11}),r())}),e._client._protocol.x11Forward(e.outgoing.id,n,i)):i&&r(new Error("Channel is not open"))}function ee(e,t,r){let n=24,i=80,o=640,s=480,a="vt100",c=null;"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("number"==typeof t.rows&&(n=t.rows),"number"==typeof t.cols&&(i=t.cols),"number"==typeof t.width&&(o=t.width),"number"==typeof t.height&&(s=t.height),"string"==typeof t.term&&(a=t.term),"object"==typeof t.modes&&(c=t.modes));const u="function"==typeof r;"open"===e.outgoing.state?(u&&e._callbacks.push(e=>{e?r(!0!==e?e:new Error("Unable to request a pseudo-terminal")):r()}),e._client._protocol.pty(e.outgoing.id,n,i,s,o,a,c,u)):u&&r(new Error("Channel is not open"))}function te(e,t){const r="function"==typeof t;"open"===e.outgoing.state?e._client._agentFwdEnabled?r&&t(!1):(e._client._agentFwdEnabled=!0,e._callbacks.push(n=>{if(n)return e._client._agentFwdEnabled=!1,void(r&&t(!0!==n?n:new Error("Unable to request agent forwarding")));r&&t()}),e._client._protocol.openssh_agentForward(e.outgoing.id,!0)):r&&t(new Error("Channel is not open"))}function re(e,t,r){const n="function"==typeof r;if("open"!==e.outgoing.state)return void(n&&r(new Error("Channel is not open")));n&&e._callbacks.push(e=>{e?r(!0!==e?e:new Error("Unable to set environment")):r()});const i=Object.keys(t||{});for(let r=0;r<i.length;++r){const o=i[r],s=t[o];e._client._protocol.env(e.outgoing.id,o,s,n)}}function ne(e,t,r){"open"===e.outgoing.state?(e._callbacks.push(n=>{n?r(!0!==n?n:new Error(`Unable to start subsystem: ${t}`)):(e.subtype="subsystem",r(void 0,e))}),e._client._protocol.subsystem(e.outgoing.id,t,!0)):r(new Error("Channel is not open"))}const ie=(()=>{const e=Buffer.allocUnsafe(16);return()=>(o(e,0,16),e.hexSlice(0,16))})();function oe(e){if(!Array.isArray(e))throw new Error("authList must be an array");let t=0;return(r,n,i)=>t!==e.length&&e[t++]}function se(e,t,r){if("ssh-rsa"===t.type){if(e._protocol._compatFlags&h.IMPLY_RSA_SHA2_SIGALGS&&(r=Array.isArray(r)?["rsa-sha2-256","rsa-sha2-512",...r]:["rsa-sha2-256","rsa-sha2-512"]),Array.isArray(r)){if(-1!==r.indexOf("rsa-sha2-256"))return[["rsa-sha2-256","sha256"]];if(-1!==r.indexOf("rsa-sha2-512"))return[["rsa-sha2-512","sha512"]];if(-1===r.indexOf("ssh-rsa"))return[]}return[["ssh-rsa","sha1"]]}}e.exports=class extends c{constructor(){super(),this.config={host:void 0,port:void 0,localAddress:void 0,localPort:void 0,forceIPv4:void 0,forceIPv6:void 0,keepaliveCountMax:void 0,keepaliveInterval:void 0,readyTimeout:void 0,ident:void 0,username:void 0,password:void 0,privateKey:void 0,tryKeyboard:void 0,agent:void 0,allowAgentFwd:void 0,authHandler:void 0,hostHashAlgo:void 0,hostHashCb:void 0,strictVendor:void 0,debug:void 0},this._agent=void 0,this._readyTimeout=void 0,this._chanMgr=void 0,this._callbacks=void 0,this._forwarding=void 0,this._forwardingUnix=void 0,this._acceptX11=void 0,this._agentFwdEnabled=void 0,this._remoteVer=void 0,this._protocol=void 0,this._sock=void 0,this._resetKA=void 0}connect(e){if(this._sock&&q(this._sock))return this.once("close",()=>{this.connect(e)}),this.end(),this;this.config.host=e.hostname||e.host||"localhost",this.config.port=e.port||22,this.config.localAddress="string"==typeof e.localAddress?e.localAddress:void 0,this.config.localPort="string"==typeof e.localPort||"number"==typeof e.localPort?e.localPort:void 0,this.config.forceIPv4=e.forceIPv4||!1,this.config.forceIPv6=e.forceIPv6||!1,this.config.keepaliveCountMax="number"==typeof e.keepaliveCountMax&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3,this.config.keepaliveInterval="number"==typeof e.keepaliveInterval&&e.keepaliveInterval>0?e.keepaliveInterval:0,this.config.readyTimeout="number"==typeof e.readyTimeout&&e.readyTimeout>=0?e.readyTimeout:2e4,this.config.ident="string"==typeof e.ident||Buffer.isBuffer(e.ident)?e.ident:void 0;const t={kex:void 0,serverHostKey:void 0,cs:{cipher:void 0,mac:void 0,compress:void 0,lang:[]},sc:void 0};let r=!0;if("object"==typeof e.algorithms&&null!==e.algorithms&&(t.kex=G(e.algorithms.kex,g,v),t.kex!==g&&(r=!1),t.serverHostKey=G(e.algorithms.serverHostKey,E,I),t.serverHostKey!==E&&(r=!1),t.cs.cipher=G(e.algorithms.cipher,d,m),t.cs.cipher!==d&&(r=!1),t.cs.mac=G(e.algorithms.hmac,_,b),t.cs.mac!==_&&(r=!1),t.cs.compress=G(e.algorithms.compress,p,w),t.cs.compress!==p&&(r=!1),r||(t.sc=t.cs)),"string"==typeof e.username)this.config.username=e.username;else{if("string"!=typeof e.user)throw new Error("Invalid username");this.config.username=e.user}this.config.password="string"==typeof e.password?e.password:void 0,this.config.privateKey="string"==typeof e.privateKey||Buffer.isBuffer(e.privateKey)?e.privateKey:void 0,this.config.localHostname="string"==typeof e.localHostname?e.localHostname:void 0,this.config.localUsername="string"==typeof e.localUsername?e.localUsername:void 0,this.config.tryKeyboard=!0===e.tryKeyboard,"string"==typeof e.agent&&e.agent.length?this.config.agent=P(e.agent):x(e.agent)?this.config.agent=e.agent:this.config.agent=void 0,this.config.allowAgentFwd=!0===e.agentForward&&void 0!==this.config.agent;let i=this.config.authHandler="function"==typeof e.authHandler||Array.isArray(e.authHandler)?e.authHandler:void 0;this.config.strictVendor="boolean"!=typeof e.strictVendor||e.strictVendor;const o=this.config.debug="function"==typeof e.debug?e.debug:void 0;if(!0===e.agentForward&&!this.config.allowAgentFwd)throw new Error("You must set a valid agent path to allow agent forwarding");let c,h,N=this._callbacks=[];if(this._chanMgr=new W(this),this._forwarding={},this._forwardingUnix={},this._acceptX11=0,this._agentFwdEnabled=!1,this._agent=this.config.agent?this.config.agent:void 0,this._remoteVer=void 0,this.config.privateKey){if(c=k(this.config.privateKey,e.passphrase),c instanceof Error)throw new Error(`Cannot parse privateKey: ${c.message}`);if(Array.isArray(c)&&(c=c[0]),null===c.getPrivatePEM())throw new Error("privateKey value does not contain a (valid) private key")}if("function"==typeof e.hostVerifier){const t=e.hostVerifier;let r;-1!==u.indexOf(e.hostHash)&&(r=e.hostHash),h=(e,i)=>{r&&(e=n(r).update(e).digest("hex"));const o=t(e,i);void 0!==o&&i(o)}}const T=this._sock=e.sock||new s;let J=!1,Z=!1;this._protocol&&this._protocol.cleanup();const ee=o?(e,t,r)=>{o(`Debug output from server: ${JSON.stringify(r)}`)}:void 0;let te;const re=this._protocol=new B({ident:this.config.ident,offer:r?void 0:t,onWrite:e=>{q(T)&&T.write(e)},onError:e=>{"handshake"===e.level&&clearTimeout(this._readyTimeout),re._destruct||T.removeAllListeners("data"),this.emit("error",e);try{T.end()}catch{}},onHeader:e=>{Z=!0,this._remoteVer=e.versions.software,e.greeting&&this.emit("greeting",e.greeting)},onHandshakeComplete:e=>{this.emit("handshake",e),J||(J=!0,re.service("ssh-userauth"))},debug:o,hostVerifier:h,messageHandlers:{DEBUG:ee,DISCONNECT:(e,t,r)=>{if(t!==A.BY_APPLICATION){r||void 0===(r=y[t])&&(r=`Unexpected disconnection reason: ${t}`);const e=new Error(r);e.code=t,this.emit("error",e)}T.end()},SERVICE_ACCEPT:(e,t)=>{"ssh-userauth"===t&&we()},EXT_INFO:(e,t)=>{if(void 0===te){for(const e of t)if("server-sig-algs"===e.name)return void(te=e.algs);te=null}},USERAUTH_BANNER:(e,t)=>{this.emit("banner",t)},USERAUTH_SUCCESS:e=>{he(),clearTimeout(this._readyTimeout),this.emit("ready")},USERAUTH_FAILURE:(e,t,r)=>{if(de.keyAlgos){const e=de.keyAlgos[0][0];if(o&&o(`Client: ${de.type} (${e}) auth failed`),de.keyAlgos.shift(),de.keyAlgos.length){const[e,t]=de.keyAlgos[0];switch(de.type){case"agent":return void re.authPK(de.username,de.agentCtx.currentKey(),e);case"publickey":return void re.authPK(de.username,de.key,e);case"hostbased":return void re.authHostbased(de.username,de.key,de.localHostname,de.localUsername,e,(e,r)=>{const n=de.key.sign(e,t);if(n instanceof Error)return n.message=`Error while signing with key: ${n.message}`,n.level="client-authentication",this.emit("error",n),we();r(n)})}}else de.keyAlgos=void 0}if("agent"===de.type){const e=de.agentCtx.pos();return o&&o(`Client: Agent key #${e+1} failed`),ve()}o&&o(`Client: ${de.type} auth failed`),ge=r,_e=t,we()},USERAUTH_PASSWD_CHANGEREQ:(e,t)=>{"password"===de.type&&this.emit("change password",t,e=>{re.authPassword(this.config.username,this.config.password,e)})},USERAUTH_PK_OK:e=>{let t,r;if(de.keyAlgos&&([t,r]=de.keyAlgos[0]),"agent"===de.type){const e=de.agentCtx.currentKey();re.authPK(de.username,e,t,(t,n)=>{const i={hash:r};de.agentCtx.sign(e,t,i,(e,t)=>{if(!e)return n(t);e.level="agent",this.emit("error",e),ve()})})}else"publickey"===de.type&&re.authPK(de.username,de.key,t,(e,t)=>{const n=de.key.sign(e,r);if(n instanceof Error)return n.message=`Error signing data with key: ${n.message}`,n.level="client-authentication",this.emit("error",n),we();t(n)})},USERAUTH_INFO_REQUEST:(e,t,r,n)=>{if("keyboard-interactive"===de.type){if(0===(Array.isArray(n)?n.length:0))return o&&o("Client: Sending automatic USERAUTH_INFO_RESPONSE"),void re.authInfoRes();de.prompt(t,r,"",n,e=>{re.authInfoRes(e)})}},REQUEST_SUCCESS:(e,t)=>{N.length&&N.shift()(!1,t)},REQUEST_FAILURE:e=>{N.length&&N.shift()(!0)},GLOBAL_REQUEST:(e,t,r,n)=>{"hostkeys-00@openssh.com"===t?(!function(e,t,r){if(!e._sock||!q(e._sock))return;if("function"!=typeof r&&(r=V),!Array.isArray(t))throw new TypeError("Invalid keys argument type");const n=[];for(const e of t){const t=k(e);if(t instanceof Error)throw t;n.push(t)}if(!e.config.strictVendor||e.config.strictVendor&&z.test(e._remoteVer))return e._callbacks.push((t,i)=>{if(t)return void r(!0!==t?t:new Error("Server failed to prove supplied keys"));const o=[];let s=0;for(Y.init(i,0);Y.avail()&&s!==n.length;){const t=n[s++],r=t.getPublicSSH(),i=Y.readString();X.init(i,0);const a=X.readString(!0);let c,u=X.readString();if(a!==t.type){if("ssh-rsa"!==t.type)continue;switch(a){case"rsa-sha2-256":c="sha256";break;case"rsa-sha2-512":c="sha512";break;default:continue}}const h=e._protocol._kex.sessionID,f=Buffer.allocUnsafe(37+h.length+4+r.length);let l=0;L(f,29,l),f.utf8Write("hostkeys-prove-00@openssh.com",l+=4,29),L(f,h.length,l+=29),R(h,f,0,h.length,l+=4),L(f,r.length,l+=h.length),R(r,f,0,r.length,l+=4),(u=O(u,a))&&!0===t.verify(f,u,c)&&o.push(t)}X.clear(),Y.clear(),r(null,o)}),void e._protocol.openssh_hostKeysProve(n);process.nextTick(r,new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}(this,n,(e,t)=>{e||this.emit("hostkeys",t)}),r&&re.requestSuccess()):r&&re.requestFailure()},CHANNEL_OPEN:(e,t)=>{!function(e,t){let r,n=-1;const i=()=>{const r={type:t.type,incoming:{id:n,window:Q,packetSize:F,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new H(e,r);return e._chanMgr.update(n,i),e._protocol.channelOpenConfirm(t.sender,n,Q,F),i},o=()=>{void 0===r&&(r=-1===n?l.RESOURCE_SHORTAGE:l.CONNECT_FAILED),-1!==n&&e._chanMgr.remove(n),e._protocol.channelOpenFail(t.sender,r,"")},s=()=>(n=e._chanMgr.add(),-1===n&&(r=l.RESOURCE_SHORTAGE,e.config.debug&&e.config.debug("Client: Automatic rejection of incoming channel open: no channels available")),-1!==n),a=t.data;switch(t.type){case"forwarded-tcpip":{const t=e._forwarding[`${a.destIP}:${a.destPort}`];if(void 0!==t&&s())return 0===a.destPort&&(a.destPort=t),void e.emit("tcp connection",a,i,o);break}case"forwarded-streamlocal@openssh.com":if(void 0!==e._forwardingUnix[a.socketPath]&&s())return void e.emit("unix connection",a,i,o);break;case"auth-agent@openssh.com":if(e._agentFwdEnabled&&"function"==typeof e._agent.getStream&&s())return void e._agent.getStream((e,t)=>{if(e)return o();const r=i();r.pipe(t).pipe(r)});break;case"x11":if(0!==e._acceptX11&&s())return void e.emit("x11",a,i,o);break;default:r=l.UNKNOWN_CHANNEL_TYPE,e.config.debug&&e.config.debug(`Client: Automatic rejection of unsupported incoming channel open type: ${t.type}`)}void 0===r&&(r=l.ADMINISTRATIVELY_PROHIBITED,e.config.debug&&e.config.debug("Client: Automatic rejection of unexpected incoming channel open for: "+t.type)),o()}(this,t)},CHANNEL_OPEN_CONFIRMATION:(e,t)=>{const r=this._chanMgr.get(t.recipient);if("function"!=typeof r)return;const n="sftp"===r.type,i={type:n?"session":r.type,incoming:{id:t.recipient,window:Q,packetSize:F,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},s=n?new C(this,i,{debug:o}):new H(this,i);this._chanMgr.update(t.recipient,s),r(void 0,s)},CHANNEL_OPEN_FAILURE:(e,t,r,n)=>{const i=this._chanMgr.get(t);"function"==typeof i&&j(this,t,{reason:r,description:n},i)},CHANNEL_DATA:(e,t,r)=>{const n=this._chanMgr.get(t);"object"==typeof n&&null!==n&&0!==n.incoming.window&&(n.incoming.window-=r.length,!1!==n.push(r)?n.incoming.window<=K&&M(n):n._waitChanDrain=!0)},CHANNEL_EXTENDED_DATA:(e,t,r,n)=>{if(n!==f)return;const i=this._chanMgr.get(t);"object"==typeof i&&null!==i&&0!==i.incoming.window&&(i.incoming.window-=r.length,i.stderr.push(r)?i.incoming.window<=K&&M(i):i._waitChanDrain=!0)},CHANNEL_WINDOW_ADJUST:(e,t,r)=>{const n=this._chanMgr.get(t);"object"==typeof n&&null!==n&&(n.outgoing.window+=r,n._waitWindow&&(n._waitWindow=!1,n._chunk?n._write(n._chunk,null,n._chunkcb):n._chunkcb?n._chunkcb():n._chunkErr?n.stderr._write(n._chunkErr,null,n._chunkcbErr):n._chunkcbErr&&n._chunkcbErr()))},CHANNEL_SUCCESS:(e,t)=>{const r=this._chanMgr.get(t);"object"==typeof r&&null!==r&&(this._resetKA(),r._callbacks.length&&r._callbacks.shift()(!1))},CHANNEL_FAILURE:(e,t)=>{const r=this._chanMgr.get(t);"object"==typeof r&&null!==r&&(this._resetKA(),r._callbacks.length&&r._callbacks.shift()(!0))},CHANNEL_REQUEST:(e,t,r,n,i)=>{const o=this._chanMgr.get(t);if("object"!=typeof o||null===o)return;const s=o._exit;if(void 0===s.code){switch(r){case"exit-status":return void o.emit("exit",s.code=i);case"exit-signal":return void o.emit("exit",s.code=null,s.signal=`SIG${i.signal}`,s.dump=i.coreDumped,s.desc=i.errorMessage)}n&&e.channelFailure(o.outgoing.id)}},CHANNEL_EOF:(e,t)=>{const r=this._chanMgr.get(t);"object"==typeof r&&null!==r&&"open"===r.incoming.state&&(r.incoming.state="eof",r.readable&&r.push(null),r.stderr.readable&&r.stderr.push(null))},CHANNEL_CLOSE:(e,t)=>{$(this,t,this._chanMgr.get(t))}}});T.pause();const ne=this.config.keepaliveInterval,ie=this.config.keepaliveCountMax;let ae,ce=0;const ue=()=>{if(++ce>ie){if(clearInterval(ae),T.readable){const e=new Error("Keepalive timeout");e.level="client-timeout",this.emit("error",e),T.destroy()}}else q(T)?(N.push(he),re.ping()):clearInterval(ae)};function he(){ne>0&&(ce=0,clearInterval(ae),q(T)&&(ae=setInterval(ue,ne)))}this._resetKA=he;const fe=(()=>{let e=!1;return()=>{if(!e&&(e=!0,pe&&!Z)){const e=U("Connection lost before handshake","protocol",!0);this.emit("error",e)}}})(),le=(()=>{let e=!1;return()=>{e||(e=!0,pe=!0,o&&o("Socket connected"),this.emit("connect"),S.then(()=>{re.start(),T.on("data",e=>{try{re.parse(e,0,e.length)}catch(e){this.emit("error",e);try{q(T)&&T.end()}catch{}}}),T.stderr&&"function"==typeof T.stderr.resume&&T.stderr.resume(),T.resume()}).catch(e=>{this.emit("error",e);try{q(T)&&T.end()}catch{}}))}})();let de,pe=!1;T.on("connect",le).on("timeout",()=>{this.emit("timeout")}).on("error",e=>{o&&o(`Socket error: ${e.message}`),clearTimeout(this._readyTimeout),e.level="client-socket",this.emit("error",e)}).on("end",()=>{o&&o("Socket ended"),fe(),re.cleanup(),clearTimeout(this._readyTimeout),clearInterval(ae),this.emit("end")}).on("close",()=>{o&&o("Socket closed"),fe(),re.cleanup(),clearTimeout(this._readyTimeout),clearInterval(ae),this.emit("close");const e=N;N=this._callbacks=[];const t=new Error("No response from server");for(let r=0;r<e.length;++r)e[r](t);this._chanMgr.cleanup(t)});let ge=null,_e=null;const Ee=["none"];void 0!==this.config.password&&Ee.push("password"),void 0!==c&&Ee.push("publickey"),void 0!==this._agent&&Ee.push("agent"),this.config.tryKeyboard&&Ee.push("keyboard-interactive"),void 0!==c&&void 0!==this.config.localHostname&&void 0!==this.config.localUsername&&Ee.push("hostbased"),Array.isArray(i)?i=oe(i):"function"!=typeof i&&(i=oe(Ee));let Ae=!1;const ye=e=>{if(!Ae){if(Ae=!0,!1===e){const e=new Error("All configured authentication methods failed");return e.level="client-authentication",this.emit("error",e),void this.end()}if("string"==typeof e){const t=e;if(-1===Ee.indexOf(t))return me(`Authentication method not allowed: ${t}`);const r=this.config.username;switch(t){case"password":e={type:t,username:r,password:this.config.password};break;case"publickey":e={type:t,username:r,key:c};break;case"hostbased":e={type:t,username:r,key:c,localHostname:this.config.localHostname,localUsername:this.config.localUsername};break;case"agent":e={type:t,username:r,agentCtx:new D(this._agent)};break;case"keyboard-interactive":e={type:t,username:r,prompt:(...e)=>this.emit("keyboard-interactive",...e)};break;case"none":e={type:t,username:r};break;default:return me(`Skipping unsupported authentication method: ${e}`)}}else{if("object"!=typeof e||null===e)return me(`Skipping invalid authentication attempt: ${e}`);{const t=e.username;if("string"!=typeof t)return me(`Skipping invalid authentication attempt: ${e}`);const r=e.type;switch(r){case"password":{const{password:n}=e;if("string"!=typeof n&&!Buffer.isBuffer(n))return me("Skipping invalid password auth attempt");e={type:r,username:t,password:n};break}case"publickey":{const n=k(e.key,e.passphrase);if(n instanceof Error)return me("Skipping invalid key auth attempt");if(!n.isPrivateKey())return me("Skipping non-private key");e={type:r,username:t,key:n};break}case"hostbased":{const{localHostname:n,localUsername:i}=e,o=k(e.key,e.passphrase);if(o instanceof Error||"string"!=typeof n||"string"!=typeof i)return me("Skipping invalid hostbased auth attempt");if(!o.isPrivateKey())return me("Skipping non-private key");e={type:r,username:t,key:o,localHostname:n,localUsername:i};break}case"agent":{let n=e.agent;if("string"==typeof n&&n.length)n=P(n);else if(!x(n))return me(`Skipping invalid agent: ${e.agent}`);e={type:r,username:t,agentCtx:new D(n)};break}case"keyboard-interactive":{const{prompt:n}=e;if("function"!=typeof n)return me("Skipping invalid keyboard-interactive auth attempt");e={type:r,username:t,prompt:n};break}case"none":e={type:r,username:t};break;default:return me(`Skipping unsupported authentication method: ${e}`)}}}de=e;try{const e=de.username;switch(de.type){case"password":re.authPassword(e,de.password);break;case"publickey":{let t;if(de.keyAlgos=se(this,de.key,te),de.keyAlgos){if(!de.keyAlgos.length)return me("Skipping key authentication (no mutual hash algorithm)");t=de.keyAlgos[0][0]}re.authPK(e,de.key,t);break}case"hostbased":{let t,r;if(de.keyAlgos=se(this,de.key,te),de.keyAlgos){if(!de.keyAlgos.length)return me("Skipping hostbased authentication (no mutual hash algorithm)");[t,r]=de.keyAlgos[0]}re.authHostbased(e,de.key,de.localHostname,de.localUsername,t,(e,t)=>{const n=de.key.sign(e,r);if(n instanceof Error)return n.message=`Error while signing with key: ${n.message}`,n.level="client-authentication",this.emit("error",n),we();t(n)});break}case"agent":de.agentCtx.init(e=>{if(e)return e.level="agent",this.emit("error",e),we();ve()});break;case"keyboard-interactive":re.authKeyboard(e);break;case"none":re.authNone(e)}}finally{Ae=!1}}};function me(e){o&&o(e),process.nextTick(we)}function we(){Ae=!1;const e=i(_e,ge,ye);Ae||void 0===e||ye(e)}const ve=()=>{if("agent"===de.type){const e=de.agentCtx.nextKey();if(!1===e)o&&o("Agent: No more keys left to try"),o&&o("Client: agent auth failed"),we();else{const t=de.agentCtx.pos();let r;if(de.keyAlgos=se(this,e,te),de.keyAlgos){if(!de.keyAlgos.length)return o&&o(`Agent: Skipping key #${t+1} (no mutual hash algorithm)`),void ve();r=de.keyAlgos[0][0]}o&&o(`Agent: Trying key #${t+1}`),re.authPK(de.username,e,r)}}},be=()=>{this.config.readyTimeout>0&&(this._readyTimeout=setTimeout(()=>{const e=new Error("Timed out while waiting for handshake");e.level="client-timeout",this.emit("error",e),T.destroy()},this.config.readyTimeout))};if(e.sock)be(),"boolean"==typeof T.connecting&&T.connecting||le();else{let t=this.config.host;const r=this.config.forceIPv4,n=this.config.forceIPv6;o&&o(`Client: Trying ${t} on port ${this.config.port} ...`);const i=()=>{be(),T.connect({host:t,port:this.config.port,localAddress:this.config.localAddress,localPort:this.config.localPort}),T.setMaxListeners(0),T.setTimeout("number"==typeof e.timeout?e.timeout:0)};!r&&!n||r&&n?i():a(t,r?4:6,(e,n,o)=>{if(e){const n=new Error(`Error while looking up ${r?"IPv4":"IPv6"} address for '${t}': ${e}`);return clearTimeout(this._readyTimeout),n.level="client-dns",this.emit("error",n),void this.emit("close")}t=n,i()})}return this}end(){return this._sock&&q(this._sock)&&(this._protocol.disconnect(A.BY_APPLICATION),this._sock.end()),this}destroy(){return this._sock&&q(this._sock)&&this._sock.destroy(),this}exec(e,t,r){if(!this._sock||!q(this._sock))throw new Error("Not connected");return"function"==typeof t&&(r=t,t={}),J(this,"session",{allowHalfOpen:!1!==t.allowHalfOpen},(n,i)=>{if(n)return void r(n);const o=[];function s(e){if(e)return i.close(),void r(e);o.length&&o.shift()()}(!0===this.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==this._agent)&&o.push(()=>te(i,s)),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&re(i,t.env),("object"==typeof t.pty&&null!==t.pty||!0===t.pty)&&o.push(()=>ee(i,t.pty,s)),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&o.push(()=>Z(i,t.x11,s))),o.push(()=>function(e,t,r,n){"open"===e.outgoing.state?(e._callbacks.push(t=>{t?n(!0!==t?t:new Error("Unable to exec")):(e.subtype="exec",e.allowHalfOpen=!1!==r.allowHalfOpen,n(void 0,e))}),e._client._protocol.exec(e.outgoing.id,t,!0)):n(new Error("Channel is not open"))}(i,e,t,r)),o.shift()()}),this}shell(e,t,r){if(!this._sock||!q(this._sock))throw new Error("Not connected");return"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),!e||void 0===e.x11&&void 0===e.env||(t=e,e=void 0),J(this,"session",(n,i)=>{if(n)return void r(n);const o=[];function s(e){if(e)return i.close(),void r(e);o.length&&o.shift()()}(!0===this.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==this._agent)&&o.push(()=>te(i,s)),!1!==e&&o.push(()=>ee(i,e,s)),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&re(i,t.env),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&o.push(()=>Z(i,t.x11,s))),o.push(()=>function(e,t){"open"===e.outgoing.state?(e._callbacks.push(r=>{r?t(!0!==r?r:new Error("Unable to open shell")):(e.subtype="shell",t(void 0,e))}),e._client._protocol.shell(e.outgoing.id,!0)):t(new Error("Channel is not open"))}(i,r)),o.shift()()}),this}subsys(e,t){if(!this._sock||!q(this._sock))throw new Error("Not connected");return J(this,"session",(r,n)=>{r?t(r):ne(n,e,(e,r)=>{e?t(e):t(void 0,r)})}),this}forwardIn(e,t,r){if(!this._sock||!q(this._sock))throw new Error("Not connected");const n="function"==typeof r;return n&&this._callbacks.push((n,i)=>{if(n)return void r(!0!==n?n:new Error(`Unable to bind to ${e}:${t}`));let o=t;0===t&&i&&i.length>=4&&(o=T(i,0),this._protocol._compatFlags&h.DYN_RPORT_BUG||(t=o)),this._forwarding[`${e}:${t}`]=o,r(void 0,o)}),this._protocol.tcpipForward(e,t,n),this}unforwardIn(e,t,r){if(!this._sock||!q(this._sock))throw new Error("Not connected");const n="function"==typeof r;return n&&this._callbacks.push(n=>{n?r(!0!==n?n:new Error(`Unable to unbind from ${e}:${t}`)):(delete this._forwarding[`${e}:${t}`],r())}),this._protocol.cancelTcpipForward(e,t,n),this}forwardOut(e,t,r,n,i){if(!this._sock||!q(this._sock))throw new Error("Not connected");return"function"!=typeof i&&(i=V),J(this,"direct-tcpip",{srcIP:e,srcPort:t,dstIP:r,dstPort:n},i),this}openssh_noMoreSessions(e){if(!this._sock||!q(this._sock))throw new Error("Not connected");const t="function"==typeof e;return!this.config.strictVendor||this.config.strictVendor&&z.test(this._remoteVer)?(t&&this._callbacks.push(t=>{t?e(!0!==t?t:new Error("Unable to disable future sessions")):e()}),this._protocol.openssh_noMoreSessions(t),this):t?(process.nextTick(e,new Error("strictVendor enabled and server is not OpenSSH or compatible version")),this):this}openssh_forwardInStreamLocal(e,t){if(!this._sock||!q(this._sock))throw new Error("Not connected");const r="function"==typeof t;return!this.config.strictVendor||this.config.strictVendor&&z.test(this._remoteVer)?(r&&this._callbacks.push(r=>{r?t(!0!==r?r:new Error(`Unable to bind to ${e}`)):(this._forwardingUnix[e]=!0,t())}),this._protocol.openssh_streamLocalForward(e,r),this):r?(process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version")),this):this}openssh_unforwardInStreamLocal(e,t){if(!this._sock||!q(this._sock))throw new Error("Not connected");const r="function"==typeof t;return!this.config.strictVendor||this.config.strictVendor&&z.test(this._remoteVer)?(r&&this._callbacks.push(r=>{r?t(!0!==r?r:new Error(`Unable to unbind from ${e}`)):(delete this._forwardingUnix[e],t())}),this._protocol.openssh_cancelStreamLocalForward(e,r),this):r?(process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version")),this):this}openssh_forwardOutStreamLocal(e,t){if(!this._sock||!q(this._sock))throw new Error("Not connected");return"function"!=typeof t&&(t=V),!this.config.strictVendor||this.config.strictVendor&&z.test(this._remoteVer)?(J(this,"direct-streamlocal@openssh.com",{socketPath:e},t),this):(process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version")),this)}sftp(e,t){if(!this._sock||!q(this._sock))throw new Error("Not connected");return"function"==typeof e&&(t=e,e=void 0),J(this,"sftp",(r,n)=>{if(r)return void t(r);const i=(e,r)=>{function i(){n.removeListener("ready",o),n.removeListener("error",s),n.removeListener("exit",a),n.removeListener("close",a)}function o(){i(),t(void 0,n)}function s(e){i(),t(e)}function a(e,r){let n;i(),n="number"==typeof e?`Received exit code ${e} while establishing SFTP session`:void 0!==r?`Received signal ${r} while establishing SFTP session`:"Received unexpected SFTP session termination";const o=new Error(n);o.code=e,o.signal=r,t(o)}e?t(e):(n.on("ready",o).on("error",s).on("exit",a).on("close",a),n._init())};"object"==typeof e&&null!==e?re(n,e,e=>{e?t(e):ne(n,"sftp",i)}):ne(n,"sftp",i)}),this}setNoDelay(e){return this._sock&&"function"==typeof this._sock.setNoDelay&&this._sock.setNoDelay(e),this}}},5317:e=>{"use strict";e.exports=require("child_process")},5365:(e,t)=>{t.Z=function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}},5557:(e,t,r)=>{"use strict";const n=r(9570),i=r(2581).fromPromise;e.exports={symlinkType:i(async function(e,t){if(t)return t;let r;try{r=await n.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}),symlinkTypeSync:function(e,t){if(t)return t;let r;try{r=n.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}}},5647:e=>{e.exports=function(e,r){for(var n=[],i=0;i<e.length;i++){var o=r(e[i],i);t(o)?n.push.apply(n,o):n.push(o)}return n};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},5654:(e,t,r)=>{var n,i=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(e){var t,i,o;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise(function(e,t){i=e,o=t});var s,a={};for(s in t)t.hasOwnProperty(s)&&(a[s]=t[s]);var c,u,h,f,l,d="object"==typeof window,p="function"==typeof importScripts,g="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,_="";g?(_=p?r(6928).dirname(_)+"/":__dirname+"/",c=function(e,t){var n=G(e);return n?t?n:n.toString():(f||(f=r(9896)),l||(l=r(6928)),e=l.normalize(e),f.readFileSync(e,t?null:"utf8"))},h=function(e){return(e=c(e,!0)).buffer||(e=new Uint8Array(e)),w(e.buffer),e},u=function(e,t,n){var i=G(e);i&&t(i),f||(f=r(9896)),l||(l=r(6928)),e=l.normalize(e),f.readFile(e,function(e,r){e?n(e):t(r.buffer)})},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=function(){return"[Emscripten Module object]"}):(d||p)&&(p?_=self.location.href:"undefined"!=typeof document&&document.currentScript&&(_=document.currentScript.src),n&&(_=n),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",c=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(i){if(e=G(e)){t=[];for(var r=0;r<e.length;r++){var n=e[r];255<n&&(K&&w(!1,"Character code "+n+" ("+String.fromCharCode(n)+")  at offset "+r+" not in 0x00-0xFF."),n&=255),t.push(String.fromCharCode(n))}return t.join("")}throw i}},p&&(h=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){if(e=G(e))return e;throw t}}),u=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)t(n.response);else{var i=G(e);i?t(i.buffer):r()}},n.onerror=r,n.send(null)}),t.print||console.log.bind(console);var E,A=t.printErr||console.warn.bind(console);for(s in a)a.hasOwnProperty(s)&&(t[s]=a[s]);a=null,t.wasmBinary&&(E=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&P("no native wasm support detected");var y,m=!1;function w(e,t){e||P("Assertion failed: "+t)}function v(e){var r=t["_"+e];return w(r,"Cannot call unknown function "+e+", make sure it is exported"),r}var b,I,S,B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(){var e=y.buffer;b=e,t.HEAP8=I=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=new Int32Array(e),t.HEAPU8=S=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var C,R=[],N=[],U=[];function T(){var e=t.preRun.shift();R.unshift(e)}var O=0,L=null,D=null;function P(e){throw t.onAbort&&t.onAbort(e),A(e),m=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),o(e),e}t.preloadedImages={},t.preloadedAudios={};var x,H="data:application/octet-stream;base64,";if(!(x="data:application/octet-stream;base64,AGFzbQEAAAABIAZgAX8Bf2ADf39/AGABfwBgAABgAAF/YAZ/f39/f38AAgcBAWEBYQAAAwsKAAEDAQAAAgQFAgQFAXABAQEFBwEBgAKAgAIGCQF/AUGAjMACCwclCQFiAgABYwADAWQACQFlAAgBZgAHAWcABgFoAAUBaQAKAWoBAAqGTQpPAQJ/QYAIKAIAIgEgAEEDakF8cSICaiEAAkAgAkEAIAAgAU0bDQAgAD8AQRB0SwRAIAAQAEUNAQtBgAggADYCACABDwtBhAhBMDYCAEF/C4wFAg5+Cn8gACgCJCEUIAAoAiAhFSAAKAIcIREgACgCGCESIAAoAhQhEyACQRBPBEAgAC0ATEVBGHQhFyAAKAIEIhZBBWytIQ8gACgCCCIYQQVsrSENIAAoAgwiGUEFbK0hCyAAKAIQIhpBBWytIQkgADUCACEIIBqtIRAgGa0hDiAYrSEMIBatIQoDQCASIAEtAAMiEiABLQAEQQh0ciABLQAFQRB0ciABLQAGIhZBGHRyQQJ2Qf///x9xaq0iAyAOfiABLwAAIAEtAAJBEHRyIBNqIBJBGHRBgICAGHFqrSIEIBB+fCARIAEtAAdBCHQgFnIgAS0ACEEQdHIgAS0ACSIRQRh0ckEEdkH///8fcWqtIgUgDH58IAEtAApBCHQgEXIgAS0AC0EQdHIgAS0ADEEYdHJBBnYgFWqtIgYgCn58IBQgF2ogAS8ADSABLQAPQRB0cmqtIgcgCH58IAMgDH4gBCAOfnwgBSAKfnwgBiAIfnwgByAJfnwgAyAKfiAEIAx+fCAFIAh+fCAGIAl+fCAHIAt+fCADIAh+IAQgCn58IAUgCX58IAYgC358IAcgDX58IAMgCX4gBCAIfnwgBSALfnwgBiANfnwgByAPfnwiA0IaiEL/////D4N8IgRCGohC/////w+DfCIFQhqIQv////8Pg3wiBkIaiEL/////D4N8IgdCGoinQQVsIAOnQf///x9xaiITQRp2IASnQf///x9xaiESIAWnQf///x9xIREgBqdB////H3EhFSAHp0H///8fcSEUIBNB////H3EhEyABQRBqIQEgAkEQayICQQ9LDQALCyAAIBQ2AiQgACAVNgIgIAAgETYCHCAAIBI2AhggACATNgIUCwMAAQu2BAEGfwJAIAAoAjgiBARAIABBPGohBQJAIAJBECAEayIDIAIgA0kbIgZFDQAgBkEDcSEHAkAgBkEBa0EDSQRAQQAhAwwBCyAGQXxxIQhBACEDA0AgBSADIARqaiABIANqLQAAOgAAIAUgA0EBciIEIAAoAjhqaiABIARqLQAAOgAAIAUgA0ECciIEIAAoAjhqaiABIARqLQAAOgAAIAUgA0EDciIEIAAoAjhqaiABIARqLQAAOgAAIANBBGohAyAAKAI4IQQgCEEEayIIDQALCyAHRQ0AA0AgBSADIARqaiABIANqLQAAOgAAIANBAWohAyAAKAI4IQQgB0EBayIHDQALCyAAIAQgBmoiAzYCOCADQRBJDQEgACAFQRAQAiAAQQA2AjggAiAGayECIAEgBmohAQsgAkEQTwRAIAAgASACQXBxIgMQAiACQQ9xIQIgASADaiEBCyACRQ0AIAJBA3EhBCAAQTxqIQVBACEDIAJBAWtBA08EQCACQXxxIQcDQCAFIAAoAjggA2pqIAEgA2otAAA6AAAgBSADQQFyIgYgACgCOGpqIAEgBmotAAA6AAAgBSADQQJyIgYgACgCOGpqIAEgBmotAAA6AAAgBSADQQNyIgYgACgCOGpqIAEgBmotAAA6AAAgA0EEaiEDIAdBBGsiBw0ACwsgBARAA0AgBSAAKAI4IANqaiABIANqLQAAOgAAIANBAWohAyAEQQFrIgQNAAsLIAAgACgCOCACajYCOAsLoS0BDH8jAEEQayIMJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEH0AU0EQEGICCgCACIFQRAgAEELakF4cSAAQQtJGyIIQQN2IgJ2IgFBA3EEQCABQX9zQQFxIAJqIgNBA3QiAUG4CGooAgAiBEEIaiEAAkAgBCgCCCICIAFBsAhqIgFGBEBBiAggBUF+IAN3cTYCAAwBCyACIAE2AgwgASACNgIICyAEIANBA3QiAUEDcjYCBCABIARqIgEgASgCBEEBcjYCBAwNCyAIQZAIKAIAIgpNDQEgAQRAAkBBAiACdCIAQQAgAGtyIAEgAnRxIgBBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2aiIDQQN0IgBBuAhqKAIAIgQoAggiASAAQbAIaiIARgRAQYgIIAVBfiADd3EiBTYCAAwBCyABIAA2AgwgACABNgIICyAEQQhqIQAgBCAIQQNyNgIEIAQgCGoiAiADQQN0IgEgCGsiA0EBcjYCBCABIARqIAM2AgAgCgRAIApBA3YiAUEDdEGwCGohB0GcCCgCACEEAn8gBUEBIAF0IgFxRQRAQYgIIAEgBXI2AgAgBwwBCyAHKAIICyEBIAcgBDYCCCABIAQ2AgwgBCAHNgIMIAQgATYCCAtBnAggAjYCAEGQCCADNgIADA0LQYwIKAIAIgZFDQEgBkEAIAZrcUEBayIAIABBDHZBEHEiAnYiAUEFdkEIcSIAIAJyIAEgAHYiAUECdkEEcSIAciABIAB2IgFBAXZBAnEiAHIgASAAdiIBQQF2QQFxIgByIAEgAHZqQQJ0QbgKaigCACIBKAIEQXhxIAhrIQMgASECA0ACQCACKAIQIgBFBEAgAigCFCIARQ0BCyAAKAIEQXhxIAhrIgIgAyACIANJIgIbIQMgACABIAIbIQEgACECDAELCyABIAhqIgkgAU0NAiABKAIYIQsgASABKAIMIgRHBEAgASgCCCIAQZgIKAIASRogACAENgIMIAQgADYCCAwMCyABQRRqIgIoAgAiAEUEQCABKAIQIgBFDQQgAUEQaiECCwNAIAIhByAAIgRBFGoiAigCACIADQAgBEEQaiECIAQoAhAiAA0ACyAHQQA2AgAMCwtBfyEIIABBv39LDQAgAEELaiIAQXhxIQhBjAgoAgAiCUUNAEEAIAhrIQMCQAJAAkACf0EAIAhBgAJJDQAaQR8gCEH///8HSw0AGiAAQQh2IgAgAEGA/j9qQRB2QQhxIgJ0IgAgAEGA4B9qQRB2QQRxIgF0IgAgAEGAgA9qQRB2QQJxIgB0QQ92IAEgAnIgAHJrIgBBAXQgCCAAQRVqdkEBcXJBHGoLIgVBAnRBuApqKAIAIgJFBEBBACEADAELQQAhACAIQQBBGSAFQQF2ayAFQR9GG3QhAQNAAkAgAigCBEF4cSAIayIHIANPDQAgAiEEIAciAw0AQQAhAyACIQAMAwsgACACKAIUIgcgByACIAFBHXZBBHFqKAIQIgJGGyAAIAcbIQAgAUEBdCEBIAINAAsLIAAgBHJFBEBBACEEQQIgBXQiAEEAIABrciAJcSIARQ0DIABBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2akECdEG4CmooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIAhrIgEgA0khAiABIAMgAhshAyAAIAQgAhshBCAAKAIQIgEEfyABBSAAKAIUCyIADQALCyAERQ0AIANBkAgoAgAgCGtPDQAgBCAIaiIGIARNDQEgBCgCGCEFIAQgBCgCDCIBRwRAIAQoAggiAEGYCCgCAEkaIAAgATYCDCABIAA2AggMCgsgBEEUaiICKAIAIgBFBEAgBCgCECIARQ0EIARBEGohAgsDQCACIQcgACIBQRRqIgIoAgAiAA0AIAFBEGohAiABKAIQIgANAAsgB0EANgIADAkLIAhBkAgoAgAiAk0EQEGcCCgCACEDAkAgAiAIayIBQRBPBEBBkAggATYCAEGcCCADIAhqIgA2AgAgACABQQFyNgIEIAIgA2ogATYCACADIAhBA3I2AgQMAQtBnAhBADYCAEGQCEEANgIAIAMgAkEDcjYCBCACIANqIgAgACgCBEEBcjYCBAsgA0EIaiEADAsLIAhBlAgoAgAiBkkEQEGUCCAGIAhrIgE2AgBBoAhBoAgoAgAiAiAIaiIANgIAIAAgAUEBcjYCBCACIAhBA3I2AgQgAkEIaiEADAsLQQAhACAIQS9qIgkCf0HgCygCAARAQegLKAIADAELQewLQn83AgBB5AtCgKCAgICABDcCAEHgCyAMQQxqQXBxQdiq1aoFczYCAEH0C0EANgIAQcQLQQA2AgBBgCALIgFqIgVBACABayIHcSICIAhNDQpBwAsoAgAiBARAQbgLKAIAIgMgAmoiASADTQ0LIAEgBEsNCwtBxAstAABBBHENBQJAAkBBoAgoAgAiAwRAQcgLIQADQCADIAAoAgAiAU8EQCABIAAoAgRqIANLDQMLIAAoAggiAA0ACwtBABABIgFBf0YNBiACIQVB5AsoAgAiA0EBayIAIAFxBEAgAiABayAAIAFqQQAgA2txaiEFCyAFIAhNDQYgBUH+////B0sNBkHACygCACIEBEBBuAsoAgAiAyAFaiIAIANNDQcgACAESw0HCyAFEAEiACABRw0BDAgLIAUgBmsgB3EiBUH+////B0sNBSAFEAEiASAAKAIAIAAoAgRqRg0EIAEhAAsCQCAAQX9GDQAgCEEwaiAFTQ0AQegLKAIAIgEgCSAFa2pBACABa3EiAUH+////B0sEQCAAIQEMCAsgARABQX9HBEAgASAFaiEFIAAhAQwIC0EAIAVrEAEaDAULIAAiAUF/Rw0GDAQLAAtBACEEDAcLQQAhAQwFCyABQX9HDQILQcQLQcQLKAIAQQRyNgIACyACQf7///8HSw0BIAIQASEBQQAQASEAIAFBf0YNASAAQX9GDQEgACABTQ0BIAAgAWsiBSAIQShqTQ0BC0G4C0G4CygCACAFaiIANgIAQbwLKAIAIABJBEBBvAsgADYCAAsCQAJAAkBBoAgoAgAiBwRAQcgLIQADQCABIAAoAgAiAyAAKAIEIgJqRg0CIAAoAggiAA0ACwwCC0GYCCgCACIAQQAgACABTRtFBEBBmAggATYCAAtBACEAQcwLIAU2AgBByAsgATYCAEGoCEF/NgIAQawIQeALKAIANgIAQdQLQQA2AgADQCAAQQN0IgNBuAhqIANBsAhqIgI2AgAgA0G8CGogAjYCACAAQQFqIgBBIEcNAAtBlAggBUEoayIDQXggAWtBB3FBACABQQhqQQdxGyIAayICNgIAQaAIIAAgAWoiADYCACAAIAJBAXI2AgQgASADakEoNgIEQaQIQfALKAIANgIADAILIAAtAAxBCHENACADIAdLDQAgASAHTQ0AIAAgAiAFajYCBEGgCCAHQXggB2tBB3FBACAHQQhqQQdxGyIAaiICNgIAQZQIQZQIKAIAIAVqIgEgAGsiADYCACACIABBAXI2AgQgASAHakEoNgIEQaQIQfALKAIANgIADAELQZgIKAIAIAFLBEBBmAggATYCAAsgASAFaiECQcgLIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQcgLIQADQCAHIAAoAgAiAk8EQCACIAAoAgRqIgQgB0sNAwsgACgCCCEADAALAAsgACABNgIAIAAgACgCBCAFajYCBCABQXggAWtBB3FBACABQQhqQQdxG2oiCSAIQQNyNgIEIAJBeCACa0EHcUEAIAJBCGpBB3EbaiIFIAggCWoiBmshAiAFIAdGBEBBoAggBjYCAEGUCEGUCCgCACACaiIANgIAIAYgAEEBcjYCBAwDCyAFQZwIKAIARgRAQZwIIAY2AgBBkAhBkAgoAgAgAmoiADYCACAGIABBAXI2AgQgACAGaiAANgIADAMLIAUoAgQiAEEDcUEBRgRAIABBeHEhBwJAIABB/wFNBEAgBSgCCCIDIABBA3YiAEEDdEGwCGpGGiADIAUoAgwiAUYEQEGICEGICCgCAEF+IAB3cTYCAAwCCyADIAE2AgwgASADNgIIDAELIAUoAhghCAJAIAUgBSgCDCIBRwRAIAUoAggiACABNgIMIAEgADYCCAwBCwJAIAVBFGoiACgCACIDDQAgBUEQaiIAKAIAIgMNAEEAIQEMAQsDQCAAIQQgAyIBQRRqIgAoAgAiAw0AIAFBEGohACABKAIQIgMNAAsgBEEANgIACyAIRQ0AAkAgBSAFKAIcIgNBAnRBuApqIgAoAgBGBEAgACABNgIAIAENAUGMCEGMCCgCAEF+IAN3cTYCAAwCCyAIQRBBFCAIKAIQIAVGG2ogATYCACABRQ0BCyABIAg2AhggBSgCECIABEAgASAANgIQIAAgATYCGAsgBSgCFCIARQ0AIAEgADYCFCAAIAE2AhgLIAUgB2ohBSACIAdqIQILIAUgBSgCBEF+cTYCBCAGIAJBAXI2AgQgAiAGaiACNgIAIAJB/wFNBEAgAkEDdiIAQQN0QbAIaiECAn9BiAgoAgAiAUEBIAB0IgBxRQRAQYgIIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBjYCCCAAIAY2AgwgBiACNgIMIAYgADYCCAwDC0EfIQAgAkH///8HTQRAIAJBCHYiACAAQYD+P2pBEHZBCHEiA3QiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASADciAAcmsiAEEBdCACIABBFWp2QQFxckEcaiEACyAGIAA2AhwgBkIANwIQIABBAnRBuApqIQQCQEGMCCgCACIDQQEgAHQiAXFFBEBBjAggASADcjYCACAEIAY2AgAgBiAENgIYDAELIAJBAEEZIABBAXZrIABBH0YbdCEAIAQoAgAhAQNAIAEiAygCBEF4cSACRg0DIABBHXYhASAAQQF0IQAgAyABQQRxaiIEKAIQIgENAAsgBCAGNgIQIAYgAzYCGAsgBiAGNgIMIAYgBjYCCAwCC0GUCCAFQShrIgNBeCABa0EHcUEAIAFBCGpBB3EbIgBrIgI2AgBBoAggACABaiIANgIAIAAgAkEBcjYCBCABIANqQSg2AgRBpAhB8AsoAgA2AgAgByAEQScgBGtBB3FBACAEQSdrQQdxG2pBL2siACAAIAdBEGpJGyICQRs2AgQgAkHQCykCADcCECACQcgLKQIANwIIQdALIAJBCGo2AgBBzAsgBTYCAEHICyABNgIAQdQLQQA2AgAgAkEYaiEAA0AgAEEHNgIEIABBCGohASAAQQRqIQAgASAESQ0ACyACIAdGDQMgAiACKAIEQX5xNgIEIAcgAiAHayIEQQFyNgIEIAIgBDYCACAEQf8BTQRAIARBA3YiAEEDdEGwCGohAgJ/QYgIKAIAIgFBASAAdCIAcUUEQEGICCAAIAFyNgIAIAIMAQsgAigCCAshACACIAc2AgggACAHNgIMIAcgAjYCDCAHIAA2AggMBAtBHyEAIAdCADcCECAEQf///wdNBEAgBEEIdiIAIABBgP4/akEQdkEIcSICdCIAIABBgOAfakEQdkEEcSIBdCIAIABBgIAPakEQdkECcSIAdEEPdiABIAJyIAByayIAQQF0IAQgAEEVanZBAXFyQRxqIQALIAcgADYCHCAAQQJ0QbgKaiEDAkBBjAgoAgAiAkEBIAB0IgFxRQRAQYwIIAEgAnI2AgAgAyAHNgIAIAcgAzYCGAwBCyAEQQBBGSAAQQF2ayAAQR9GG3QhACADKAIAIQEDQCABIgIoAgRBeHEgBEYNBCAAQR12IQEgAEEBdCEAIAIgAUEEcWoiAygCECIBDQALIAMgBzYCECAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAwsgAygCCCIAIAY2AgwgAyAGNgIIIAZBADYCGCAGIAM2AgwgBiAANgIICyAJQQhqIQAMBQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIIC0GUCCgCACIAIAhNDQBBlAggACAIayIBNgIAQaAIQaAIKAIAIgIgCGoiADYCACAAIAFBAXI2AgQgAiAIQQNyNgIEIAJBCGohAAwDC0GECEEwNgIAQQAhAAwCCwJAIAVFDQACQCAEKAIcIgJBAnRBuApqIgAoAgAgBEYEQCAAIAE2AgAgAQ0BQYwIIAlBfiACd3EiCTYCAAwCCyAFQRBBFCAFKAIQIARGG2ogATYCACABRQ0BCyABIAU2AhggBCgCECIABEAgASAANgIQIAAgATYCGAsgBCgCFCIARQ0AIAEgADYCFCAAIAE2AhgLAkAgA0EPTQRAIAQgAyAIaiIAQQNyNgIEIAAgBGoiACAAKAIEQQFyNgIEDAELIAQgCEEDcjYCBCAGIANBAXI2AgQgAyAGaiADNgIAIANB/wFNBEAgA0EDdiIAQQN0QbAIaiECAn9BiAgoAgAiAUEBIAB0IgBxRQRAQYgIIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBjYCCCAAIAY2AgwgBiACNgIMIAYgADYCCAwBC0EfIQAgA0H///8HTQRAIANBCHYiACAAQYD+P2pBEHZBCHEiAnQiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASACciAAcmsiAEEBdCADIABBFWp2QQFxckEcaiEACyAGIAA2AhwgBkIANwIQIABBAnRBuApqIQICQAJAIAlBASAAdCIBcUUEQEGMCCABIAlyNgIAIAIgBjYCACAGIAI2AhgMAQsgA0EAQRkgAEEBdmsgAEEfRht0IQAgAigCACEIA0AgCCIBKAIEQXhxIANGDQIgAEEddiECIABBAXQhACABIAJBBHFqIgIoAhAiCA0ACyACIAY2AhAgBiABNgIYCyAGIAY2AgwgBiAGNgIIDAELIAEoAggiACAGNgIMIAEgBjYCCCAGQQA2AhggBiABNgIMIAYgADYCCAsgBEEIaiEADAELAkAgC0UNAAJAIAEoAhwiAkECdEG4CmoiACgCACABRgRAIAAgBDYCACAEDQFBjAggBkF+IAJ3cTYCAAwCCyALQRBBFCALKAIQIAFGG2ogBDYCACAERQ0BCyAEIAs2AhggASgCECIABEAgBCAANgIQIAAgBDYCGAsgASgCFCIARQ0AIAQgADYCFCAAIAQ2AhgLAkAgA0EPTQRAIAEgAyAIaiIAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIEDAELIAEgCEEDcjYCBCAJIANBAXI2AgQgAyAJaiADNgIAIAoEQCAKQQN2IgBBA3RBsAhqIQRBnAgoAgAhAgJ/QQEgAHQiACAFcUUEQEGICCAAIAVyNgIAIAQMAQsgBCgCCAshACAEIAI2AgggACACNgIMIAIgBDYCDCACIAA2AggLQZwIIAk2AgBBkAggAzYCAAsgAUEIaiEACyAMQRBqJAAgAAsQACMAIABrQXBxIgAkACAACwYAIAAkAAsEACMAC4AJAgh/BH4jAEGQAWsiBiQAIAYgBS0AA0EYdEGAgIAYcSAFLwAAIAUtAAJBEHRycjYCACAGIAUoAANBAnZBg/7/H3E2AgQgBiAFKAAGQQR2Qf+B/x9xNgIIIAYgBSgACUEGdkH//8AfcTYCDCAFLwANIQggBS0ADyEJIAZCADcCFCAGQgA3AhwgBkEANgIkIAYgCCAJQRB0QYCAPHFyNgIQIAYgBSgAEDYCKCAGIAUoABQ2AiwgBiAFKAAYNgIwIAUoABwhBSAGQQA6AEwgBkEANgI4IAYgBTYCNCAGIAEgAhAEIAQEQCAGIAMgBBAECyAGKAI4IgEEQCAGQTxqIgIgAWpBAToAACABQQFqQQ9NBEAgASAGakE9aiEEAkBBDyABayIDRQ0AIAMgBGoiAUEBa0EAOgAAIARBADoAACADQQNJDQAgAUECa0EAOgAAIARBADoAASABQQNrQQA6AAAgBEEAOgACIANBB0kNACABQQRrQQA6AAAgBEEAOgADIANBCUkNACAEQQAgBGtBA3EiAWoiBEEANgIAIAQgAyABa0F8cSIBaiIDQQRrQQA2AgAgAUEJSQ0AIARBADYCCCAEQQA2AgQgA0EIa0EANgIAIANBDGtBADYCACABQRlJDQAgBEEANgIYIARBADYCFCAEQQA2AhAgBEEANgIMIANBEGtBADYCACADQRRrQQA2AgAgA0EYa0EANgIAIANBHGtBADYCACABIARBBHFBGHIiAWsiA0EgSQ0AIAEgBGohAQNAIAFCADcDGCABQgA3AxAgAUIANwMIIAFCADcDACABQSBqIQEgA0EgayIDQR9LDQALCwsgBkEBOgBMIAYgAkEQEAILIAY1AjQhECAGNQIwIREgBjUCLCEOIAAgBjUCKCAGKAIkIAYoAiAgBigCHCAGKAIYIgNBGnZqIgJBGnZqIgFBGnZqIgtBgICAYHIgAUH///8fcSINIAJB////H3EiCCAGKAIUIAtBGnZBBWxqIgFB////H3EiCUEFaiIFQRp2IANB////H3EgAUEadmoiA2oiAUEadmoiAkEadmoiBEEadmoiDEEfdSIHIANxIAEgDEEfdkEBayIDQf///x9xIgpxciIBQRp0IAUgCnEgByAJcXJyrXwiDzwAACAAIA9CGIg8AAMgACAPQhCIPAACIAAgD0IIiDwAASAAIA4gByAIcSACIApxciICQRR0IAFBBnZyrXwgD0IgiHwiDjwABCAAIA5CGIg8AAcgACAOQhCIPAAGIAAgDkIIiDwABSAAIBEgByANcSAEIApxciIBQQ50IAJBDHZyrXwgDkIgiHwiDjwACCAAIA5CGIg8AAsgACAOQhCIPAAKIAAgDkIIiDwACSAAIBAgAyAMcSAHIAtxckEIdCABQRJ2cq18IA5CIIh8Ig48AAwgACAOQhiIPAAPIAAgDkIQiDwADiAAIA5CCIg8AA0gBkIANwIwIAZCADcCKCAGQgA3AiAgBkIANwIYIAZCADcCECAGQgA3AgggBkIANwIAIAZBkAFqJAALpwwBB38CQCAARQ0AIABBCGsiAyAAQQRrKAIAIgFBeHEiAGohBQJAIAFBAXENACABQQNxRQ0BIAMgAygCACIBayIDQZgIKAIASQ0BIAAgAWohACADQZwIKAIARwRAIAFB/wFNBEAgAygCCCICIAFBA3YiBEEDdEGwCGpGGiACIAMoAgwiAUYEQEGICEGICCgCAEF+IAR3cTYCAAwDCyACIAE2AgwgASACNgIIDAILIAMoAhghBgJAIAMgAygCDCIBRwRAIAMoAggiAiABNgIMIAEgAjYCCAwBCwJAIANBFGoiAigCACIEDQAgA0EQaiICKAIAIgQNAEEAIQEMAQsDQCACIQcgBCIBQRRqIgIoAgAiBA0AIAFBEGohAiABKAIQIgQNAAsgB0EANgIACyAGRQ0BAkAgAyADKAIcIgJBAnRBuApqIgQoAgBGBEAgBCABNgIAIAENAUGMCEGMCCgCAEF+IAJ3cTYCAAwDCyAGQRBBFCAGKAIQIANGG2ogATYCACABRQ0CCyABIAY2AhggAygCECICBEAgASACNgIQIAIgATYCGAsgAygCFCICRQ0BIAEgAjYCFCACIAE2AhgMAQsgBSgCBCIBQQNxQQNHDQBBkAggADYCACAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAA8LIAMgBU8NACAFKAIEIgFBAXFFDQACQCABQQJxRQRAIAVBoAgoAgBGBEBBoAggAzYCAEGUCEGUCCgCACAAaiIANgIAIAMgAEEBcjYCBCADQZwIKAIARw0DQZAIQQA2AgBBnAhBADYCAA8LIAVBnAgoAgBGBEBBnAggAzYCAEGQCEGQCCgCACAAaiIANgIAIAMgAEEBcjYCBCAAIANqIAA2AgAPCyABQXhxIABqIQACQCABQf8BTQRAIAUoAggiAiABQQN2IgRBA3RBsAhqRhogAiAFKAIMIgFGBEBBiAhBiAgoAgBBfiAEd3E2AgAMAgsgAiABNgIMIAEgAjYCCAwBCyAFKAIYIQYCQCAFIAUoAgwiAUcEQCAFKAIIIgJBmAgoAgBJGiACIAE2AgwgASACNgIIDAELAkAgBUEUaiICKAIAIgQNACAFQRBqIgIoAgAiBA0AQQAhAQwBCwNAIAIhByAEIgFBFGoiAigCACIEDQAgAUEQaiECIAEoAhAiBA0ACyAHQQA2AgALIAZFDQACQCAFIAUoAhwiAkECdEG4CmoiBCgCAEYEQCAEIAE2AgAgAQ0BQYwIQYwIKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiABNgIAIAFFDQELIAEgBjYCGCAFKAIQIgIEQCABIAI2AhAgAiABNgIYCyAFKAIUIgJFDQAgASACNgIUIAIgATYCGAsgAyAAQQFyNgIEIAAgA2ogADYCACADQZwIKAIARw0BQZAIIAA2AgAPCyAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAAsgAEH/AU0EQCAAQQN2IgFBA3RBsAhqIQACf0GICCgCACICQQEgAXQiAXFFBEBBiAggASACcjYCACAADAELIAAoAggLIQIgACADNgIIIAIgAzYCDCADIAA2AgwgAyACNgIIDwtBHyECIANCADcCECAAQf///wdNBEAgAEEIdiIBIAFBgP4/akEQdkEIcSIBdCICIAJBgOAfakEQdkEEcSICdCIEIARBgIAPakEQdkECcSIEdEEPdiABIAJyIARyayIBQQF0IAAgAUEVanZBAXFyQRxqIQILIAMgAjYCHCACQQJ0QbgKaiEBAkACQAJAQYwIKAIAIgRBASACdCIHcUUEQEGMCCAEIAdyNgIAIAEgAzYCACADIAE2AhgMAQsgAEEAQRkgAkEBdmsgAkEfRht0IQIgASgCACEBA0AgASIEKAIEQXhxIABGDQIgAkEddiEBIAJBAXQhAiAEIAFBBHFqIgdBEGooAgAiAQ0ACyAHIAM2AhAgAyAENgIYCyADIAM2AgwgAyADNgIIDAELIAQoAggiACADNgIMIAQgAzYCCCADQQA2AhggAyAENgIMIAMgADYCCAtBqAhBqAgoAgBBAWsiAEF/IAAbNgIACwsLCQEAQYEICwIGUA==").startsWith(H)){var Q=x;x=t.locateFile?t.locateFile(Q,_):_+Q}function F(){var e=x;try{if(e==x&&E)return new Uint8Array(E);var t=G(e);if(t)return t;if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){P(e)}}function M(e){for(;0<e.length;){var r=e.shift();if("function"==typeof r)r(t);else{var n=r.m;"number"==typeof n?void 0===r.l?C.get(n)():C.get(n)(r.l):n(void 0===r.l?null:r.l)}}}var K=!1,W="function"==typeof atob?atob:function(e){var t="",r=0;e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++));n=n<<2|i>>4,i=(15&i)<<4|o>>2;var a=(3&o)<<6|s;t+=String.fromCharCode(n),64!==o&&(t+=String.fromCharCode(i)),64!==s&&(t+=String.fromCharCode(a))}while(r<e.length);return t};function G(e){if(e.startsWith(H)){if(e=e.slice(H.length),"boolean"==typeof g&&g){var t=Buffer.from(e,"base64");t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}else try{var r=W(e),n=new Uint8Array(r.length);for(e=0;e<r.length;++e)n[e]=r.charCodeAt(e);t=n}catch(e){throw Error("Converting base64 string to bytes failed.")}return t}}var q={a:function(e){var t=S.length;if(2147483648<(e>>>=0))return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296),0<(n=Math.max(e,n))%65536&&(n+=65536-n%65536);e:{try{y.grow(Math.min(2147483648,n)-b.byteLength+65535>>>16),k();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1}};!function(){function e(e){t.asm=e.exports,y=t.asm.b,k(),C=t.asm.j,N.unshift(t.asm.c),O--,t.monitorRunDependencies&&t.monitorRunDependencies(O),0==O&&(null!==L&&(clearInterval(L),L=null),D&&(e=D,D=null,e()))}function r(t){e(t.instance)}function n(e){return function(){if(!E&&(d||p)){if("function"==typeof fetch&&!x.startsWith("file://"))return fetch(x,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+x+"'";return e.arrayBuffer()}).catch(function(){return F()});if(u)return new Promise(function(e,t){u(x,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return F()})}().then(function(e){return WebAssembly.instantiate(e,i)}).then(e,function(e){A("failed to asynchronously prepare wasm: "+e),P(e)})}var i={a:q};if(O++,t.monitorRunDependencies&&t.monitorRunDependencies(O),t.instantiateWasm)try{return t.instantiateWasm(i,e)}catch(e){return A("Module.instantiateWasm callback failed with error: "+e),!1}(E||"function"!=typeof WebAssembly.instantiateStreaming||x.startsWith(H)||x.startsWith("file://")||"function"!=typeof fetch?n(r):fetch(x,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,i).then(r,function(e){return A("wasm streaming compile failed: "+e),A("falling back to ArrayBuffer instantiation"),n(r)})})).catch(o)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.c).apply(null,arguments)},t._poly1305_auth=function(){return(t._poly1305_auth=t.asm.d).apply(null,arguments)};var j,$=t.stackSave=function(){return($=t.stackSave=t.asm.e).apply(null,arguments)},Y=t.stackRestore=function(){return(Y=t.stackRestore=t.asm.f).apply(null,arguments)},X=t.stackAlloc=function(){return(X=t.stackAlloc=t.asm.g).apply(null,arguments)};function z(){function e(){if(!j&&(j=!0,t.calledRun=!0,!m)){if(M(N),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();U.unshift(e)}M(U)}}if(!(0<O)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)T();M(R),0<O||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e())}}if(t._malloc=function(){return(t._malloc=t.asm.h).apply(null,arguments)},t._free=function(){return(t._free=t.asm.i).apply(null,arguments)},t.cwrap=function(e,t,r,n){var i=(r=r||[]).every(function(e){return"number"===e});return"string"!==t&&i&&!n?v(e):function(){return function(e,t,r,n){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2),n=t=X(r),i=S;if(0<r){r=n+r-1;for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),127>=s){if(n>=r)break;i[n++]=s}else{if(2047>=s){if(n+1>=r)break;i[n++]=192|s>>6}else{if(65535>=s){if(n+2>=r)break;i[n++]=224|s>>12}else{if(n+3>=r)break;i[n++]=240|s>>18,i[n++]=128|s>>12&63}i[n++]=128|s>>6&63}i[n++]=128|63&s}}i[n]=0}}return t},array:function(e){var t=X(e.length);return I.set(e,t),t}},o=v(e),s=[];if(e=0,n)for(var a=0;a<n.length;a++){var c=i[r[a]];c?(0===e&&(e=$()),s[a]=c(n[a])):s[a]=n[a]}return r=function(e){if("string"===t)if(e){for(var r=S,n=e+NaN,i=e;r[i]&&!(i>=n);)++i;if(16<i-e&&r.subarray&&B)e=B.decode(r.subarray(e,i));else{for(n="";e<i;){var o=r[e++];if(128&o){var s=63&r[e++];if(192==(224&o))n+=String.fromCharCode((31&o)<<6|s);else{var a=63&r[e++];65536>(o=224==(240&o)?(15&o)<<12|s<<6|a:(7&o)<<18|s<<12|a<<6|63&r[e++])?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else n+=String.fromCharCode(o)}e=n}}else e="";else e="boolean"===t?!!e:e;return e}(r=o.apply(null,s)),0!==e&&Y(e),r}(e,t,r,arguments)}},D=function e(){j||z(),j||(D=e)},t.run=z,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return z(),e.ready});e.exports=i},5692:e=>{"use strict";e.exports=require("https")},5700:(e,t,r)=>{"use strict";const n=r(4434),i=r(9896),{constants:o}=i,{Readable:s,Writable:a}=r(2203),{inherits:c,types:{isDate:u}}=r(9023),h=Buffer[Symbol.species],{bufferCopy:f,bufferSlice:l,makeBufferParser:d,writeUInt32BE:p}=r(2024),g=Buffer.alloc(28),_={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8},E=new Map(Object.values(_).map(e=>[e,1])),A={[_.OK]:"No error",[_.EOF]:"End of file",[_.NO_SUCH_FILE]:"No such file or directory",[_.PERMISSION_DENIED]:"Permission denied",[_.FAILURE]:"Failure",[_.BAD_MESSAGE]:"Bad message",[_.NO_CONNECTION]:"No connection",[_.CONNECTION_LOST]:"Connection lost",[_.OP_UNSUPPORTED]:"Operation unsupported"},y=1,m=3,w=4,v=5,b=6,I=7,S=8,B=9,k=10,C=11,R=12,N=13,U=14,T=15,O=16,L=17,D=18,P=19,x=20,H=200,Q=2,F=101,M=102,K=103,W=104,G=105,q=201,j={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32},$=2**32-1,Y=Buffer.from([0,0,0,5,1,0,0,0,3]),X=Buffer.from([0,0,0,5,2,0,0,0,3]),z=/^SSH-2.0-(?:OpenSSH|dropbear)/,V=262144,J=d(),Z={readable:!1,writable:!1,push:e=>{},once:()=>{},on:()=>{},emit:()=>{},end:()=>{}};function ee(){}function te(e,t,r,n,i,o,s,a){const c=e._maxReadLen,u=Math.max(i-c,0);u&&(i=c);const h=t.length;let f=9,d=o;const g=Buffer.allocUnsafe(13+h+8+4);p(g,g.length-4,0),g[4]=5;const E=e._writeReqid=e._writeReqid+1&$;p(g,E,5),p(g,h,f),g.set(t,f+=4),f+=h;for(let e=7;e>=0;--e)g[f+e]=255&d,d/=256;p(g,i,f+=8),"function"!=typeof s&&(s=ee);const A=a||{nb:0,position:o,off:n,origOff:n,len:void 0,overflow:void 0,cb:(n,i,o)=>{const a=A.len,c=A.overflow;if(n){if(s._wantEOFError||n.code!==_.EOF)return s(n)}else{if(o>a)return s(new Error("Received more data than requested"));if(o===a&&c)return A.nb+=o,A.position+=o,A.off+=o,void te(e,t,r,A.off,c,A.position,s,A)}o=o||0,i=0===A.origOff&&r.length===A.nb?r:l(r,A.origOff,A.origOff+A.nb+o),s(void 0,A.nb+o,i,A.position)},buffer:void 0};A.len=i,A.overflow=u,A.buffer=l(r,n,n+i),e._requests[E]=A;const y=le(e,g);e._debug&&e._debug(`SFTP: Outbound: ${y?"Buffered":"Sending"} READ`)}function re(e,t,r,n,o,s){let a,c,u,h,f=64,l=32768;"function"==typeof o?s=o:"object"==typeof o&&null!==o&&("number"==typeof o.concurrency&&o.concurrency>0&&!isNaN(o.concurrency)&&(f=o.concurrency),"number"==typeof o.chunkSize&&o.chunkSize>0&&!isNaN(o.chunkSize)&&(l=o.chunkSize),"number"==typeof o.fileSize&&o.fileSize>0&&!isNaN(o.fileSize)&&(u=o.fileSize),"function"==typeof o.step&&(a=o.step),"string"!=typeof o.mode&&"number"!=typeof o.mode||(c=ae(o.mode)));let d,p,g,_=0,E=0,A=!1,y=l*f;function m(r){if(A)return;A=!0;let n,o=0;d||p?(n=()=>{0===--o&&s(r)},!d||e!==i&&"open"!==e.outgoing.state||++o,!p||t!==i&&"open"!==t.outgoing.state||++o,!d||e!==i&&"open"!==e.outgoing.state||e.close(d,n),!p||t!==i&&"open"!==t.outgoing.state||t.close(p,n)):s(r)}e.open(r,"r",(o,A)=>{if(o)return m(o);function w(o,u){if(o)return e!==i?void e.stat(r,(e,t)=>{if(e)return m(o);w(null,t)}):m(o);h=u.size,t.open(n,"w",(r,i)=>{if(r)return m(r);if(p=i,h<=0)return m();for(;y>h;){if(1===f){y=h;break}y-=l,--f}if(g=function(e){try{return Buffer.allocUnsafe(e)}catch(e){return e}}(y),g instanceof Error)return m(g);function o(r,n,i,o,c,f){if(r)return m(r);c=c||0,t.write(p,g,c,n,o,function(r){if(r)return m(r);if(E+=n,a&&a(E,n,h),n<f)return u(c,o+n,f-n);if(E===h)return void t.close(p,t=>{if(p=void 0,t)return m(t);e.close(d,e=>{if(d=void 0,e)return m(e);s()})});if(_>=h)return;const i=_+l>h?h-_:l;u(c,_,i),_+=i})}function u(t,r,n){e.read(d,g,t,n,r,function(e,t,r){return(n,i,s)=>{o(n,i,0,t,e,r)}}(t,r,n))}function A(){let e=0,t=0;for(;_<h&&e<f;){const r=_+l>h?h-_:l;u(t,_,r),t+=r,_+=r,++e}}void 0!==c?t.fchmod(p,c,function e(r){r?t.chmod(n,c,t=>e()):A()}):A()})}d=A,void 0===u?e.fstat(d,w):w(null,{size:u})})}function ne(e,t,r,n,i,o,s){const a="function"==typeof s?s:void 0;e.write(t,r,n,i,o,(s,c)=>{if(s)return e.close(t,()=>{a&&a(s)});c===i?e.close(t,a):ne(e,t,r,n+=c,i-=c,o+=c,a)})}class ie{constructor(e){this.mode=e&&e.mode,this.uid=e&&e.uid,this.gid=e&&e.gid,this.size=e&&e.size,this.atime=e&&e.atime,this.mtime=e&&e.mtime,this.extended=e&&e.extended}isDirectory(){return(this.mode&o.S_IFMT)===o.S_IFDIR}isFile(){return(this.mode&o.S_IFMT)===o.S_IFREG}isBlockDevice(){return(this.mode&o.S_IFMT)===o.S_IFBLK}isCharacterDevice(){return(this.mode&o.S_IFMT)===o.S_IFCHR}isSymbolicLink(){return(this.mode&o.S_IFMT)===o.S_IFLNK}isFIFO(){return(this.mode&o.S_IFMT)===o.S_IFIFO}isSocket(){return(this.mode&o.S_IFMT)===o.S_IFSOCK}}function oe(e){let t=0,r=0;if("object"==typeof e&&null!==e){if("number"==typeof e.size){t|=1;const n=e.size;g[r++]=n/72057594037927940,g[r++]=n/281474976710656,g[r++]=n/1099511627776,g[r++]=n/4294967296,g[r++]=n/16777216,g[r++]=n/65536,g[r++]=n/256,g[r++]=n}if("number"==typeof e.uid&&"number"==typeof e.gid){t|=2;const n=e.uid,i=e.gid;g[r++]=n>>>24,g[r++]=n>>>16,g[r++]=n>>>8,g[r++]=n,g[r++]=i>>>24,g[r++]=i>>>16,g[r++]=i>>>8,g[r++]=i}if("number"==typeof e.mode||"string"==typeof e.mode){const n=ae(e.mode);t|=4,g[r++]=n>>>24,g[r++]=n>>>16,g[r++]=n>>>8,g[r++]=n}if(("number"==typeof e.atime||u(e.atime))&&("number"==typeof e.mtime||u(e.mtime))){const n=se(e.atime),i=se(e.mtime);t|=8,g[r++]=n>>>24,g[r++]=n>>>16,g[r++]=n>>>8,g[r++]=n,g[r++]=i>>>24,g[r++]=i>>>16,g[r++]=i>>>8,g[r++]=i}}return{flags:t,nb:r}}function se(e){if("number"==typeof e&&e==e)return e;if(u(e))return parseInt(e.getTime()/1e3,10);throw new Error(`Cannot parse time: ${e}`)}function ae(e){if("number"==typeof e&&e==e)return e;if("string"==typeof e)return ae(parseInt(e,8));throw new Error(`Cannot parse mode: ${e}`)}const ce={r:j.READ,"r+":j.READ|j.WRITE,w:j.TRUNC|j.CREAT|j.WRITE,wx:j.TRUNC|j.CREAT|j.WRITE|j.EXCL,xw:j.TRUNC|j.CREAT|j.WRITE|j.EXCL,"w+":j.TRUNC|j.CREAT|j.READ|j.WRITE,"wx+":j.TRUNC|j.CREAT|j.READ|j.WRITE|j.EXCL,"xw+":j.TRUNC|j.CREAT|j.READ|j.WRITE|j.EXCL,a:j.APPEND|j.CREAT|j.WRITE,ax:j.APPEND|j.CREAT|j.WRITE|j.EXCL,xa:j.APPEND|j.CREAT|j.WRITE|j.EXCL,"a+":j.APPEND|j.CREAT|j.READ|j.WRITE,"ax+":j.APPEND|j.CREAT|j.READ|j.WRITE|j.EXCL,"xa+":j.APPEND|j.CREAT|j.READ|j.WRITE|j.EXCL};function ue(e){const t=ce[e];return void 0!==t?t:null}const he=(()=>{const e=Object.keys(ce);return t=>{for(let r=0;r<e.length;++r){const n=e[r];if(ce[n]===t)return n}return null}})();function fe(e){const t=J.readUInt32BE();if(void 0===t)return;const r=new ie;if(1&t){const t=J.readUInt64BE(e);if(void 0===t)return;r.size=t}if(2&t){const e=J.readUInt32BE(),t=J.readUInt32BE();if(void 0===t)return;r.uid=e,r.gid=t}if(4&t){const e=J.readUInt32BE();if(void 0===e)return;r.mode=e}if(8&t){const e=J.readUInt32BE(),t=J.readUInt32BE();if(void 0===t)return;r.atime=e,r.mtime=t}if(2147483648&t){const e=J.readUInt32BE();if(void 0===e)return;const t={};for(let r=0;r<e;++r){const e=J.readString(!0),r=J.readString();if(void 0===r)return;t[e]=r}r.extended=t}return r}function le(e,t){const r=de(e,t);return void 0===r||(e._buffer.push(r),!1)}function de(e,t){const r=e.outgoing;if("open"!==r.state)return;if(0===r.window)return e._waitWindow=!0,e._chunkcb=pe,t;let n;const i=t.length;let o=0;for(;i-o>0&&r.window>0;){const n=Math.min(i-o,r.window,r.packetSize);r.window-=n,0===r.window&&(e._waitWindow=!0,e._chunkcb=pe),0===o&&n===i?e._protocol.channelData(e.outgoing.id,t):e._protocol.channelData(e.outgoing.id,l(t,o,o+n)),o+=n}return i-o>0&&(n=o>0?l(t,o,i):t),n}function pe(){this._chunkcb=void 0;const e=this._buffer;let t=0;for(;t<e.length;){const r=e[t],n=de(this,r);if(void 0!==n)return n!==r&&(e[t]=n),void(t>0&&(this._buffer=e.slice(t)));++t}t>0&&(this._buffer=[])}function ge(e,t,r){const n=new Error(t);return n.level="sftp-protocol",!r&&e._debug&&e._debug(`SFTP: Inbound: ${t}`),e.emit("error",n),e.destroy(),_e(e),!1}function _e(e){const t=Object.keys(e._requests);if(0===t.length)return;const r=e._requests;e._requests={};const n=new Error("No response from server");for(let e=0;e<t.length;++e){const i=r[t[e]];"function"==typeof i.cb&&i.cb(n)}}const Ee={[Q]:(e,t)=>{if(-1!==e._version)return ge(e,"Duplicate VERSION packet");const r={};J.init(t,1);let n=J.readUInt32BE();for(;J.avail();){const e=J.readString(!0),t=J.readString(!0);if(void 0===t){n=void 0;break}r[e]=t}if(J.clear(),void 0===n)return ge(e,"Malformed VERSION packet");if(e._debug){const t=Object.keys(r);t.length?e._debug(`SFTP: Inbound: Received VERSION (v${n}, exts:${t})`):e._debug(`SFTP: Inbound: Received VERSION (v${n})`)}if(e._version=n,e._extensions=r,"1"===r["limits@openssh.com"])return function(e,t){let r=9;const n=Buffer.allocUnsafe(31);p(n,n.length-4,0),n[4]=H;const i=e._writeReqid=e._writeReqid+1&$;p(n,i,5),p(n,18,r),n.utf8Write("limits@openssh.com",r+=4,18),e._requests[i]={extended:"limits@openssh.com",cb:t};const o=le(e,n);if(e._debug){const t=o?"Buffered":"Sending";e._debug(`SFTP: Outbound: ${t} limits@openssh.com`)}}(e,(t,r)=>{t||(r.maxPktLen>0&&(e._maxOutPktLen=r.maxPktLen),r.maxReadLen>0&&(e._maxReadLen=r.maxReadLen),r.maxWriteLen>0&&(e._maxWriteLen=r.maxWriteLen),e.maxOpenHandles=r.maxOpenHandles>0?r.maxOpenHandles:1/0),e.emit("ready")});e.emit("ready")},[F]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readUInt32BE(),i=J.readString(!0);if(J.clear(),e._debug){const t=JSON.stringify(i);e._debug(`SFTP: Inbound: Received STATUS (id:${r}, ${n}, ${t})`)}const o=e._requests[r];if(delete e._requests[r],o&&"function"==typeof o.cb){if(n===_.OK)return void o.cb();const e=new Error(i||A[n]||"Unknown status");e.code=n,o.cb(e)}},[M]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString();if(J.clear(),void 0===n)return void 0!==r&&delete e._requests[r],ge(e,"Malformed HANDLE packet");e._debug&&e._debug(`SFTP: Inbound: Received HANDLE (id:${r})`);const i=e._requests[r];delete e._requests[r],i&&"function"==typeof i.cb&&i.cb(void 0,n)},[K]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE();let n;if(void 0!==r&&(n=e._requests[r],delete e._requests[r]),n&&"function"==typeof n.cb)if(n.buffer){const t=J.readString(n.buffer);if(J.clear(),void 0!==t)return e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${r}, ${t})`),void n.cb(void 0,n.buffer,t)}else{const t=J.readString();if(J.clear(),void 0!==t)return e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${r}, ${t.length})`),void n.cb(void 0,t)}else{const t=J.skipString();if(J.clear(),void 0!==t)return void(e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${r}, ${t})`))}return ge(e,"Malformed DATA packet")},[W]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE();let n;void 0!==r&&(n=e._requests[r],delete e._requests[r]);const i=J.readUInt32BE();if(void 0!==i){let t=[];for(let r=0;r<i;++r){const r=J.readString(!0),n=J.readString(!0),i=fe(e._biOpt);if(void 0===i){t=void 0;break}t.push({filename:r,longname:n,attrs:i})}if(void 0!==t)return e._debug&&e._debug(`SFTP: Inbound: Received NAME (id:${r}, ${t.length})`),J.clear(),void(n&&"function"==typeof n.cb&&n.cb(void 0,t))}return J.clear(),ge(e,"Malformed NAME packet")},[G]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE();let n;void 0!==r&&(n=e._requests[r],delete e._requests[r]);const i=fe(e._biOpt);return J.clear(),void 0!==i?(e._debug&&e._debug(`SFTP: Inbound: Received ATTRS (id:${r})`),void(n&&"function"==typeof n.cb&&n.cb(void 0,i))):ge(e,"Malformed ATTRS packet")},[q]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE();if(void 0!==r){const t=e._requests[r];if(!t)return e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${r}, ???)`),void J.clear();switch(delete e._requests[r],t.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":{const n=e._biOpt,i={f_bsize:J.readUInt64BE(n),f_frsize:J.readUInt64BE(n),f_blocks:J.readUInt64BE(n),f_bfree:J.readUInt64BE(n),f_bavail:J.readUInt64BE(n),f_files:J.readUInt64BE(n),f_ffree:J.readUInt64BE(n),f_favail:J.readUInt64BE(n),f_sid:J.readUInt64BE(n),f_flag:J.readUInt64BE(n),f_namemax:J.readUInt64BE(n)};if(void 0===i.f_namemax)break;return e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${r}, ${t.extended})`),J.clear(),void("function"==typeof t.cb&&t.cb(void 0,i))}case"limits@openssh.com":{const n={maxPktLen:J.readUInt64BE(),maxReadLen:J.readUInt64BE(),maxWriteLen:J.readUInt64BE(),maxOpenHandles:J.readUInt64BE()};if(void 0===n.maxOpenHandles)break;return e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${r}, ${t.extended})`),J.clear(),void("function"==typeof t.cb&&t.cb(void 0,n))}case"users-groups-by-id@openssh.com":{const n=J.readUInt32BE();if(void 0===n)break;const i=new Array(n);for(let e=0;e<i.length;++e)i[e]=J.readString(!0);const o=J.readUInt32BE();if(void 0===o)break;const s=new Array(o);for(let e=0;e<s.length;++e)s[e]=J.readString(!0);if(s.length>0&&void 0===s[s.length-1])break;return e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${r}, ${t.extended})`),J.clear(),void("function"==typeof t.cb&&t.cb(void 0,i,s))}default:return e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${r}, ???)`),J.clear(),void("function"==typeof t.cb&&t.cb())}}return J.clear(),ge(e,"Malformed EXTENDED_REPLY packet")}},Ae={[y]:(e,t)=>{if(-1!==e._version)return ge(e,"Duplicate INIT packet");const r={};J.init(t,1);let n=J.readUInt32BE();for(;J.avail();){const e=J.readString(!0),t=J.readString(!0);if(void 0===t){n=void 0;break}r[e]=t}if(J.clear(),void 0===n)return ge(e,"Malformed INIT packet");if(e._debug){const t=Object.keys(r);t.length?e._debug(`SFTP: Inbound: Received INIT (v${n}, exts:${t})`):e._debug(`SFTP: Inbound: Received INIT (v${n})`)}le(e,X),e._version=n,e._extensions=r,e.emit("ready")},[m]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0),i=J.readUInt32BE(),o=fe(e._biOpt);if(J.clear(),void 0===o)return ge(e,"Malformed OPEN packet");e._debug&&e._debug(`SFTP: Inbound: Received OPEN (id:${r})`),e.emit("OPEN",r,n,i,o)||e.status(r,_.OP_UNSUPPORTED)},[w]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString();if(J.clear(),void 0===n||n.length>256)return ge(e,"Malformed CLOSE packet");e._debug&&e._debug(`SFTP: Inbound: Received CLOSE (id:${r})`),e.emit("CLOSE",r,n)||e.status(r,_.OP_UNSUPPORTED)},[v]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(),i=J.readUInt64BE(e._biOpt),o=J.readUInt32BE();if(J.clear(),void 0===o||n.length>256)return ge(e,"Malformed READ packet");e._debug&&e._debug(`SFTP: Inbound: Received READ (id:${r})`),e.emit("READ",r,n,i,o)||e.status(r,_.OP_UNSUPPORTED)},[b]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(),i=J.readUInt64BE(e._biOpt),o=J.readString();if(J.clear(),void 0===o||n.length>256)return ge(e,"Malformed WRITE packet");e._debug&&e._debug(`SFTP: Inbound: Received WRITE (id:${r})`),e.emit("WRITE",r,n,i,o)||e.status(r,_.OP_UNSUPPORTED)},[I]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0);if(J.clear(),void 0===n)return ge(e,"Malformed LSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received LSTAT (id:${r})`),e.emit("LSTAT",r,n)||e.status(r,_.OP_UNSUPPORTED)},[S]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString();if(J.clear(),void 0===n||n.length>256)return ge(e,"Malformed FSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received FSTAT (id:${r})`),e.emit("FSTAT",r,n)||e.status(r,_.OP_UNSUPPORTED)},[B]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0),i=fe(e._biOpt);if(J.clear(),void 0===i)return ge(e,"Malformed SETSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received SETSTAT (id:${r})`),e.emit("SETSTAT",r,n,i)||e.status(r,_.OP_UNSUPPORTED)},[k]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(),i=fe(e._biOpt);if(J.clear(),void 0===i||n.length>256)return ge(e,"Malformed FSETSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received FSETSTAT (id:${r})`),e.emit("FSETSTAT",r,n,i)||e.status(r,_.OP_UNSUPPORTED)},[C]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0);if(J.clear(),void 0===n)return ge(e,"Malformed OPENDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received OPENDIR (id:${r})`),e.emit("OPENDIR",r,n)||e.status(r,_.OP_UNSUPPORTED)},[R]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString();if(J.clear(),void 0===n||n.length>256)return ge(e,"Malformed READDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received READDIR (id:${r})`),e.emit("READDIR",r,n)||e.status(r,_.OP_UNSUPPORTED)},[N]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0);if(J.clear(),void 0===n)return ge(e,"Malformed REMOVE packet");e._debug&&e._debug(`SFTP: Inbound: Received REMOVE (id:${r})`),e.emit("REMOVE",r,n)||e.status(r,_.OP_UNSUPPORTED)},[U]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0),i=fe(e._biOpt);if(J.clear(),void 0===i)return ge(e,"Malformed MKDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received MKDIR (id:${r})`),e.emit("MKDIR",r,n,i)||e.status(r,_.OP_UNSUPPORTED)},[T]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0);if(J.clear(),void 0===n)return ge(e,"Malformed RMDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received RMDIR (id:${r})`),e.emit("RMDIR",r,n)||e.status(r,_.OP_UNSUPPORTED)},[O]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0);if(J.clear(),void 0===n)return ge(e,"Malformed REALPATH packet");e._debug&&e._debug(`SFTP: Inbound: Received REALPATH (id:${r})`),e.emit("REALPATH",r,n)||e.status(r,_.OP_UNSUPPORTED)},[L]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0);if(J.clear(),void 0===n)return ge(e,"Malformed STAT packet");e._debug&&e._debug(`SFTP: Inbound: Received STAT (id:${r})`),e.emit("STAT",r,n)||e.status(r,_.OP_UNSUPPORTED)},[D]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0),i=J.readString(!0);if(J.clear(),void 0===i)return ge(e,"Malformed RENAME packet");e._debug&&e._debug(`SFTP: Inbound: Received RENAME (id:${r})`),e.emit("RENAME",r,n,i)||e.status(r,_.OP_UNSUPPORTED)},[P]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0);if(J.clear(),void 0===n)return ge(e,"Malformed READLINK packet");e._debug&&e._debug(`SFTP: Inbound: Received READLINK (id:${r})`),e.emit("READLINK",r,n)||e.status(r,_.OP_UNSUPPORTED)},[x]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0),i=J.readString(!0);if(J.clear(),void 0===i)return ge(e,"Malformed SYMLINK packet");let o;e._debug&&e._debug(`SFTP: Inbound: Received SYMLINK (id:${r})`),o=e._isOpenSSH?e.emit("SYMLINK",r,i,n):e.emit("SYMLINK",r,n,i),o||e.status(r,_.OP_UNSUPPORTED)},[H]:(e,t)=>{J.init(t,1);const r=J.readUInt32BE(),n=J.readString(!0);if(void 0===n)return J.clear(),ge(e,"Malformed EXTENDED packet");let i;J.avail()&&(i=J.readRaw()),J.clear(),e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED (id:${r})`),e.emit("EXTENDED",r,n,i)||e.status(r,_.OP_UNSUPPORTED)}},{ERR_INVALID_ARG_TYPE:ye,ERR_OUT_OF_RANGE:me,validateNumber:we}=r(4440);let ve;const be=[];function Ie(e,t){if(!Number.isSafeInteger(e)){if(we(e,t),!Number.isInteger(e))throw new me(t,"an integer",e);throw new me(t,">= 0 and <= 2 ** 53 - 1",e)}if(e<0)throw new me(t,">= 0 and <= 2 ** 53 - 1",e)}function Se(e){return e+7&-8}function Be(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(void 0===r.highWaterMark&&(r.highWaterMark=65536),r.emitClose=!1,r.autoDestroy=!1,s.call(this,r),this.path=t,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesRead=0,this.isClosed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(Ie(this.start,"start"),this.pos=this.start),void 0===this.end)this.end=1/0;else if(this.end!==1/0&&(Ie(this.end,"end"),void 0!==this.start&&this.start>this.end))throw new me("start",`<= "end" (here: ${this.end})`,this.start);this.on("end",function(){this.autoClose&&this.destroy()}),Buffer.isBuffer(this.handle)||this.open()}function ke(e,t,r){if(!e.handle)return n();function n(n){t(n=n||r),e.isClosed=!0,n||e.emit("close")}e.sftp.close(e.handle,n)}function Ce(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}r.emitClose=!1,r.autoDestroy=!1,a.call(this,r),this.path=t,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesWritten=0,this.isClosed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(Ie(this.start,"start"),this.pos=this.start),r.encoding&&this.setDefaultEncoding(r.encoding),this.on("finish",function(){this._writableState.finalCalled||this.autoClose&&this.destroy()}),Buffer.isBuffer(this.handle)||this.open()}c(Be,s),Be.prototype.open=function(){this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(e,t)=>{if(this._opening=!1,e)return this.emit("error",e),void(this.autoClose&&this.destroy());this.handle=t,this.emit("open",t),this.emit("ready"),this.read()}))},Be.prototype._read=function(e){if(!Buffer.isBuffer(this.handle))return this.once("open",()=>this._read(e));if(this.destroyed)return;var t;(!ve||ve.length-ve.used<128)&&(t=this.readableHighWaterMark||this._readableState.highWaterMark,ve=be.length>0?be.pop():Buffer.allocUnsafe(t),ve.used=0);const r=ve;let n=Math.min(ve.length-ve.used,e);const i=ve.used;if(void 0!==this.end&&(n=Math.min(this.end-this.pos+1,n)),n<=0)return this.push(null);this.sftp.read(this.handle,ve,ve.used,n,this.pos,(e,t)=>{if(e)return this.emit("error",e),void(this.autoClose&&this.destroy());let o=null;if(i+n===r.used&&r===ve)r.used=Se(r.used+t-n);else{const e=i+n&-8,o=Se(i+t);e-o>=128&&be.push(r.slice(o,e))}t>0&&(this.bytesRead+=t,o=r.slice(i,i+t)),this.pos+=t,this.push(o)}),ve.used=Se(ve.used+n)},Be.prototype._destroy=function(e,t){!this._opening||Buffer.isBuffer(this.handle)?(ke(this,t,e),this.handle=null,this._opening=!1):this.once("open",ke.bind(null,this,t,e))},Be.prototype.close=function(e){this.destroy(null,e)},Object.defineProperty(Be.prototype,"pending",{get(){return null===this.handle},configurable:!0}),c(Ce,a),Ce.prototype._final=function(e){this.autoClose&&this.destroy(),e()},Ce.prototype.open=function(){this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(e,t)=>{if(this._opening=!1,e)return this.emit("error",e),void(this.autoClose&&this.destroy());this.handle=t;const r=e=>{if(e)this.sftp.chmod(this.path,this.mode,e=>r());else{if("a"===this.flags[0]){const e=(r,n)=>{r?this.sftp.stat(this.path,(t,n)=>{if(t)return this.destroy(),void this.emit("error",r);e(null,n)}):(this.pos=n.size,this.emit("open",t),this.emit("ready"))};return void this.sftp.fstat(t,e)}this.emit("open",t),this.emit("ready")}};this.sftp.fchmod(t,this.mode,r)}))},Ce.prototype._write=function(e,t,r){if(!Buffer.isBuffer(e)){const t=new ye("data","Buffer",e);return this.emit("error",t)}if(!Buffer.isBuffer(this.handle))return this.once("open",function(){this._write(e,t,r)});this.sftp.write(this.handle,e,0,e.length,this.pos,(e,t)=>{if(e)return this.autoClose&&this.destroy(),r(e);this.bytesWritten+=t,r()}),this.pos+=e.length},Ce.prototype._writev=function(e,t){if(!Buffer.isBuffer(this.handle))return this.once("open",function(){this._writev(e,t)});const r=this.sftp,n=this.handle;let i=e.length;const o=(e,r)=>{if(e)return this.destroy(),t(e);this.bytesWritten+=r,0===--i&&t()};for(let t=0;t<e.length;++t){const i=e[t].chunk;r.write(n,i,0,i.length,this.pos,o),this.pos+=i.length}},"function"!=typeof a.prototype.destroy&&(Ce.prototype.destroy=Be.prototype.destroy),Ce.prototype._destroy=Be.prototype._destroy,Ce.prototype.close=function(e){if(e){if(this.isClosed)return void process.nextTick(e);this.on("close",e)}this.autoClose||this.on("finish",this.destroy.bind(this)),this.end()},Ce.prototype.destroySoon=Ce.prototype.end,Object.defineProperty(Ce.prototype,"pending",{get(){return null===this.handle},configurable:!0}),e.exports={flagsToString:he,OPEN_MODE:j,SFTP:class extends n{constructor(e,t,r){super(),"object"==typeof r&&r||(r={});const n=e._protocol._remoteIdentRaw;this.server=!!r.server,this._debug="function"==typeof r.debug?r.debug:void 0,this._isOpenSSH=n&&z.test(n),this._version=-1,this._extensions={},this._biOpt=r.biOpt,this._pktLenBytes=0,this._pktLen=0,this._pktPos=0,this._pktType=0,this._pktData=void 0,this._writeReqid=-1,this._requests={},this._maxInPktLen=V,this._maxOutPktLen=34e3,this._maxReadLen=(this._isOpenSSH?V:34e3)-2048,this._maxWriteLen=(this._isOpenSSH?V:34e3)-2048,this.maxOpenHandles=void 0,this._client=e,this._protocol=e._protocol,this._callbacks=[],this._hasX11=!1,this._exit={code:void 0,signal:void 0,dump:void 0,desc:void 0},this._waitWindow=!1,this._chunkcb=void 0,this._buffer=[],this.type=t.type,this.subtype=void 0,this.incoming=t.incoming,this.outgoing=t.outgoing,this.stderr=Z,this.readable=!0}push(e){if(null===e){if(_e(this),!this.readable)return;return this.readable=!1,void this.emit("end")}let t=0;for(;t<e.length;){if(this._pktLenBytes<4){let r=Math.min(4-this._pktLenBytes,e.length-t);for(this._pktLenBytes+=r;r--;)this._pktLen=(this._pktLen<<8)+e[t++];if(this._pktLenBytes<4)return;if(0===this._pktLen)return ge(this,"Invalid packet length");if(this._pktLen>this._maxInPktLen){const e=this._maxInPktLen;return ge(this,`Packet length ${this._pktLen} exceeds max length of ${e}`)}if(t>=e.length)return}if(this._pktPos<this._pktLen){const r=Math.min(this._pktLen-this._pktPos,e.length-t);if(0!==t||r!==e.length?r===this._pktLen?this._pkt=new h(e.buffer,e.byteOffset+t,r):(this._pkt||(this._pkt=Buffer.allocUnsafe(this._pktLen)),this._pkt.set(new Uint8Array(e.buffer,e.byteOffset+t,r),this._pktPos)):r===this._pktLen?this._pkt=e:(this._pkt||(this._pkt=Buffer.allocUnsafe(this._pktLen)),this._pkt.set(e,this._pktPos)),t+=r,this._pktPos+=r,this._pktPos<this._pktLen)return}const r=this._pkt[0],n=this._pkt;this._pktLen=0,this._pktLenBytes=0,this._pkt=void 0,this._pktPos=0;const i=this.server?Ae[r]:Ee[r];if(!i)return ge(this,`Unknown packet type ${r}`);if(-1===this._version)if(this.server){if(1!==r)return ge(this,`Expected INIT packet, got ${r}`)}else if(2!==r)return ge(this,`Expected VERSION packet, got ${r}`);if(!1===i(this,n))return}}end(){this.destroy()}destroy(){"open"!==this.outgoing.state&&"eof"!==this.outgoing.state||(this.outgoing.state="closing",this._protocol.channelClose(this.outgoing.id))}_init(){this._init=ee,this.server||le(this,Y)}createReadStream(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new Be(this,e,t)}createWriteStream(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new Ce(this,e,t)}open(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");"function"==typeof r&&(n=r,r=void 0);const i="number"==typeof t?t:ue(t);if(null===i)throw new Error(`Unknown flags string: ${t}`);let o=0,s=0;"string"!=typeof r&&"number"!=typeof r||(r={mode:r}),"object"==typeof r&&null!==r&&(o=(r=oe(r)).flags,s=r.nb);const a=Buffer.byteLength(e);let c=9;const u=Buffer.allocUnsafe(13+a+4+4+s);p(u,u.length-4,0),u[4]=3;const h=this._writeReqid=this._writeReqid+1&$;p(u,h,5),p(u,a,c),u.utf8Write(e,c+=4,a),p(u,i,c+=a),p(u,o,c+=4),s&&(c+=4,s===g.length?u.set(g,c):f(g,u,0,s,c),c+=s),this._requests[h]={cb:n};const l=le(this,u);this._debug&&this._debug(`SFTP: Outbound: ${l?"Buffered":"Sending"} OPEN`)}close(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const r=e.length;let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=4;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.set(e,n+=4),this._requests[o]={cb:t};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} CLOSE`)}read(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>=t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");te(this,e,t,r,n,i,o)}readData(e,t,r,n,i,o){this.read(e,t,r,n,i,o)}write(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");if(!n)return void(o&&process.nextTick(o,void 0,0));const s=this._maxWriteLen,a=Math.max(n-s,0),c=i;a&&(n=s);const u=e.length;let h=9;const l=Buffer.allocUnsafe(13+u+8+4+n);p(l,l.length-4,0),l[4]=6;const d=this._writeReqid=this._writeReqid+1&$;p(l,d,5),p(l,u,h),l.set(e,h+=4),h+=u;for(let e=7;e>=0;--e)l[h+e]=255&i,i/=256;p(l,n,h+=8),f(t,l,r,r+n,h+=4),this._requests[d]={cb:i=>{i?"function"==typeof o&&o(i):a?this.write(e,t,r+n,a,c+n,o):"function"==typeof o&&o(void 0,r+n)}};const g=le(this,l);if(this._debug){const e=g?"Sent":"Buffered";this._debug(`SFTP: Outbound: ${e} WRITE (id:${d})`)}}writeData(e,t,r,n,i,o){this.write(e,t,r,n,i,o)}fastGet(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");re(this,i,e,t,r,n)}fastPut(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");re(i,this,e,t,r,n)}readFile(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");let n;if("function"==typeof r?n=r:"function"==typeof t&&(n=t,t=void 0),"string"==typeof t)t={encoding:t,flag:"r"};else if(t){if("object"!=typeof t)throw new TypeError("Bad arguments")}else t={encoding:null,flag:"r"};const i=t.encoding;if(i&&!Buffer.isEncoding(i))throw new Error(`Unknown encoding: ${i}`);let o,s,a,c,u=0,h=0;const f=t.flag||"r",d=()=>{0===o?(s=Buffer.allocUnsafe(8192),this.read(c,s,0,8192,h,p)):this.read(c,s,u,o-u,h,p)},p=(e,t)=>{let r;if(e){if(r=e.code===_.EOF,!r)return this.close(c,()=>n&&n(e))}else r=!1;if(r||0===o&&0===t)return g();h+=t,u+=t,0!==o?u===o?g():d():(a.push(l(s,0,t)),d())};p._wantEOFError=!0;const g=()=>{this.close(c,e=>(0===o?s=Buffer.concat(a,u):u<o&&(s=l(s,0,u)),i&&(s=s.toString(i)),n&&n(e,s)))};this.open(e,f,438,(t,r)=>{if(t)return n&&n(t);c=r;const i=(t,r)=>{if(t)this.stat(e,(e,r)=>{if(e)return this.close(c,()=>{n&&n(t)});i(null,r)});else{if(o=r.size||0,0===o)return a=[],d();s=Buffer.allocUnsafe(o),d()}};this.fstat(c,i)})}writeFile(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");let i;if("function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0),"string"==typeof r)r={encoding:r,mode:438,flag:"w"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"w"};if(r.encoding&&!Buffer.isEncoding(r.encoding))throw new Error(`Unknown encoding: ${r.encoding}`);const o=r.flag||"w";this.open(e,o,r.mode,(n,s)=>{if(n)i&&i(n);else{const n=Buffer.isBuffer(t)?t:Buffer.from(""+t,r.encoding||"utf8"),a=/a/.test(o)?null:0;if(null===a){const t=(r,o)=>{r?this.stat(e,(e,n)=>{if(e)return this.close(s,()=>{i&&i(r)});t(null,n)}):ne(this,s,n,0,n.length,o.size,i)};return void this.fstat(s,t)}ne(this,s,n,0,n.length,a,i)}})}appendFile(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");let i;if("function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0),"string"==typeof r)r={encoding:r,mode:438,flag:"a"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"a"};r.flag||(r=Object.assign({flag:"a"},r)),this.writeFile(e,t,r,i)}exists(e,t){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,e=>{t&&t(!e)})}unlink(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=13;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} REMOVE`)}rename(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e),i=Buffer.byteLength(t);let o=9;const s=Buffer.allocUnsafe(13+n+4+i);p(s,s.length-4,0),s[4]=18;const a=this._writeReqid=this._writeReqid+1&$;p(s,a,5),p(s,n,o),s.utf8Write(e,o+=4,n),p(s,i,o+=n),s.utf8Write(t,o+=4,i),this._requests[a]={cb:r};const c=le(this,s);this._debug&&this._debug(`SFTP: Outbound: ${c?"Buffered":"Sending"} RENAME`)}mkdir(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");let n=0,i=0;"function"==typeof t&&(r=t,t=void 0),"object"==typeof t&&null!==t&&(n=(t=oe(t)).flags,i=t.nb);const o=Buffer.byteLength(e);let s=9;const a=Buffer.allocUnsafe(13+o+4+i);p(a,a.length-4,0),a[4]=14;const c=this._writeReqid=this._writeReqid+1&$;p(a,c,5),p(a,o,s),a.utf8Write(e,s+=4,o),p(a,n,s+=o),i&&(s+=4,i===g.length?a.set(g,s):f(g,a,0,i,s),s+=i),this._requests[c]={cb:r};const u=le(this,a);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} MKDIR`)}rmdir(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=15;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} RMDIR`)}readdir(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");"function"==typeof t&&(r=t,t={}),"object"==typeof t&&null!==t||(t={});const n=!t||!t.full;if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new Error("missing directory handle or path");if("string"==typeof e){const n=[];let i=0;const o=(e,s)=>{if(e)return r(e);this.readdir(s,t,(e,t)=>{const a=e&&e.code===_.EOF;if(e&&!a)return this.close(s,()=>r(e));if(a)return this.close(s,e=>{if(e)return r(e);r(void 0,n)});for(let e=0;e<t.length;++e,++i)n[i]=t[e];o(void 0,s)})};return this.opendir(e,o)}const i=e.length;let o=9;const s=Buffer.allocUnsafe(13+i);p(s,s.length-4,0),s[4]=12;const a=this._writeReqid=this._writeReqid+1&$;p(s,a,5),p(s,i,o),s.set(e,o+=4),this._requests[a]={cb:n?(e,t)=>{if("function"==typeof r){if(e)return r(e);for(let e=t.length-1;e>=0;--e)"."!==t[e].filename&&".."!==t[e].filename||t.splice(e,1);r(void 0,t)}}:r};const c=le(this,s);this._debug&&this._debug(`SFTP: Outbound: ${c?"Buffered":"Sending"} READDIR`)}fstat(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const r=e.length;let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=8;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.set(e,n+=4),this._requests[o]={cb:t};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} FSTAT`)}stat(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=17;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} STAT`)}lstat(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=7;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} LSTAT`)}opendir(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=11;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} OPENDIR`)}setstat(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");let n=0,i=0;"object"==typeof t&&null!==t?(n=(t=oe(t)).flags,i=t.nb):"function"==typeof t&&(r=t);const o=Buffer.byteLength(e);let s=9;const a=Buffer.allocUnsafe(13+o+4+i);p(a,a.length-4,0),a[4]=9;const c=this._writeReqid=this._writeReqid+1&$;p(a,c,5),p(a,o,s),a.utf8Write(e,s+=4,o),p(a,n,s+=o),i&&(s+=4,i===g.length?a.set(g,s):f(g,a,0,i,s),s+=i),this._requests[c]={cb:r};const u=le(this,a);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} SETSTAT`)}fsetstat(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");let n=0,i=0;"object"==typeof t&&null!==t?(n=(t=oe(t)).flags,i=t.nb):"function"==typeof t&&(r=t);const o=e.length;let s=9;const a=Buffer.allocUnsafe(13+o+4+i);p(a,a.length-4,0),a[4]=10;const c=this._writeReqid=this._writeReqid+1&$;p(a,c,5),p(a,o,s),a.set(e,s+=4),p(a,n,s+=o),i&&(s+=4,i===g.length?a.set(g,s):f(g,a,0,i,s),s+=i),this._requests[c]={cb:r};const u=le(this,a);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} FSETSTAT`)}futimes(e,t,r,n){return this.fsetstat(e,{atime:se(t),mtime:se(r)},n)}utimes(e,t,r,n){return this.setstat(e,{atime:se(t),mtime:se(r)},n)}fchown(e,t,r,n){return this.fsetstat(e,{uid:t,gid:r},n)}chown(e,t,r,n){return this.setstat(e,{uid:t,gid:r},n)}fchmod(e,t,r){return this.fsetstat(e,{mode:t},r)}chmod(e,t,r){return this.setstat(e,{mode:t},r)}readlink(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=19;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:(e,r)=>{if("function"==typeof t)return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing link info"))}};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} READLINK`)}symlink(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(t),i=Buffer.byteLength(e);let o=9;const s=Buffer.allocUnsafe(13+n+4+i);p(s,s.length-4,0),s[4]=20;const a=this._writeReqid=this._writeReqid+1&$;p(s,a,5),this._isOpenSSH?(p(s,i,o),s.utf8Write(e,o+=4,i),p(s,n,o+=i),s.utf8Write(t,o+=4,n)):(p(s,n,o),s.utf8Write(t,o+=4,n),p(s,i,o+=n),s.utf8Write(e,o+=4,i)),this._requests[a]={cb:r};const c=le(this,s);this._debug&&this._debug(`SFTP: Outbound: ${c?"Buffered":"Sending"} SYMLINK`)}realpath(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=16;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:(e,r)=>{if("function"==typeof t)return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing path info"))}};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} REALPATH`)}ext_openssh_rename(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["posix-rename@openssh.com"];if(!n||"1"!==n)throw new Error("Server does not support this extended request");const i=Buffer.byteLength(e),o=Buffer.byteLength(t);let s=9;const a=Buffer.allocUnsafe(41+i+4+o);p(a,a.length-4,0),a[4]=H;const c=this._writeReqid=this._writeReqid+1&$;p(a,c,5),p(a,24,s),a.utf8Write("posix-rename@openssh.com",s+=4,24),p(a,i,s+=24),a.utf8Write(e,s+=4,i),p(a,o,s+=i),a.utf8Write(t,s+=4,o),this._requests[c]={cb:r};const u=le(this,a);if(this._debug){const e=u?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} posix-rename@openssh.com`)}}ext_openssh_statvfs(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=this._extensions["statvfs@openssh.com"];if(!r||"2"!==r)throw new Error("Server does not support this extended request");const n=Buffer.byteLength(e);let i=9;const o=Buffer.allocUnsafe(36+n);p(o,o.length-4,0),o[4]=H;const s=this._writeReqid=this._writeReqid+1&$;p(o,s,5),p(o,19,i),o.utf8Write("statvfs@openssh.com",i+=4,19),p(o,n,i+=19),o.utf8Write(e,i+=4,n),this._requests[s]={extended:"statvfs@openssh.com",cb:t};const a=le(this,o);if(this._debug){const e=a?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} statvfs@openssh.com`)}}ext_openssh_fstatvfs(e,t){if(this.server)throw new Error("Client-only method called in server mode");const r=this._extensions["fstatvfs@openssh.com"];if(!r||"2"!==r)throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const n=e.length;let i=9;const o=Buffer.allocUnsafe(37+n);p(o,o.length-4,0),o[4]=H;const s=this._writeReqid=this._writeReqid+1&$;p(o,s,5),p(o,20,i),o.utf8Write("fstatvfs@openssh.com",i+=4,20),p(o,n,i+=20),o.set(e,i+=4),this._requests[s]={extended:"fstatvfs@openssh.com",cb:t};const a=le(this,o);if(this._debug){const e=a?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} fstatvfs@openssh.com`)}}ext_openssh_hardlink(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["hardlink@openssh.com"])throw new Error("Server does not support this extended request");const n=Buffer.byteLength(e),i=Buffer.byteLength(t);let o=9;const s=Buffer.allocUnsafe(37+n+4+i);p(s,s.length-4,0),s[4]=H;const a=this._writeReqid=this._writeReqid+1&$;p(s,a,5),p(s,20,o),s.utf8Write("hardlink@openssh.com",o+=4,20),p(s,n,o+=20),s.utf8Write(e,o+=4,n),p(s,i,o+=n),s.utf8Write(t,o+=4,i),this._requests[a]={cb:r};const c=le(this,s);if(this._debug){const e=c?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} hardlink@openssh.com`)}}ext_openssh_fsync(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["fsync@openssh.com"])throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const r=e.length;let n=9;const i=Buffer.allocUnsafe(34+r);p(i,i.length-4,0),i[4]=H;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,17,n),i.utf8Write("fsync@openssh.com",n+=4,17),p(i,r,n+=17),i.set(e,n+=4),this._requests[o]={cb:t};const s=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} fsync@openssh.com`)}ext_openssh_lsetstat(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["lsetstat@openssh.com"])throw new Error("Server does not support this extended request");let n=0,i=0;"object"==typeof t&&null!==t?(n=(t=oe(t)).flags,i=t.nb):"function"==typeof t&&(r=t);const o=Buffer.byteLength(e);let s=9;const a=Buffer.allocUnsafe(37+o+4+i);p(a,a.length-4,0),a[4]=H;const c=this._writeReqid=this._writeReqid+1&$;p(a,c,5),p(a,20,s),a.utf8Write("lsetstat@openssh.com",s+=4,20),p(a,o,s+=20),a.utf8Write(e,s+=4,o),p(a,n,s+=o),i&&(s+=4,i===g.length?a.set(g,s):f(g,a,0,i,s),s+=i),this._requests[c]={cb:r};const u=le(this,a);if(this._debug){const e=u?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} lsetstat@openssh.com`)}}ext_openssh_expandPath(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["expand-path@openssh.com"])throw new Error("Server does not support this extended request");const r=Buffer.byteLength(e);let n=9;const i=Buffer.allocUnsafe(40+r);p(i,i.length-4,0),i[4]=H;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,5),p(i,23,n),i.utf8Write("expand-path@openssh.com",n+=4,23),p(i,r,n+=20),i.utf8Write(e,n+=4,r),this._requests[o]={cb:(e,r)=>{if("function"==typeof t)return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing expanded path"))}};const s=le(this,i);if(this._debug){const e=s?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} expand-path@openssh.com`)}}ext_copy_data(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["copy-data"])throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("Source handle is not a Buffer");if(!Buffer.isBuffer(n))throw new Error("Destination handle is not a Buffer");let s=0;const a=Buffer.allocUnsafe(26+e.length+8+8+4+n.length+8);p(a,a.length-4,s),s+=4,a[s]=H,++s;const c=this._writeReqid=this._writeReqid+1&$;p(a,c,s),s+=4,p(a,9,s),s+=4,a.utf8Write("copy-data",s,9),s+=9,p(a,e.length,s),s+=4,a.set(e,s),s+=e.length;for(let e=7;e>=0;--e)a[s+e]=255&t,t/=256;s+=8;for(let e=7;e>=0;--e)a[s+e]=255&r,r/=256;s+=8,p(a,n.length,s),s+=4,a.set(n,s),s+=n.length;for(let e=7;e>=0;--e)a[s+e]=255&i,i/=256;this._requests[c]={cb:o};const u=le(this,a);if(this._debug){const e=u?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} copy-data`)}}ext_home_dir(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["home-directory"])throw new Error("Server does not support this extended request");if("string"!=typeof e)throw new TypeError("username is not a string");let r=0;const n=Buffer.byteLength(e),i=Buffer.allocUnsafe(31+n);p(i,i.length-4,r),r+=4,i[r]=H,++r;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,r),r+=4,p(i,14,r),r+=4,i.utf8Write("home-directory",r,14),r+=14,p(i,n,r),r+=4,i.utf8Write(e,r,n),r+=n,this._requests[o]={cb:(e,r)=>{if("function"==typeof t)return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing home directory"))}};const s=le(this,i);if(this._debug){const e=s?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} home-directory`)}}ext_users_groups(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["users-groups-by-id@openssh.com"])throw new Error("Server does not support this extended request");if(!Array.isArray(e))throw new TypeError("uids is not an array");for(const t of e)if(!Number.isInteger(t)||t<0||t>2**32-1)throw new Error("uid values must all be 32-bit unsigned integers");if(!Array.isArray(t))throw new TypeError("gids is not an array");for(const e of t)if(!Number.isInteger(e)||e<0||e>2**32-1)throw new Error("gid values must all be 32-bit unsigned integers");let n=0;const i=Buffer.allocUnsafe(47+4*e.length+4+4*t.length);p(i,i.length-4,n),n+=4,i[n]=H,++n;const o=this._writeReqid=this._writeReqid+1&$;p(i,o,n),n+=4,p(i,30,n),n+=4,i.utf8Write("users-groups-by-id@openssh.com",n,30),n+=30,p(i,4*e.length,n),n+=4;for(const t of e)p(i,t,n),n+=4;p(i,4*t.length,n),n+=4;for(const e of t)p(i,e,n),n+=4;this._requests[o]={extended:"users-groups-by-id@openssh.com",cb:r};const s=le(this,i);if(this._debug){const e=s?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} users-groups-by-id@openssh.com`)}}handle(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(t))throw new Error("handle is not a Buffer");const r=t.length;if(r>256)throw new Error("handle too large (> 256 bytes)");let n=9;const i=Buffer.allocUnsafe(13+r);p(i,i.length-4,0),i[4]=102,p(i,e,5),p(i,r,n),r&&i.set(t,n+=4);const o=le(this,i);this._debug&&this._debug(`SFTP: Outbound: ${o?"Buffered":"Sending"} HANDLE`)}status(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");if(!E.has(t))throw new Error(`Bad status code: ${t}`);r||(r="");const n=Buffer.byteLength(r);let i=9;const o=Buffer.allocUnsafe(17+n+4);p(o,o.length-4,0),o[4]=101,p(o,e,5),p(o,t,i),p(o,n,i+=4),i+=4,n&&(o.utf8Write(r,i,n),i+=n),p(o,0,i);const s=le(this,o);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} STATUS`)}data(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");const n=Buffer.isBuffer(t);if(!n&&"string"!=typeof t)throw new Error("data is not a Buffer or string");let i;n||r||(r=void 0,i=!0);const o=n?t.length:Buffer.byteLength(t,r);let s=9;const a=Buffer.allocUnsafe(13+o);p(a,a.length-4,0),a[4]=103,p(a,e,5),p(a,o,s),o&&(n?a.set(t,s+=4):i?a.utf8Write(t,s+=4,o):a.write(t,s+=4,o,r));const c=le(this,a);this._debug&&this._debug(`SFTP: Outbound: ${c?"Buffered":"Sending"} DATA`)}name(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Array.isArray(t)){if("object"!=typeof t||null===t)throw new Error("names is not an object or array");t=[t]}const r=t.length;let n,i=0;const o=[];for(let e=0;e<r;++e){const r=t[e],s=r&&r.filename&&"string"==typeof r.filename?r.filename:"";i+=4+Buffer.byteLength(s);const a=r&&r.longname&&"string"==typeof r.longname?r.longname:"";if(i+=4+Buffer.byteLength(a),"object"==typeof r.attrs&&null!==r.attrs){if(n=oe(r.attrs),i+=4+n.nb,n.nb){let e;n.nb===g.length?e=new Uint8Array(g):(e=new Uint8Array(n.nb),f(g,e,0,n.nb,0)),n.bytes=e}o.push(n)}else i+=4,o.push(null)}let s=9;const a=Buffer.allocUnsafe(13+i);p(a,a.length-4,0),a[4]=104,p(a,e,5),p(a,r,s),s+=4;for(let e=0;e<r;++e){const r=t[e];{const e=r&&r.filename&&"string"==typeof r.filename?r.filename:"",t=Buffer.byteLength(e);p(a,t,s),s+=4,t&&(a.utf8Write(e,s,t),s+=t)}{const e=r&&r.longname&&"string"==typeof r.longname?r.longname:"",t=Buffer.byteLength(e);p(a,t,s),s+=4,t&&(a.utf8Write(e,s,t),s+=t)}const n=o[e];n?(p(a,n.flags,s),s+=4,n.flags&&n.bytes&&(a.set(n.bytes,s),s+=n.nb)):(p(a,0,s),s+=4)}const c=le(this,a);this._debug&&this._debug(`SFTP: Outbound: ${c?"Buffered":"Sending"} NAME`)}attrs(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if("object"!=typeof t||null===t)throw new Error("attrs is not an object");const r=(t=oe(t)).flags,n=t.nb;let i=9;const o=Buffer.allocUnsafe(13+n);p(o,o.length-4,0),o[4]=105,p(o,e,5),p(o,r,i),n&&(i+=4,n===g.length?o.set(g,i):f(g,o,0,n,i),i+=n);const s=le(this,o);this._debug&&this._debug(`SFTP: Outbound: ${s?"Buffered":"Sending"} ATTRS`)}},Stats:ie,STATUS_CODE:_,stringToFlags:ue}},5720:(e,t,r)=>{var n=r(4504),i=Object.create(null),o=r(824);e.exports=n(function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o(function t(){var r=i[e],n=r.length,o=function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,o)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,o)})):delete i[e]}})}(e))})},5745:(e,t,r)=>{"use strict";const n=r(6928),i=r(9570),{pathExists:o}=r(2673),s=r(2581).fromPromise;e.exports={symlinkPaths:s(async function(e,t){if(n.isAbsolute(e)){try{await i.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:e}}const r=n.dirname(t),s=n.join(r,e);if(await o(s))return{toCwd:s,toDst:e};try{await i.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:n.relative(r,e)}}),symlinkPathsSync:function(e,t){if(n.isAbsolute(e)){if(!i.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=n.dirname(t),o=n.join(r,e);if(i.existsSync(o))return{toCwd:o,toDst:e};if(!i.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(r,e)}}}},5945:(e,t,r)=>{function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(181).Buffer.isBuffer},5949:(e,t,r)=>{var n=r(9278).Socket,i=r(4434).EventEmitter,o=r(9023).inherits,s=r(6928),a=r(9896),c=r(5317),u=/^\!<socket >(\d+) s ([A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8})/;if(e.exports=function(e,t,r,i,o){var s,h,f,d,p,g,_,E,A=0,y=Buffer.isBuffer(t),m=0,w=0,v=0,b=0,I=!1;function S(){var e;if(y){var r=9;(e=new Buffer(9+A+4+d+4)).writeUInt32BE(e.length-4,0,!0),e[4]=13,e.writeUInt32BE(A,5,!0),t.copy(e,r),e.writeUInt32BE(d,r+=A,!0),i.copy(e,r+=4),e.writeUInt32BE(0,r+=d,!0),s.write(e)}else s.write(new Buffer([0,0,0,1,11]))}function B(e){for(var r=0,n=e.length;r<n;++r)if(void 0===p)5===++m&&(p=e[r],m=0);else if(14===p)if(f){if(f[m]=e[r],++m===w)return s.removeAllListeners("data"),s.destroy()}else w<<=8,w+=e[r],4===++m&&(f=new Buffer(w),m=0);else if(12===p)if(void 0===g){if(v<<=8,v+=e[r],4===++m&&(g=new Array(v),m=0,0===v))return s.removeAllListeners("data"),s.destroy()}else if(t)if(!1===I){if(t[m]=e[r],++m===A&&(g[v-1]=t,A=0,m=0,I=!0,0===--v))return t=void 0,s.removeAllListeners("data"),s.destroy()}else!0===I?(b<<=8,b+=e[r],4===++m&&(m=0,b>0?I=b:(t=void 0,I=!1),b=0)):++m===I&&(I=!1,m=0,t=void 0);else A<<=8,A+=e[r],4===++m&&(t=new Buffer(A),m=0);else if(5===p)return h=y?new Error("Agent unable to sign data"):new Error("Unable to retrieve list of keys from agent"),s.removeAllListeners("data"),s.destroy()}function k(e){h=e}function C(){h?o(h):y&&!f||!y&&!g?o(new Error("Unexpected disconnection from agent")):y&&f?o(void 0,f):!y&&g&&o(void 0,g)}if("function"==typeof t&&"function"==typeof r?(_=t,E=r):y?(A=t.length,d=i.length):(o=t,t=void 0),"win32"===process.platform){if("pageant"!==e){var R=!1;return void a.readFile(e,function t(r,i){if(r)return R?o(new Error("Invalid cygwin unix socket path")):void c.exec('cygpath -w "'+e+'"',function(r,n,i){if(r||0===n.length)return o(new Error("Invalid cygwin unix socket path"));R=!0,e=n.toString().replace(/[\r\n]/g,""),a.readFile(e,t)});var h;if(h=u.exec(i.toString("ascii"))){var f,l,d,p,g,_,E=0,A=!1,y=[],m=new Buffer(12);for(m.fill(0),f=parseInt(h[1],10),l=h[2].replace(/\-/g,""),d=new Buffer(16),g=0,_=0;_<32;++g,_+=2)d[g]=parseInt(l.substring(_,_+2),16);for(g=0;g<16;g+=4)d.writeUInt32LE(d.readUInt32BE(g,!0),g,!0);function w(){E=0,p="secret",s.write(d)}function v(e){E+=e.length,"secret"===p?16===E&&(E=0,p="creds",s.write(m)):"creds"===p&&(A||y.push(e),12===E&&(s.removeListener("connect",w),s.removeListener("data",v),s.removeListener("close",b),A?(N(),s.emit("connect")):(A=!0,(m=Buffer.concat(y)).writeUInt32LE(process.pid,0,!0),s.destroy(),I())))}function b(){o(new Error("Problem negotiating cygwin unix socket security"))}function I(){(s=new n).once("connect",w),s.on("data",v),s.once("close",b),s.connect(f)}I()}else o(new Error("Malformed cygwin unix socket file"))})}s=new l}else s=new n;function N(){var e;_||E?(s.once("connect",function(){e=_();var t=!1;function r(){t||(s.destroy(),t=!0)}e.once("end",r).once("close",r).on("data",function(e){s.write(e)}),s.on("data",function(t){e.write(t)})}),s.once("close",function(){e||E()})):(s.once("connect",S),s.on("data",B),s.once("error",k),s.once("close",C))}N(),s.connect(e)},"win32"===process.platform){var h={},f=s.resolve(__dirname,"..","util/pagent.exe");function l(){this.proc=void 0,this.buffer=null}h[10]=new Error("Invalid pagent.exe arguments"),h[11]=new Error("Pageant is not running"),h[12]=new Error("pagent.exe could not create an mmap"),h[13]=new Error("pagent.exe could not set mode for stdin"),h[14]=new Error("pagent.exe could not set mode for stdout"),h[15]=new Error("pagent.exe did not get expected input payload"),o(l,i),l.prototype.write=function(e){if(null===this.buffer?this.buffer=e:this.buffer=Buffer.concat([this.buffer,e],this.buffer.length+e.length),!(this.buffer.length<4)){var t=this.buffer.readUInt32BE(0,!0);if(!(this.buffer.length-4<t)){e=this.buffer.slice(0,4+t),this.buffer.length>4+t?this.buffer=this.buffer.slice(4+t):this.buffer=null;var r,n=this,i=!1;(r=this.proc=c.spawn(f,[e.length])).stdout.on("data",function(e){n.emit("data",e)}),r.once("error",function(e){i||(i=!0,n.emit("error",e))}),r.once("close",function(e){n.proc=void 0,h[e]&&!i&&(i=!0,n.emit("error",h[e])),n.emit("close",i)}),r.stdin.end(e)}}},l.prototype.end=l.prototype.destroy=function(){this.buffer=null,this.proc&&(this.proc.kill(),this.proc=void 0)},l.prototype.connect=function(){this.emit("connect")}}},5971:(e,t,r)=>{"use strict";const{Duplex:n,Readable:i,Writable:o}=r(2203),{CHANNEL_EXTENDED_DATATYPE:{STDERR:s}}=r(468),{bufferSlice:a}=r(2024),c=2097152,u=1048576;class h extends i{constructor(e,t){super(t),this._channel=e}_read(e){this._channel._waitChanDrain&&(this._channel._waitChanDrain=!1,this._channel.incoming.window<=u&&p(this._channel))}}class f extends o{constructor(e){super({highWaterMark:c}),this._channel=e}_write(e,t,r){const n=this._channel,i=n._client._protocol,o=n.outgoing,c=o.packetSize,u=o.id;let h=o.window;const f=e.length;let l=0;if("open"===o.state){for(;f-l>0&&h>0;){let t=f-l;t>h&&(t=h),t>c&&(t=c),0===l&&t===f?i.channelExtData(u,e,s):i.channelExtData(u,a(e,l,l+t),s),l+=t,h-=t}if(o.window=h,f-l>0)return 0===h&&(n._waitWindow=!0),n._chunkErr=l>0?a(e,l,f):e,void(n._chunkcbErr=r);r()}}}function l(){this.eof(),!this.server&&this.allowHalfOpen||this.close(),this.writable=!1}function d(){this.readable=!1}function p(e){if("closed"===e.outgoing.state)return;const t=c-e.incoming.window;t<=0||(e.incoming.window+=t,e._client._protocol.channelWindowAdjust(e.outgoing.id,t))}e.exports={Channel:class extends n{constructor(e,t,r){const n={highWaterMark:c,allowHalfOpen:!r||r&&!1!==r.allowHalfOpen,emitClose:!1};super(n),this.allowHalfOpen=n.allowHalfOpen;const i=!(!r||!r.server);this.server=i,this.type=t.type,this.subtype=void 0,this.incoming=t.incoming,this.outgoing=t.outgoing,this._callbacks=[],this._client=e,this._hasX11=!1,this._exit={code:void 0,signal:void 0,dump:void 0,desc:void 0},this.stdin=this.stdout=this,this.stderr=i?new f(this):new h(this,n),this._waitWindow=!1,this._waitChanDrain=!1,this._chunk=void 0,this._chunkcb=void 0,this._chunkErr=void 0,this._chunkcbErr=void 0,this.on("finish",l).on("prefinish",l),this.on("end",d).on("close",d)}_read(e){this._waitChanDrain&&(this._waitChanDrain=!1,this.incoming.window<=u&&p(this))}_write(e,t,r){const n=this._client._protocol,i=this.outgoing,o=i.packetSize,s=i.id;let c=i.window;const u=e.length;let h=0;if("open"===i.state){for(;u-h>0&&c>0;){let t=u-h;t>c&&(t=c),t>o&&(t=o),0===h&&t===u?n.channelData(s,e):n.channelData(s,a(e,h,h+t)),h+=t,c-=t}if(i.window=c,u-h>0)return 0===c&&(this._waitWindow=!0),this._chunk=h>0?a(e,h,u):e,void(this._chunkcb=r);r()}}eof(){"open"===this.outgoing.state&&(this.outgoing.state="eof",this._client._protocol.channelEOF(this.outgoing.id))}close(){"open"!==this.outgoing.state&&"eof"!==this.outgoing.state||(this.outgoing.state="closing",this._client._protocol.channelClose(this.outgoing.id))}destroy(){return this.end(),this.close(),this}setWindow(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");"session"!==this.type||"shell"!==this.subtype&&"exec"!==this.subtype||!this.writable||"open"!==this.outgoing.state||this._client._protocol.windowChange(this.outgoing.id,e,t,r,n)}signal(e){if(this.server)throw new Error("Client-only method called in server mode");"session"===this.type&&this.writable&&"open"===this.outgoing.state&&this._client._protocol.signal(this.outgoing.id,e)}exit(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");"session"===this.type&&this.writable&&"open"===this.outgoing.state&&("number"==typeof e?this._client._protocol.exitStatus(this.outgoing.id,e):this._client._protocol.exitSignal(this.outgoing.id,e,t,r))}},MAX_WINDOW:c,PACKET_SIZE:32768,windowAdjust:p,WINDOW_THRESHOLD:u}},5999:(e,t,r)=>{"use strict";const n=r(3200),i=r(6928),o=r(5172).copySync,s=r(9757).removeSync,a=r(2865).mkdirpSync,c=r(2199);function u(e,t,r){try{n.renameSync(e,t)}catch(n){if("EXDEV"!==n.code)throw n;return function(e,t,r){return o(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),s(e)}(e,t,r)}}e.exports=function(e,t,r){const o=(r=r||{}).overwrite||r.clobber||!1,{srcStat:h,isChangingCase:f=!1}=c.checkPathsSync(e,t,"move",r);return c.checkParentPathsSync(e,h,t,"move"),function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)||a(i.dirname(t)),function(e,t,r,i){if(i)return u(e,t,r);if(r)return s(t),u(e,t,r);if(n.existsSync(t))throw new Error("dest already exists.");return u(e,t,r)}(e,t,o,f)}},6189:(e,t,r)=>{var n=r(9140),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(r,n,i){return t.call(e,r,n,function(e){u(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function r(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!u(e))throw e}}:t}function i(t){return t?function(r,n,i,o){return t.call(e,r,n,i,function(e){u(e)&&(e=null),o&&o.apply(this,arguments)})}:t}function o(t){return t?function(r,n,i){try{return t.call(e,r,n,i)}catch(e){if(!u(e))throw e}}:t}function a(t){return t?function(r,n,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?t.call(e,r,n,o):t.call(e,r,o)}:t}function c(t){return t?function(r,n){var i=n?t.call(e,r,n):t.call(e,r);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function u(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var h;n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,i){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,function(t,n){t?i&&i(t):e.fchmod(n,r,function(t){e.close(n,function(e){i&&i(t||e)})})})},e.lchmodSync=function(t,r){var i,o=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{i=e.fchmodSync(o,r),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e),e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,r,i,o){e.open(t,n.O_SYMLINK,function(t,n){t?o&&o(t):e.futimes(n,r,i,function(t){e.close(n,function(e){o&&o(t||e)})})})},e.lutimesSync=function(t,r,i){var o,s=e.openSync(t,n.O_SYMLINK),a=!0;try{o=e.futimesSync(s,r,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):e.futimes&&(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=r(e.chmodSync),e.fchmodSync=r(e.fchmodSync),e.lchmodSync=r(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===s&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function r(r,n,i){var o=Date.now(),s=0;t(r,n,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-o<6e4)return setTimeout(function(){e.stat(n,function(e,o){e&&"ENOENT"===e.code?t(r,n,a):i(c)})},s),void(s<100&&(s+=10));i&&i(c)})}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function r(r,n,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(h,f,l){if(h&&"EAGAIN"===h.code&&u<10)return u++,t.call(e,r,n,i,o,s,c);a.apply(this,arguments)}}return t.call(e,r,n,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(h=e.readSync,function(t,r,n,i,o){for(var s=0;;)try{return h.call(e,t,r,n,i,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})}},6373:(e,t,r)=>{var n=r(6982),i=r(9278).Socket,o=r(2250).lookup,s=r(4434).EventEmitter,a=r(9023).inherits,c=r(6584),u=c.SSH2Stream,h=c.SFTPStream,f=c.constants,l=c.utils.parseKey,d=c.utils.decryptKey,p=c.utils.genPublicKey,g=r(3863),_=r(5949),E=r(9460),A=Math.pow(2,32)-1,y=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/,m=function(e){};function w(){if(!(this instanceof w))return new w;s.call(this),this.config={host:void 0,port:void 0,forceIPv4:void 0,forceIPv6:void 0,keepaliveCountMax:void 0,keepaliveInterval:void 0,readyTimeout:void 0,compress:void 0,username:void 0,password:void 0,privateKey:void 0,publicKey:void 0,tryKeyboard:void 0,agent:void 0,allowAgentFwd:void 0,hostHashAlgo:void 0,hostHashCb:void 0,strictVendor:void 0,debug:void 0},this._readyTimeout=void 0,this._channels=void 0,this._callbacks=void 0,this._forwarding=void 0,this._acceptX11=void 0,this._agentFwdEnabled=void 0,this._curChan=void 0,this._remoteVer=void 0,this._sshstream=void 0,this._sock=void 0,this._resetKA=void 0}function v(e,t,r,n){var i=b(e),o=g.MAX_WINDOW,s=g.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=!0;var c=e._sshstream;return c.once("CHANNEL_OPEN_CONFIRMATION:"+i,u).once("CHANNEL_OPEN_FAILURE:"+i,h).once("CHANNEL_CLOSE:"+i,h),"session"===t?a=c.session(i,o,s):"direct-tcpip"===t?a=c.directTcpip(i,o,s,r):"direct-streamlocal@openssh.com"===t&&(a=c.openssh_directStreamLocal(i,o,s,r)),a;function u(r){c.removeListener("CHANNEL_OPEN_FAILURE:"+i,h),c.removeListener("CHANNEL_CLOSE:"+i,h);var a={type:t,incoming:{id:i,window:o,packetSize:s,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new g(a,e))}function h(t){var r;c.removeListener("CHANNEL_OPEN_CONFIRMATION:"+i,u),c.removeListener("CHANNEL_OPEN_FAILURE:"+i,h),c.removeListener("CHANNEL_CLOSE:"+i,h),delete e._channels[i],t instanceof Error?r=t:"object"==typeof t&&null!==t?((r=new Error("(SSH) Channel open failure: "+t.description)).reason=t.reason,r.lang=t.lang):(r=new Error("(SSH) Channel open failure: server closed channel unexpectedly")).reason=r.lang="",n(r)}}function b(e){if(e._curChan<A)return++e._curChan;for(var t=0,r=e._channels;t<A;++t)if(!r[t])return t;return!1}function I(e,t,r){var i={single:!1,protocol:"MIT-MAGIC-COOKIE-1",cookie:n.randomBytes(16).toString("hex"),screen:"number"==typeof t?t:0};"function"==typeof t?r=t:"object"==typeof t&&("boolean"==typeof t.single&&(i.single=t.single),"number"==typeof t.screen&&(i.screen=t.screen));var o="function"==typeof r;return"open"!==e.outgoing.state?(o&&r(new Error("Channel is not open")),!0):(o&&e._callbacks.push(function(t){if(t)return r(!0!==t?t:new Error("Unable to request X11"));e._hasX11=!0,++e._client._acceptX11,e.once("close",function(){e._client._acceptX11&&--e._client._acceptX11}),r()}),e._client._sshstream.x11Forward(e.outgoing.id,i,o))}function S(e,t,r){var n=24,i=80,o=640,s=480,a="vt100";"function"==typeof t?r=t:"object"==typeof t&&("number"==typeof t.rows&&(n=t.rows),"number"==typeof t.cols&&(i=t.cols),"number"==typeof t.width&&(o=t.width),"number"==typeof t.height&&(s=t.height),"string"==typeof t.term&&(a=t.term));var c="function"==typeof r;return"open"!==e.outgoing.state?(c&&r(new Error("Channel is not open")),!0):(c&&e._callbacks.push(function(e){if(e)return r(!0!==e?e:new Error("Unable to request a pseudo-terminal"));r()}),e._client._sshstream.pty(e.outgoing.id,n,i,s,o,a,null,c))}function B(e,t){var r="function"==typeof t;return"open"!==e.outgoing.state?(r&&t(new Error("Channel is not open")),!0):e._client._agentFwdEnabled?(r&&t(!1),!0):(e._client._agentFwdEnabled=!0,e._callbacks.push(function(n){if(n)return e._client._agentFwdEnabled=!1,void(r&&t(!0!==n?n:new Error("Unable to request agent forwarding")));r&&t()}),e._client._sshstream.openssh_agentForward(e.outgoing.id,!0))}function k(e,t,r){return"open"!==e.outgoing.state?(r(new Error("Channel is not open")),!0):(e._callbacks.push(function(n){if(n)return r(!0!==n?n:new Error("Unable to start subsystem: "+t));e.subtype="subsystem",r(void 0,e)}),e._client._sshstream.subsystem(e.outgoing.id,t,!0))}a(w,s),w.prototype.connect=function(e){var t=this;if(this._sock&&this._sock.writable)return this.once("close",function(){t.connect(e)}),void this.end();this.config.host=e.hostname||e.host||"localhost",this.config.port=e.port||22,this.config.forceIPv4=e.forceIPv4||!1,this.config.forceIPv6=e.forceIPv6||!1,this.config.keepaliveCountMax="number"==typeof e.keepaliveCountMax&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3,this.config.keepaliveInterval="number"==typeof e.keepaliveInterval&&e.keepaliveInterval>0?e.keepaliveInterval:0,this.config.readyTimeout="number"==typeof e.readyTimeout&&e.readyTimeout>=0?e.readyTimeout:2e4,this.config.compress=e.compress,this.config.username=e.username||e.user,this.config.password="string"==typeof e.password?e.password:void 0,this.config.privateKey="string"==typeof e.privateKey||Buffer.isBuffer(e.privateKey)?e.privateKey:void 0,this.config.publicKey=void 0,this.config.localHostname="string"==typeof e.localHostname&&e.localHostname.length?e.localHostname:void 0,this.config.localUsername="string"==typeof e.localUsername&&e.localUsername.length?e.localUsername:void 0,this.config.tryKeyboard=!0===e.tryKeyboard,this.config.agent="string"==typeof e.agent&&e.agent.length?e.agent:void 0,this.config.allowAgentFwd=!0===e.agentForward&&void 0!==this.config.agent,this.config.strictVendor="boolean"!=typeof e.strictVendor||e.strictVendor;var r=this.config.debug="function"==typeof e.debug?e.debug:m;if("string"!=typeof this.config.username)throw new Error("Invalid username");if(!0===e.agentForward&&!this.config.allowAgentFwd)throw new Error("You must set a valid agent path to allow agent forwarding");var s=this._callbacks=[];if(this._channels={},this._forwarding={},this._acceptX11=0,this._agentFwdEnabled=!1,this._curChan=-1,this._remoteVer=void 0,this.config.privateKey){var a=l(this.config.privateKey);if(a instanceof Error)throw new Error("Cannot parse privateKey: "+a.message);if(!a.private)throw new Error("privateKey value does not contain a (valid) private key");if(a.encryption){if("string"!=typeof e.passphrase)throw new Error("Encrypted private key detected, but no passphrase given");d(a,e.passphrase)}this.config.privateKey=a,this.config.publicKey=p(a)}var c=this._sshstream=new u({debug:r===m?void 0:r}),h=this._sock=e.sock||new i;this._sock.stderr&&this._sock.stderr.resume();var E,A=this.config.keepaliveInterval,y=this.config.keepaliveCountMax,w=0;function v(){if(++w>y){if(clearInterval(E),h.readable){var e=new Error("Keepalive timeout");e.level="client-timeout",t.emit("error",e),h.destroy()}}else h.writable?(s.push(I),c.ping()):clearInterval(E)}function I(){A>0&&(w=0,clearInterval(E),h.writable&&(E=setInterval(v,A)))}if(this._resetKA=I,c.on("USERAUTH_BANNER",function(e){t.emit("banner",e)}),h.on("connect",function(){r("DEBUG: Client: Connected"),t.emit("connect"),t._sock.setKeepAlive(!0),e.sock||c.pipe(h).pipe(c)}).on("timeout",function(){t.emit("timeout")}).on("error",function(e){clearTimeout(t._readyTimeout),e.level="client-socket",t.emit("error",e)}).on("end",function(){c.unpipe(h),clearTimeout(t._readyTimeout),clearInterval(E),t.emit("end")}).on("close",function(){c.unpipe(h),clearTimeout(t._readyTimeout),clearInterval(E),t.emit("close");var e=s,r=new Error("No response from server");s=t._callbacks=[];for(var n=0;n<e.length;++n)e[n](r);var i=Object.keys(t._channels);for(t._channels={},n=0;n<i.length;++n)c.emit("CHANNEL_OPEN_FAILURE:"+i[n],r),c.emit("CHANNEL_CLOSE:"+i[n])}),c.on("drain",function(){t.emit("drain")}).once("header",function(e){t._remoteVer=e.versions.software,e.greeting&&t.emit("greeting",e.greeting)}).on("continue",function(){t.emit("continue")}).on("error",function(e){e.level="protocol",t.emit("error",e)}),"function"==typeof e.hostVerifier&&~n.getHashes().indexOf(e.hostHash)){var S=e.hostVerifier,B=n.createHash(e.hostHash);c.once("fingerprint",function(e,t){B.update(e,"binary"),t(S(B.digest("hex")))})}var k,C,R=[],N=0;function U(){if(!R.length){c.removeListener("USERAUTH_FAILURE",L),c.removeListener("USERAUTH_PK_OK",O);var e=new Error("All configured authentication methods failed");return e.level="client-authentication",t.emit("error",e),void(c.writable&&t.end())}switch(k=R.shift()){case"password":c.authPassword(t.config.username,t.config.password);break;case"publickey":c.authPK(t.config.username,t.config.publicKey),c.once("USERAUTH_PK_OK",O);break;case"hostbased":c.authHostbased(t.config.username,t.config.publicKey,t.config.localHostname,t.config.localUsername,function(e,r){var i=n.createSign("rsa"===t.config.privateKey.type?"RSA-SHA1":"DSA-SHA1");if(i.update(e),i=i.sign(t.config.privateKey.privateOrig,"binary"),i=new Buffer(i,"binary"),"dss"===t.config.privateKey.type&&i.length>40){for(var o=new Buffer(40),s=4,a=5+i[3]+1;0===i[s];)++s;for(;0===i[a];)++a;i.copy(o,0,s,s+20),i.copy(o,20,a,a+20),i=o}r(i)});break;case"agent":_(t.config.agent,function(e,n){return e?(e.level="agent",t.emit("error",e),C=void 0,U()):0===n.length?(r("DEBUG: Agent: No keys stored in agent"),C=void 0,U()):(C=n,N=0,c.authPK(t.config.username,n[0]),void c.once("USERAUTH_PK_OK",O))});break;case"keyboard-interactive":c.authKeyboard(t.config.username),c.on("USERAUTH_INFO_REQUEST",T);break;case"none":c.authNone(t.config.username)}}function T(e,n,i,o){if(0===(Array.isArray(o)?o.length:0))return r("DEBUG: Client: Sending automatic USERAUTH_INFO_RESPONSE"),c.authInfoRes();t.emit("keyboard-interactive",e,n,i,o,function(e){c.authInfoRes(e)})}function O(){if("agent"===k){var e=C[N],r=e.toString("ascii",4,4+e.readUInt32BE(0,!0)).substring(4,7);c.authPK(t.config.username,e,function(n,i){_(t.config.agent,e,r,n,function(e,n){if(e)return e.level="agent",t.emit("error",e),C=void 0,U();var o;o=n.toString("ascii",4,11)==="ssh-"+r?n.slice(15):n,i(o)})})}else"publickey"===k&&c.authPK(t.config.username,t.config.publicKey,function(e,r){var i=n.createSign("rsa"===t.config.privateKey.type?"RSA-SHA1":"DSA-SHA1");if(i.update(e),i=i.sign(t.config.privateKey.privateOrig,"binary"),i=new Buffer(i,"binary"),"dss"===t.config.privateKey.type&&i.length>40){for(var o=new Buffer(40),s=4,a=5+i[3]+1;0===i[s];)++s;for(;0===i[a];)++a;i.copy(o,0,s,s+20),i.copy(o,20,a,a+20),i=o}r(i)})}function L(e,n){if(c.removeListener("USERAUTH_PK_OK",O),c.removeListener("USERAUTH_INFO_REQUEST",T),"agent"===k)return r("DEBUG: Client: Agent key #"+(N+1)+" failed"),void(++N>=C.length?(r("DEBUG: Agent: No more keys left to try"),r("DEBUG: Client: "+k+" auth failed"),C=void 0,U()):(r("DEBUG: Agent: Trying key #"+(N+1)),c.authPK(t.config.username,C[N]),c.once("USERAUTH_PK_OK",O)));r("DEBUG: Client: "+k+" auth failed"),U()}if(void 0!==this.config.password&&R.push("password"),void 0!==this.config.publicKey&&R.push("publickey"),void 0!==this.config.agent&&R.push("agent"),this.config.tryKeyboard&&R.push("keyboard-interactive"),void 0!==this.config.publicKey&&void 0!==this.config.localHostname&&void 0!==this.config.localUsername&&R.push("hostbased"),R.push("none"),c.once("USERAUTH_SUCCESS",function(){R=void 0,c.removeListener("USERAUTH_FAILURE",L),c.removeListener("USERAUTH_INFO_REQUEST",T),I(),clearTimeout(t._readyTimeout),t.emit("ready")}).on("USERAUTH_FAILURE",L),c.once("NEWKEYS",function(){c.service("ssh-userauth"),c.once("SERVICE_ACCEPT",function(e){"ssh-userauth"===e&&U()})}),c.on("CHANNEL_OPEN",function(e){!function(e,t){var r,n=!1;function i(){var r={type:t.type,incoming:{id:n,window:g.MAX_WINDOW,packetSize:g.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new g(r,e);return e._sshstream.channelOpenConfirm(t.sender,n,g.MAX_WINDOW,g.PACKET_SIZE),i}function o(){void 0===r&&(r=!1===n?f.CHANNEL_OPEN_FAILURE.RESOURCE_SHORTAGE:f.CHANNEL_OPEN_FAILURE.CONNECT_FAILED),e._sshstream.channelOpenFail(t.sender,r,"","")}if("forwarded-tcpip"===t.type||"x11"===t.type||"auth-agent@openssh.com"===t.type){var s="forwarded-tcpip"===t.type&&!e._forwarding[t.data.destIP+":"+t.data.destPort]||"x11"===t.type&&0===e._acceptX11||"auth-agent@openssh.com"===t.type&&!e._agentFwdEnabled;s?(r=f.CHANNEL_OPEN_FAILURE.ADMINISTRATIVELY_PROHIBITED,e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unexpected channel open for: "+t.type)):!1===(n=b(e))?(e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: no channels available"),s=!0):e._channels[n]=!0,s&&o(),!1!==n&&("forwarded-tcpip"===t.type?e.emit("tcp connection",t.data,i,o):"x11"===t.type?e.emit("x11",t.data,i,o):_(e.config.agent,i,o))}else e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unsupported type: "+t.type),r=f.CHANNEL_OPEN_FAILURE.UNKNOWN_CHANNEL_TYPE,o()}(t,e)}),c.on("REQUEST_SUCCESS",function(e){s.length&&s.shift()(!1,e)}).on("REQUEST_FAILURE",function(){s.length&&s.shift()(!0)}),c.on("GLOBAL_REQUEST",function(e,t,r){t&&c.requestFailure()}),e.sock)Q(),c.pipe(h).pipe(c);else{var D=this.config.host,P=this.config.forceIPv4,x=this.config.forceIPv6;function H(){Q(),t._sock.connect(t.config.port,D),t._sock.setNoDelay(!0),t._sock.setMaxListeners(0),t._sock.setTimeout("number"==typeof e.timeout?e.timeout:0)}r("DEBUG: Client: Trying "+D+" on port "+this.config.port+" ..."),!P&&!x||P&&x?H():o(D,P?4:6,function(e,r,n){if(e){var i=new Error("Error while looking up "+(P?"IPv4":"IPv6")+" address for host "+D+": "+e);return clearTimeout(t._readyTimeout),i.level="client-dns",t.emit("error",i),void t.emit("close")}D=r,H()})}function Q(){t.config.readyTimeout>0&&(t._readyTimeout=setTimeout(function(){var e=new Error("Timed out while waiting for handshake");e.level="client-timeout",t.emit("error",e),h.destroy()},t.config.readyTimeout))}},w.prototype.end=function(){return!!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable)&&this._sshstream.disconnect()},w.prototype.destroy=function(){this._sock&&this._sock.destroy()},w.prototype.exec=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");"function"==typeof t&&(r=t,t={});var n=this;return v(this,"session",{allowHalfOpen:!1!==t.allowHalfOpen},function(i,o){if(i)return r(i);var s=[];function a(e){if(e)return o.close(),r(e);s.length&&s.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&s.push(function(){B(o,a)}),"object"==typeof t&&("object"==typeof t.env&&function(e,t){if("open"!==e.outgoing.state)return!0;for(var r,n,i=Object.keys(t||{}),o=0,s=i.length;o<s;++o)n=t[r=i[o]],e._client._sshstream.env(e.outgoing.id,r,n,!1)}(o,t.env),"object"!=typeof t.pty&&!0!==t.pty||s.push(function(){S(o,t.pty,a)}),"object"!=typeof t.x11&&"number"!==t.x11&&!0!==t.x11||s.push(function(){I(o,t.x11,a)})),s.push(function(){!function(e,t,r,n){if("open"!==e.outgoing.state)return n(new Error("Channel is not open")),!0;e._callbacks.push(function(t){if(t)return n(!0!==t?t:new Error("Unable to exec"));e.subtype="exec",e.allowHalfOpen=!1!==r.allowHalfOpen,n(void 0,e)}),e._client._sshstream.exec(e.outgoing.id,t,!0)}(o,e,t,r)}),s.shift()()})},w.prototype.shell=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this;return"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),e&&void 0!==e.x11&&(t=e,e=void 0),v(this,"session",function(i,o){if(i)return r(i);var s=[];function a(e){if(e)return o.close(),r(e);s.length&&s.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&s.push(function(){B(o,a)}),!1!==e&&s.push(function(){S(o,e,a)}),"object"==typeof t&&("object"!=typeof t.x11&&"number"!==t.x11&&!0!==t.x11||s.push(function(){I(o,t.x11,a)})),s.push(function(){!function(e,t){if("open"!==e.outgoing.state)return t(new Error("Channel is not open")),!0;e._callbacks.push(function(r){if(r)return t(!0!==r?r:new Error("Unable to open shell"));e.subtype="shell",t(void 0,e)}),e._client._sshstream.shell(e.outgoing.id,!0)}(o,r)}),s.shift()()})},w.prototype.subsys=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return v(this,"session",function(r,n){if(r)return t(r);k(n,e,function(e,r){if(e)return t(e);t(void 0,r)})})},w.prototype.sftp=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t=this;return v(this,"session",function(r,n){if(r)return e(r);k(n,"sftp",function(r,n){if(r)return e(r);var i=t._sshstream._state.incoming.identRaw,o={debug:t.config.debug},s=new h(o,i);function a(t){s.removeListener("ready",c),n.removeListener("exit",u),e(t)}function c(){s.removeListener("error",a),n.removeListener("exit",u),e(void 0,new E(s))}function u(t,r){s.removeListener("ready",c),s.removeListener("error",a);var n=new Error("number"==typeof t?"Received exit code "+t+" while establishing SFTP session":"Received signal "+r+" while establishing SFTP session");n.code=t,n.signal=r,e(n)}s.once("error",a).once("ready",c).once("close",function(){n.end()}),n.once("exit",u),s.pipe(n).pipe(s)})})},w.prototype.forwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push(function(i,o){if(i)return r(!0!==i?i:new Error("Unable to bind to "+e+":"+t));0===t&&o&&o.length>=4&&(t=o.readUInt32BE(0,!0)),n._forwarding[e+":"+t]=!0,r(void 0,t)}),this._sshstream.tcpipForward(e,t,i)},w.prototype.unforwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push(function(i){if(i)return r(!0!==i?i:new Error("Unable to unbind from "+e+":"+t));delete n._forwarding[e+":"+t],r()}),this._sshstream.cancelTcpipForward(e,t,i)},w.prototype.forwardOut=function(e,t,r,n,i){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return v(this,"direct-tcpip",{srcIP:e,srcPort:t,dstIP:r,dstPort:n},i)},w.prototype.openssh_noMoreSessions=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t="function"==typeof e;return!this.config.strictVendor||this.config.strictVendor&&y.test(this._remoteVer)?(t&&this._callbacks.push(function(t){if(t)return e(!0!==t?t:new Error("Unable to disable future sessions"));e()}),this._sshstream.openssh_noMoreSessions(t)):(t&&process.nextTick(function(){e(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}),!0)},w.prototype.openssh_forwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t;return!this.config.strictVendor||this.config.strictVendor&&y.test(this._remoteVer)?(r&&this._callbacks.push(function(r){if(r)return t(!0!==r?r:new Error("Unable to bind to "+e));t()}),this._sshstream.openssh_streamLocalForward(e,r)):(r&&process.nextTick(function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}),!0)},w.prototype.openssh_unforwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t;return!this.config.strictVendor||this.config.strictVendor&&y.test(this._remoteVer)?(r&&this._callbacks.push(function(r){if(r)return t(!0!==r?r:new Error("Unable to unbind on "+e));t()}),this._sshstream.openssh_cancelStreamLocalForward(e,r)):(r&&process.nextTick(function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}),!0)},w.prototype.openssh_forwardOutStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return!this.config.strictVendor||this.config.strictVendor&&y.test(this._remoteVer)?v(this,"direct-streamlocal@openssh.com",{socketPath:e},t):(process.nextTick(function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}),!0)},w.Client=w,w.Server=r(4801),w.utils=c.utils,w.SFTP_STATUS_CODE=h.STATUS_CODE,w.SFTP_OPEN_MODE=h.OPEN_MODE,e.exports=w},6462:(e,t,r)=>{"use strict";var n=r(7228).lowlevel.crypto_hash,i=0,o=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function s(e,t,r){return(e[0][t[r+3]]+e[1][t[r+2]]^e[2][t[r+1]])+e[3][t[r]]}function a(e,t){var r,n=0;for(r=0;r<4;r++,i++)i>=t&&(i=0),n=n<<8|e[i];return n}function c(e,t,r){var n,i=new o,s=new Uint32Array(8),c=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(i.expandstate(t,64,e,64),n=0;n<64;n++)i.expand0state(t,64),i.expand0state(e,64);for(n=0;n<8;n++)s[n]=a(c,c.byteLength);for(n=0;n<64;n++)i.enc(s,s.byteLength/8);for(n=0;n<8;n++)r[4*n+3]=s[n]>>>24,r[4*n+2]=s[n]>>>16,r[4*n+1]=s[n]>>>8,r[4*n+0]=s[n]}o.prototype.encipher=function(e,t){void 0===t&&(t=new Uint8Array(e.buffer),0!==e.byteOffset&&(t=t.subarray(e.byteOffset))),e[0]^=this.P[0];for(var r=1;r<16;r+=2)e[1]^=s(this.S,t,0)^this.P[r],e[0]^=s(this.S,t,4)^this.P[r+1];var n=e[0];e[0]=e[1]^this.P[17],e[1]=n},o.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);0!==e.byteOffset&&(t=t.subarray(e.byteOffset)),e[0]^=this.P[17];for(var r=16;r>0;r-=2)e[1]^=s(this.S,t,0)^this.P[r],e[0]^=s(this.S,t,4)^this.P[r-1];var n=e[0];e[0]=e[1]^this.P[0],e[1]=n},o.prototype.expand0state=function(e,t){var r,n,o=new Uint32Array(2),s=new Uint8Array(o.buffer);for(r=0,i=0;r<18;r++)this.P[r]^=a(e,t);for(i=0,r=0;r<18;r+=2)this.encipher(o,s),this.P[r]=o[0],this.P[r+1]=o[1];for(r=0;r<4;r++)for(n=0;n<256;n+=2)this.encipher(o,s),this.S[r][n]=o[0],this.S[r][n+1]=o[1]},o.prototype.expandstate=function(e,t,r,n){var o,s,c=new Uint32Array(2);for(o=0,i=0;o<18;o++)this.P[o]^=a(r,n);for(o=0,i=0;o<18;o+=2)c[0]^=a(e,t),c[1]^=a(e,t),this.encipher(c),this.P[o]=c[0],this.P[o+1]=c[1];for(o=0;o<4;o++)for(s=0;s<256;s+=2)c[0]^=a(e,t),c[1]^=a(e,t),this.encipher(c),this.S[o][s]=c[0],this.S[o][s+1]=c[1];i=0},o.prototype.enc=function(e,t){for(var r=0;r<t;r++)this.encipher(e.subarray(2*r))},o.prototype.dec=function(e,t){for(var r=0;r<t;r++)this.decipher(e.subarray(2*r))},e.exports={BLOCKS:8,HASHSIZE:32,hash:c,pbkdf:function(e,t,r,i,o,s,a){var u,h,f,l,d,p,g=new Uint8Array(64),_=new Uint8Array(64),E=new Uint8Array(32),A=new Uint8Array(32),y=new Uint8Array(i+4),m=s;if(a<1)return-1;if(0===t||0===i||0===s||s>E.byteLength*E.byteLength||i>1<<20)return-1;for(l=Math.floor((s+E.byteLength-1)/E.byteLength),f=Math.floor((s+l-1)/l),u=0;u<i;u++)y[u]=r[u];for(n(g,e,t),p=1;s>0;p++){for(y[i+0]=p>>>24,y[i+1]=p>>>16,y[i+2]=p>>>8,y[i+3]=p,n(_,y,i+4),c(g,_,A),u=E.byteLength;u--;)E[u]=A[u];for(u=1;u<a;u++)for(n(_,A,A.byteLength),c(g,_,A),h=0;h<E.byteLength;h++)E[h]^=A[h];for(f=Math.min(f,s),u=0;u<f&&!((d=u*l+(p-1))>=m);u++)o[d]=E[u];s-=u}return 0}}},6584:(e,t,r)=>{e.exports={SFTPStream:r(4603),SSH2Stream:r(8654),utils:r(3949),constants:r(2777)}},6604:(e,t,r)=>{var n=r(2613),i=r(8435).Buffer,o=r(894),s=r(3920).newInvalidAsn1Error;function a(e){if(!e||!i.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(a.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(a.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(a.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),a.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},a.prototype.peek=function(){return this.readByte(!0)},a.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128&~t)this._len=t;else{if(0==(t&=127))throw s("Indefinite length not supported");if(t>4)throw s("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}return e},a.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},a.prototype.readInt=function(){return this._readTag(o.Integer)},a.prototype.readBoolean=function(){return 0!==this._readTag(o.Boolean)},a.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)},a.prototype.readString=function(e,t){e||(e=o.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?i.alloc(0):"";var a=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?a:a.toString("utf8")},a.prototype.readOID=function(e){e||(e=o.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var s=255&t[i];n<<=7,n+=127&s,128&s||(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40|0),r.join(".")},a.prototype._readTag=function(e){n.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw s("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var i=this._buf[this._offset],o=0,a=0;a<this.length;a++)o<<=8,o|=255&this._buf[this._offset++];return 128&~i||4===a||(o-=1<<8*a),0|o},e.exports=a},6653:(e,t,r)=>{e.exports=c;var n=r(181).Buffer;c.WritableState=a;var i=r(5945);i.inherits=r(1726);var o=r(2203);function s(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function a(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){r?process.nextTick(function(){i(n)}):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,i);else{var o=f(0,r);o||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],i=n.chunk,o=n.encoding,s=n.callback;if(u(e,t,t.objectMode?1:i.length,i,o,s),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),n?process.nextTick(function(){h(e,r,o,i)}):h(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function c(e){var t=r(7903);if(!(this instanceof c||this instanceof t))return new c(e);this._writableState=new a(e,this),this.writable=!0,o.call(this)}function u(e,t,r,n,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,e._write(n,i,t.onwrite),t.sync=!1}function h(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&l(e,t)}function f(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function l(e,t){var r=f(0,t);return r&&(t.finished=!0,e.emit("finish")),r}i.inherits(c,o),c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},c.prototype.write=function(e,t,r){var i=this._writableState,o=!1;return"function"==typeof t&&(r=t,t=null),n.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=function(){}),i.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick(function(){r(n)})}(this,0,r):function(e,t,r,i){var o=!0;if(!n.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),process.nextTick(function(){i(s)}),o=!1}return o}(this,i,e,r)&&(o=function(e,t,r,i,o){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new n(t,r)),t}(t,r,i),n.isBuffer(r)&&(i="buffer");var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;return c||(t.needDrain=!0),t.writing?t.buffer.push(new s(r,i,o)):u(e,t,a,r,i,o),c}(this,i,e,t,r)),o},c.prototype._write=function(e,t,r){r(new Error("not implemented"))},c.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||function(e,t,r){t.ending=!0,l(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0}(this,n,r)}},6691:(e,t,r)=>{"use strict";const{createFile:n,createFileSync:i}=r(8297),{createLink:o,createLinkSync:s}=r(2735),{createSymlink:a,createSymlinkSync:c}=r(8416);e.exports={createFile:n,createFileSync:i,ensureFile:n,ensureFileSync:i,createLink:o,createLinkSync:s,ensureLink:o,ensureLinkSync:s,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},6776:(e,t,r)=>{e=r.nmd(e);const{execSync:n,spawn:i}=r(5317),o=r(4408),{config:s}=r(3580),a=r(6928),c=(r(857),r(7532)),u={projects:[{name:"my-vue-app",gitUrl:"https://github.com/vgnip/my-vue-app",nodeVersion:"22.15.0",buildCommand:"npm run build",outputDir:"dist",remotePath:"/var/www/project1"}],server:{host:"106.54.233.233",port:22,username:"root",privateKey:r(9896).readFileSync(a.resolve(__dirname,"./key")).toString()},workDir:a.join(process.cwd(),"frontend-builds"),keepTempFiles:!0};class h{constructor(e){this.config={host:e.host,port:e.port||22,username:e.username,password:e.password,privateKey:e.privateKey}}async transferFolder(e,t){return new Promise((r,n)=>{console.log(`: ${e} -> ${this.config.host}:${t}`),c.scp(e,{...this.config,path:t},e=>{e?(console.error(" :",e),n(e)):(console.log(" "),r())})})}async transferWithProgress(e,t){return new Promise((r,n)=>{conn.on("ready",()=>{console.log("SSH "),conn.sftp((i,o)=>{i?n(i):this.uploadFolder(o,e,t,r,n)})}),conn.on("error",e=>{n(e)}),conn.connect(this.config)})}uploadFolder(e,t,r,n,i){if(!o.existsSync(t))return void i(new Error(`: ${t}`));if(!o.statSync(t).isDirectory())return void i(new Error(`: ${t}`));const s=o.readdirSync(t);let c=0;const u=s.length;if(0===u)return console.log(" "),e.end(),void n();function h(){c++;const e=(c/u*100).toFixed(1);console.log(` : ${e}% (${c}/${u})`),c===u&&(console.log(" "),conn.end(),n())}console.log(`  ${u} /`),e.mkdir(r,n=>{n&&4!==n.code&&console.log(`: ${r}`),s.forEach(n=>{const s=a.join(t,n),c=a.join(r,n).replace(/\\/g,"/");o.statSync(s).isDirectory()?this.uploadFolder(e,s,c,()=>h(),i):this.uploadFile(e,s,c,()=>h(),i)})})}uploadFile(e,t,r,n,i){const s=o.createReadStream(t),c=e.createWriteStream(r),u=a.basename(t);console.log(`  : ${u}`),s.pipe(c),c.on("finish",()=>{console.log(` : ${u}`),n()}),c.on("error",e=>{console.error(` : ${u}`,e),i(e)})}checkLocalFolder(e){if(!o.existsSync(e))throw new Error(`: ${e}`);if(!o.statSync(e).isDirectory())throw new Error(`: ${e}`)}}class f{constructor(e){this.config=e}async executeCommand(e,t={}){return new Promise((r,n)=>{const o=i(e,{shell:!0,stdio:"inherit",...t});o.on("close",e=>{0===e?r():n(new Error(`Command failed with exit code ${e}`))}),o.on("error",n)})}createDockerfile(e,t){const r=`\nFROM node:${e.nodeVersion}-alpine\n\nWORKDIR /app\n\n# \nCOPY . .\n\n# \nRUN npm -v\nRUN ${e.buildCommand.includes("yarn")?"yarn install":e.buildCommand.includes("pnpm")?"pnpm install":"npm install"}\nRUN ${e.buildCommand}\n\n# \nRUN echo "#!/bin/sh" > /start.sh && \\\n    echo "cp -r ${e.outputDir}/* /output/" >> /start.sh && \\\n    chmod +x /start.sh\n\nCMD ["/start.sh"]\n    `.trim(),n=a.join(t,"Dockerfile");return o.writeFileSync(n,r),n}async cloneProject(e){const t=a.join(this.config.workDir,e.name);return console.log(` Cloning ${e.name}...`),await o.pathExists(t)&&await o.remove(t),await this.executeCommand(`git clone ${e.gitUrl} ${t}`),t}async buildInDocker(e,t){const r=a.join(this.config.workDir,`${e.name}-output`);await o.pathExists(r)&&await o.remove(r),await o.ensureDir(r),console.log(` Building ${e.name} with Node ${e.nodeVersion}...`),this.createDockerfile(e,t);const n=`frontend-build-${e.name.toLowerCase()}`;return await this.executeCommand(`docker build -t ${n} ${t}`,{cwd:t}),await this.executeCommand(`docker run --rm -v ${r}:/output ${n}`),await this.executeCommand(`docker rmi ${n}`),r}async uploadToServer(e,t){const{Client:n}=r(1635),i=new n;return console.log(` Uploading ${e.name} to server...`),new Promise((r,n)=>{i.on("ready",()=>{i.sftp((o,s)=>{o?n(o):(console.log("buildOutputPath---",t),this.uploadDirectory(s,t,e.remotePath).then(()=>{i.end(),r()}).catch(n))})}).on("error",n),i.connect(this.config.server)})}async uploadDirectory(e,t,r){const n=await o.readdir(t);for(const i of n){const n=a.join(t,i),s=a.join(r,i).replace(/\\/g,"/");(await o.stat(n)).isDirectory()?(await this.ensureRemoteDirectory(e,s),await this.uploadDirectory(e,n,s)):(await new Promise((t,r)=>{e.fastPut(n,s,e=>{e?r(e):t()})}),console.log(`   Uploaded: ${s}`))}}async ensureRemoteDirectory(e,t){return new Promise((r,n)=>{e.mkdir(t,e=>{e&&4!==e.code?n(e):r()})})}async buildProject(e){try{console.log(`\n Starting build for ${e.name}...`);const t=await this.cloneProject(e),r=await this.buildInDocker(e,t);return async function(e,t){const r=new h(s);e=e||"./frontend-builds/my-vue-app-output",t=t||"/aaa";try{r.checkLocalFolder(e),console.log("  SFTP ..."),await r.transferWithProgress(e,t)}catch(e){console.error(" :",e.message)}}(r,e.remotePath),this.config.keepTempFiles||(await o.remove(t),await o.remove(r)),!0}catch(t){return console.error(` Failed to build ${e.name}:`,t.message),!1}}async buildAll(){console.log(" Starting build process for all projects...\n"),await o.ensureDir(this.config.workDir);const e=[];for(const t of this.config.projects){const r=await this.buildProject(t);e.push({project:t.name,success:r})}console.log("\n Build Summary:"),e.forEach(e=>{console.log(`  ${e.success?"":""} ${e.project}`)}),this.config.keepTempFiles||await o.remove(this.config.workDir);const t=e.every(e=>e.success);return console.log(t?"\n All projects built successfully!":"\n Some projects failed to build."),t}}r.c[r.s]===e&&async function(){try{n("docker --version",{stdio:"ignore"})}catch(e){console.error(" Docker is not available. Please install Docker first."),process.exit(1)}const e=new f(u),t=process.argv[2];if(t){const r=u.projects.find(e=>e.name===t);r?await e.buildProject(r):(console.error(` Project "${t}" not found in config.`),process.exit(1))}else{const t=await e.buildAll();process.exit(t?0:1)}}().catch(e=>{console.error(" Fatal error:",e),process.exit(1)}),e.exports=f},6812:(e,t,r)=>{"use strict";const n=r(2581).fromPromise;e.exports={move:n(r(87)),moveSync:r(5999)}},6820:function(e,t,r){var n;e=r.nmd(e),function(){var i,o=200,s="Expected a function",a="__lodash_hash_undefined__",c="__lodash_placeholder__",u=32,h=128,f=1/0,l=9007199254740991,d=NaN,p=4294967295,g="[object Arguments]",_="[object Array]",E="[object Boolean]",A="[object Date]",y="[object Error]",m="[object Function]",w="[object GeneratorFunction]",v="[object Map]",b="[object Number]",I="[object Object]",S="[object Promise]",B="[object RegExp]",k="[object Set]",C="[object String]",R="[object Symbol]",N="[object WeakMap]",U="[object ArrayBuffer]",T="[object DataView]",O="[object Float32Array]",L="[object Float64Array]",D="[object Int8Array]",P="[object Int16Array]",x="[object Int32Array]",H="[object Uint8Array]",Q="[object Uint8ClampedArray]",F="[object Uint16Array]",M="[object Uint32Array]",K=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39|#96);/g,j=/[&<>"'`]/g,$=RegExp(q.source),Y=RegExp(j.source),X=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+|\s+$/g,ie=/^\s+/,oe=/\s+$/,se=/[a-zA-Z0-9]+/g,ae=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ue=/\w*$/,he=/^0x/i,fe=/^[-+]0x[0-9a-f]+$/i,le=/^0b[01]+$/i,de=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ee=/($^)/,Ae=/['\n\r\u2028\u2029\\]/g,ye="\\ud800-\\udfff",me="\\u0300-\\u036f\\ufe20-\\ufe23",we="\\u20d0-\\u20f0",ve="\\u2700-\\u27bf",be="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",Be="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="["+ye+"]",Ce="["+Be+"]",Re="["+me+we+"]",Ne="\\d+",Ue="["+ve+"]",Te="["+be+"]",Oe="[^"+ye+Be+Ne+ve+be+Ie+"]",Le="\\ud83c[\\udffb-\\udfff]",De="[^"+ye+"]",Pe="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ie+"]",Qe="\\u200d",Fe="(?:"+Te+"|"+Oe+")",Me="(?:"+He+"|"+Oe+")",Ke="(?:['](?:d|ll|m|re|s|t|ve))?",We="(?:['](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Re+"|"+Le+")?",qe="["+Se+"]?",je=qe+Ge+"(?:"+Qe+"(?:"+[De,Pe,xe].join("|")+")"+qe+Ge+")*",$e="(?:"+[Ue,Pe,xe].join("|")+")"+je,Ye="(?:"+[De+Re+"?",Re,Pe,xe,ke].join("|")+")",Xe=RegExp("[']","g"),ze=RegExp(Re,"g"),Ve=RegExp(Le+"(?="+Le+")|"+Ye+je,"g"),Je=RegExp([He+"?"+Te+"+"+Ke+"(?="+[Ce,He,"$"].join("|")+")",Me+"+"+We+"(?="+[Ce,He+Fe,"$"].join("|")+")",He+"?"+Fe+"+"+Ke,He+"+"+We,Ne,$e].join("|"),"g"),Ze=RegExp("["+Qe+ye+me+we+Se+"]"),et=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,nt={};nt[O]=nt[L]=nt[D]=nt[P]=nt[x]=nt[H]=nt[Q]=nt[F]=nt[M]=!0,nt[g]=nt[_]=nt[U]=nt[E]=nt[T]=nt[A]=nt[y]=nt[m]=nt[v]=nt[b]=nt[I]=nt[B]=nt[k]=nt[C]=nt[N]=!1;var it={};it[g]=it[_]=it[U]=it[T]=it[E]=it[A]=it[O]=it[L]=it[D]=it[P]=it[x]=it[v]=it[b]=it[I]=it[B]=it[k]=it[C]=it[R]=it[H]=it[Q]=it[F]=it[M]=!0,it[y]=it[m]=it[N]=!1;var ot={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss"},st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},at={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},ct={function:!0,object:!0},ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,ft=parseInt,lt=ct[typeof t]&&t&&!t.nodeType?t:i,dt=ct.object&&e&&!e.nodeType?e:i,pt=dt&&dt.exports===lt?lt:i,gt=$t(lt&&dt&&"object"==typeof global&&global),_t=$t(ct[typeof self]&&self),Et=$t(ct[typeof window]&&window),At=$t(ct[typeof this]&&this),yt=gt||Et!==(At&&At.window)&&Et||_t||At||Function("return this")();function mt(e,t){return e.set(t[0],t[1]),e}function wt(e,t){return e.add(t),e}function vt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function bt(e,t,r,n){for(var i=-1,o=e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function It(e,t){for(var r=-1,n=e.length;++r<n&&!1!==t(e[r],r,e););return e}function St(e,t){for(var r=-1,n=e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Bt(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function kt(e,t){return!!e.length&&Pt(e,t,0)>-1}function Ct(e,t,r){for(var n=-1,i=e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Rt(e,t){for(var r=-1,n=e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Nt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Ut(e,t,r,n){var i=-1,o=e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Tt(e,t,r,n){var i=e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Ot(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Lt(e,t,r,n){var i;return r(e,function(e,r,o){if(t(e,r,o))return i=n?r:e,!1}),i}function Dt(e,t,r){for(var n=e.length,i=r?n:-1;r?i--:++i<n;)if(t(e[i],i,e))return i;return-1}function Pt(e,t,r){if(t!=t)return Vt(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function xt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Ht(e,t){var r=e?e.length:0;return r?Ft(e,t)/r:d}function Qt(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}function Ft(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function Mt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Kt(e,t){return Rt(t,function(t){return[t,e[t]]})}function Wt(e){return function(t){return e(t)}}function Gt(e,t){return Rt(t,function(t){return e[t]})}function qt(e,t){for(var r=-1,n=e.length;++r<n&&Pt(t,e[r],0)>-1;);return r}function jt(e,t){for(var r=e.length;r--&&Pt(t,e[r],0)>-1;);return r}function $t(e){return e&&e.Object===Object?e:null}function Yt(e){return ot[e]}function Xt(e){return st[e]}function zt(e){return"\\"+ut[e]}function Vt(e,t,r){for(var n=e.length,i=t+(r?0:-1);r?i--:++i<n;){var o=e[i];if(o!=o)return i}return-1}function Jt(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Zt(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function er(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function tr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==c||(e[r]=c,o[i++]=r)}return o}function rr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function nr(e){if(!e||!Ze.test(e))return e.length;for(var t=Ve.lastIndex=0;Ve.test(e);)t++;return t}function ir(e){return e.match(Ve)}function or(e){return at[e]}var sr=function e(t){var r=(t=t?sr.defaults({},t,sr.pick(yt,tt)):yt).Date,n=t.Error,ye=t.Math,me=t.RegExp,we=t.TypeError,ve=t.Array.prototype,be=t.Object.prototype,Ie=t.String.prototype,Se=t.Function.prototype.toString,Be=be.hasOwnProperty,ke=0,Ce=Se.call(Object),Re=be.toString,Ne=yt._,Ue=me("^"+Se.call(Be).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=pt?t.Buffer:i,Oe=t.Reflect,Le=t.Symbol,De=t.Uint8Array,Pe=t.clearTimeout,xe=Oe?Oe.enumerate:i,He=Object.getOwnPropertySymbols,Qe="symbol"==typeof(Qe=Le&&Le.iterator)?Qe:i,Fe=Object.create,Me=be.propertyIsEnumerable,Ke=t.setTimeout,We=ve.splice,Ge=ye.ceil,qe=ye.floor,je=Object.getPrototypeOf,$e=t.isFinite,Ye=ve.join,Ve=Object.keys,ot=ye.max,st=ye.min,at=t.parseInt,ct=ye.random,ut=Ie.replace,lt=ve.reverse,dt=Ie.split,gt=Si(t,"DataView"),_t=Si(t,"Map"),Et=Si(t,"Promise"),At=Si(t,"Set"),$t=Si(t,"WeakMap"),ar=Si(Object,"create"),cr=$t&&new $t,ur=!Me.call({valueOf:1},"valueOf"),hr={},fr=zi(gt),lr=zi(_t),dr=zi(Et),pr=zi(At),gr=zi($t),_r=Le?Le.prototype:i,Er=_r?_r.valueOf:i,Ar=_r?_r.toString:i;function yr(e){if(fs(e)&&!rs(e)&&!(e instanceof vr)){if(e instanceof wr)return e;if(Be.call(e,"__wrapped__"))return Vi(e)}return new wr(e)}function mr(){}function wr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function vr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function br(){}function Ir(e,t){return ar?e[t]!==i:Be.call(e,t)}function Sr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Br(e){var t=-1,r=e?e.length:0;for(this.__data__=new Sr;++t<r;)this.push(e[t])}function kr(e,t){var r=e.__data__;if(Hi(t)){var n=r.__data__;return("string"==typeof t?n.string:n.hash)[t]===a}return r.has(t)}function Cr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Rr(e,t){var r=Tr(e,t);return!(r<0||(r==e.length-1?e.pop():We.call(e,r,1),0))}function Nr(e,t){var r=Tr(e,t);return r<0?i:e[r][1]}function Ur(e,t){return Tr(e,t)>-1}function Tr(e,t){for(var r=e.length;r--;)if(Jo(e[r][0],t))return r;return-1}function Or(e,t,r){var n=Tr(e,t);n<0?e.push([t,r]):e[n][1]=r}function Lr(e,t,r,n){return e===i||Jo(e,be[r])&&!Be.call(n,r)?t:e}function Dr(e,t,r){(r!==i&&!Jo(e[t],r)||"number"==typeof t&&r===i&&!(t in e))&&(e[t]=r)}function Pr(e,t,r){var n=e[t];Be.call(e,t)&&Jo(n,r)&&(r!==i||t in e)||(e[t]=r)}function xr(e,t,r,n){return qr(e,function(e,i,o){t(n,e,r(e),o)}),n}function Hr(e,t){return e&&Jn(t,Qs(t),e)}function Qr(e,t){for(var r=-1,n=null==e,o=t.length,s=Array(o);++r<o;)s[r]=n?i:Ls(e,t[r]);return s}function Fr(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function Mr(e,t,r,n,o,s,a){var c;if(n&&(c=s?n(e,o,s,a):n(e)),c!==i)return c;if(!hs(e))return e;var u=rs(e);if(u){if(c=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&Be.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return Vn(e,c)}else{var h=Ni(e),f=h==m||h==w;if(os(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(h==I||h==g||f&&!s){if(Jt(e))return s?e:{};if(c=function(e){return"function"!=typeof e.constructor||Fi(e)?{}:Kr(ki(e))}(f?{}:e),!t)return function(e,t){return Jn(e,Ci(e),t)}(e,Hr(c,e))}else{if(!it[h])return s?e:{};c=function(e,t,r,n){var i,o=e.constructor;switch(t){case U:return $n(e);case E:case A:return new o(+e);case T:return function(e,t){var r=t?$n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case O:case L:case D:case P:case x:case H:case Q:case F:case M:return function(e,t){var r=t?$n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case v:return function(e,t,r){return Ut(t?r(er(e),!0):er(e),mt,new e.constructor)}(e,n,r);case b:case C:return new o(e);case B:return function(e){var t=new e.constructor(e.source,ue.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return function(e,t,r){return Ut(t?r(rr(e),!0):rr(e),wt,new e.constructor)}(e,n,r);case R:return i=e,Er?Object(Er.call(i)):{}}}(e,h,Mr,t)}}a||(a=new Cr);var l=a.get(e);if(l)return l;if(a.set(e,c),!u)var d=r?function(e){return nn(e,Qs,Ci)}(e):Qs(e);return It(d||e,function(i,o){d&&(i=e[o=i]),Pr(c,o,Mr(i,t,r,n,o,e,a))}),c}function Kr(e){return hs(e)?Fe(e):{}}function Wr(e,t,r){if("function"!=typeof e)throw new we(s);return Ke(function(){e.apply(i,r)},t)}function Gr(e,t,r,n){var i=-1,s=kt,a=!0,c=e.length,u=[],h=t.length;if(!c)return u;r&&(t=Rt(t,Wt(r))),n?(s=Ct,a=!1):t.length>=o&&(s=kr,a=!1,t=new Br(t));e:for(;++i<c;){var f=e[i],l=r?r(f):f;if(f=n||0!==f?f:0,a&&l==l){for(var d=h;d--;)if(t[d]===l)continue e;u.push(f)}else s(t,l,n)||u.push(f)}return u}yr.templateSettings={escape:X,evaluate:z,interpolate:V,variable:"",imports:{_:yr}},yr.prototype=mr.prototype,yr.prototype.constructor=yr,wr.prototype=Kr(mr.prototype),wr.prototype.constructor=wr,vr.prototype=Kr(mr.prototype),vr.prototype.constructor=vr,br.prototype=ar?ar(null):be,Sr.prototype.clear=function(){this.__data__={hash:new br,map:_t?new _t:[],string:new br}},Sr.prototype.delete=function(e){var t=this.__data__;return Hi(e)?function(e,t){return Ir(e,t)&&delete e[t]}("string"==typeof e?t.string:t.hash,e):_t?t.map.delete(e):Rr(t.map,e)},Sr.prototype.get=function(e){var t=this.__data__;return Hi(e)?function(e,t){if(ar){var r=e[t];return r===a?i:r}return Be.call(e,t)?e[t]:i}("string"==typeof e?t.string:t.hash,e):_t?t.map.get(e):Nr(t.map,e)},Sr.prototype.has=function(e){var t=this.__data__;return Hi(e)?Ir("string"==typeof e?t.string:t.hash,e):_t?t.map.has(e):Ur(t.map,e)},Sr.prototype.set=function(e,t){var r=this.__data__;return Hi(e)?function(e,t,r){e[t]=ar&&r===i?a:r}("string"==typeof e?r.string:r.hash,e,t):_t?r.map.set(e,t):Or(r.map,e,t),this},Br.prototype.push=function(e){var t=this.__data__;if(Hi(e)){var r=t.__data__;("string"==typeof e?r.string:r.hash)[e]=a}else t.set(e,a)},Cr.prototype.clear=function(){this.__data__={array:[],map:null}},Cr.prototype.delete=function(e){var t=this.__data__,r=t.array;return r?Rr(r,e):t.map.delete(e)},Cr.prototype.get=function(e){var t=this.__data__,r=t.array;return r?Nr(r,e):t.map.get(e)},Cr.prototype.has=function(e){var t=this.__data__,r=t.array;return r?Ur(r,e):t.map.has(e)},Cr.prototype.set=function(e,t){var r=this.__data__,n=r.array;n&&(n.length<199?Or(n,e,t):(r.array=null,r.map=new Sr(n)));var i=r.map;return i&&i.set(e,t),this};var qr=ti(Zr),jr=ti(en,!0);function $r(e,t){var r=!0;return qr(e,function(e,n,i){return r=!!t(e,n,i)}),r}function Yr(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(c===i?a==a&&!Es(a):r(a,c)))var c=a,u=s}return u}function Xr(e,t){var r=[];return qr(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function zr(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=Oi),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?zr(a,t-1,r,n,i):Nt(i,a):n||(i[i.length]=a)}return i}var Vr=ri(),Jr=ri(!0);function Zr(e,t){return e&&Vr(e,t,Qs)}function en(e,t){return e&&Jr(e,t,Qs)}function tn(e,t){return Bt(t,function(t){return as(e[t])})}function rn(e,t){for(var r=0,n=(t=xi(t,e)?[t]:qn(t)).length;null!=e&&r<n;)e=e[Xi(t[r++])];return r&&r==n?e:i}function nn(e,t,r){var n=t(e);return rs(e)?n:Nt(n,r(e))}function on(e,t){return e>t}function sn(e,t){return Be.call(e,t)||"object"==typeof e&&t in e&&null===ki(e)}function an(e,t){return t in Object(e)}function cn(e,t,r){for(var n=r?Ct:kt,o=e[0].length,s=e.length,a=s,c=Array(s),u=1/0,h=[];a--;){var f=e[a];a&&t&&(f=Rt(f,Wt(t))),u=st(f.length,u),c[a]=!r&&(t||o>=120&&f.length>=120)?new Br(a&&f):i}f=e[0];var l=-1,d=c[0];e:for(;++l<o&&h.length<u;){var p=f[l],g=t?t(p):p;if(p=r||0!==p?p:0,!(d?kr(d,g):n(h,g,r))){for(a=s;--a;){var _=c[a];if(!(_?kr(_,g):n(e[a],g,r)))continue e}d&&d.push(g),h.push(p)}}return h}function un(e,t,r){xi(t,e)||(e=Gi(e,t=qn(t)),t=ao(t));var n=null==e?e:e[Xi(t)];return null==n?i:vt(n,e,r)}function hn(e,t,r,n,o){return e===t||(null==e||null==t||!hs(e)&&!fs(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var a=rs(e),c=rs(t),u=_,h=_;a||(u=(u=Ni(e))==g?I:u),c||(h=(h=Ni(t))==g?I:h);var f=u==I&&!Jt(e),l=h==I&&!Jt(t),d=u==h;if(d&&!f)return s||(s=new Cr),a||As(e)?Ai(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case U:return!(e.byteLength!=t.byteLength||!n(new De(e),new De(t)));case E:case A:return+e==+t;case y:return e.name==t.name&&e.message==t.message;case b:return e!=+e?t!=+t:e==+t;case B:case C:return e==t+"";case v:var a=er;case k:var c=2&o;if(a||(a=rr),e.size!=t.size&&!c)return!1;var u=s.get(e);return u?u==t:(o|=1,s.set(e,t),Ai(a(e),a(t),n,i,o,s));case R:if(Er)return Er.call(e)==Er.call(t)}return!1}(e,t,u,r,n,o,s);if(!(2&o)){var p=f&&Be.call(e,"__wrapped__"),m=l&&Be.call(t,"__wrapped__");if(p||m){var w=p?e.value():e,S=m?t.value():t;return s||(s=new Cr),r(w,S,n,o,s)}}return!!d&&(s||(s=new Cr),function(e,t,r,n,o,s){var a=2&o,c=Qs(e),u=c.length;if(u!=Qs(t).length&&!a)return!1;for(var h=u;h--;){var f=c[h];if(!(a?f in t:sn(t,f)))return!1}var l=s.get(e);if(l)return l==t;var d=!0;s.set(e,t);for(var p=a;++h<u;){var g=e[f=c[h]],_=t[f];if(n)var E=a?n(_,g,f,t,e,s):n(g,_,f,e,t,s);if(!(E===i?g===_||r(g,_,n,o,s):E)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var A=e.constructor,y=t.constructor;A==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof y&&y instanceof y||(d=!1)}return s.delete(e),d}(e,t,r,n,o,s))}(e,t,hn,r,n,o))}function fn(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=Object(e);o--;){var c=r[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=r[o])[0],h=e[u],f=c[1];if(a&&c[2]){if(h===i&&!(u in e))return!1}else{var l=new Cr;if(n)var d=n(h,f,u,e,t,l);if(!(d===i?hn(f,h,n,3,l):d))return!1}}return!0}function ln(e){return"function"==typeof e?e:null==e?ha:"object"==typeof e?rs(e)?En(e[0],e[1]):_n(e):ya(e)}function dn(e){e=null==e?e:Object(e);var t=[];for(var r in e)t.push(r);return t}function pn(e,t){return e<t}function gn(e,t){var r=-1,n=ns(e)?Array(e.length):[];return qr(e,function(e,i,o){n[++r]=t(e,i,o)}),n}function _n(e){var t=Ii(e);return 1==t.length&&t[0][2]?Ki(t[0][0],t[0][1]):function(r){return r===e||fn(r,e,t)}}function En(e,t){return xi(e)&&Mi(t)?Ki(Xi(e),t):function(r){var n=Ls(r,e);return n===i&&n===t?Ds(r,e):hn(t,n,i,3)}}function An(e,t,r,n,o){if(e!==t){if(!rs(t)&&!As(t))var s=Fs(t);It(s||t,function(a,c){if(s&&(a=t[c=a]),hs(a))o||(o=new Cr),function(e,t,r,n,o,s,a){var c=e[r],u=t[r],h=a.get(u);if(h)Dr(e,r,h);else{var f=s?s(c,u,r+"",e,t,a):i,l=f===i;l&&(f=u,rs(u)||As(u)?rs(c)?f=c:is(c)?f=Vn(c):(l=!1,f=Mr(u,!0)):ps(u)||ts(u)?ts(c)?f=Ss(c):!hs(c)||n&&as(c)?(l=!1,f=Mr(u,!0)):f=c:l=!1),a.set(u,f),l&&o(f,u,n,s,a),a.delete(u),Dr(e,r,f)}}(e,t,c,r,An,n,o);else{var u=n?n(e[c],a,c+"",e,t,o):i;u===i&&(u=a),Dr(e,c,u)}})}}function yn(e,t){var r=e.length;if(r)return Di(t+=t<0?r:0,r)?e[t]:i}function mn(e,t,r){var n=-1;t=Rt(t.length?t:[ha],Wt(vi()));var i=gn(e,function(e,r,i){var o=Rt(t,function(t){return t(e)});return{criteria:o,index:++n,value:e}});return function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var c=Yn(i[n],o[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)});t--;)e[t]=e[t].value;return e}(i)}function wn(e,t){return e=Object(e),Ut(t,function(t,r){return r in e&&(t[r]=e[r]),t},{})}function vn(e,t){for(var r=-1,n=yi(e),i=n.length,o={};++r<i;){var s=n[r],a=e[s];t(a,s)&&(o[s]=a)}return o}function bn(e){return function(t){return null==t?i:t[e]}}function In(e,t,r,n){var i=n?xt:Pt,o=-1,s=t.length,a=e;for(r&&(a=Rt(e,Wt(r)));++o<s;)for(var c=0,u=t[o],h=r?r(u):u;(c=i(a,h,c,n))>-1;)a!==e&&We.call(a,c,1),We.call(e,c,1);return e}function Sn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;if(Di(i))We.call(e,i,1);else if(xi(i,e))delete e[Xi(i)];else{var s=qn(i),a=Gi(e,s);null!=a&&delete a[Xi(ao(s))]}}}return e}function Bn(e,t){return e+qe(ct()*(t-e+1))}function kn(e,t){var r="";if(!e||t<1||t>l)return r;do{t%2&&(r+=e),(t=qe(t/2))&&(e+=e)}while(t);return r}function Cn(e,t,r,n){for(var o=-1,s=(t=xi(t,e)?[t]:qn(t)).length,a=s-1,c=e;null!=c&&++o<s;){var u=Xi(t[o]);if(hs(c)){var h=r;if(o!=a){var f=c[u];(h=n?n(f,u,c):i)===i&&(h=null==f?Di(t[o+1])?[]:{}:f)}Pr(c,u,h)}c=c[u]}return e}xe&&!Me.call({valueOf:1},"valueOf")&&(dn=function(e){return Zt(xe(e))});var Rn=cr?function(e,t){return cr.set(e,t),e}:ha;function Nn(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function Un(e,t){var r;return qr(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function Tn(e,t,r){var n=0,i=e?e.length:n;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!Es(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return On(e,t,ha,r)}function On(e,t,r,n){t=r(t);for(var o=0,s=e?e.length:0,a=t!=t,c=null===t,u=Es(t),h=t===i;o<s;){var f=qe((o+s)/2),l=r(e[f]),d=l!==i,p=null===l,g=l==l,_=Es(l);if(a)var E=n||g;else E=h?g&&(n||d):c?g&&d&&(n||!p):u?g&&d&&!p&&(n||!_):!p&&!_&&(n?l<=t:l<t);E?o=f+1:s=f}return st(s,4294967294)}function Ln(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Jo(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function Dn(e){return"number"==typeof e?e:Es(e)?d:+e}function Pn(e){if("string"==typeof e)return e;if(Es(e))return Ar?Ar.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function xn(e,t,r){var n=-1,i=kt,s=e.length,a=!0,c=[],u=c;if(r)a=!1,i=Ct;else if(s>=o){var h=t?null:_i(e);if(h)return rr(h);a=!1,i=kr,u=new Br}else u=t?[]:c;e:for(;++n<s;){var f=e[n],l=t?t(f):f;if(f=r||0!==f?f:0,a&&l==l){for(var d=u.length;d--;)if(u[d]===l)continue e;t&&u.push(l),c.push(f)}else i(u,l,r)||(u!==c&&u.push(l),c.push(f))}return c}function Hn(e,t,r,n){return Cn(e,t,r(rn(e,t)),n)}function Qn(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?Nn(e,n?0:o,n?o+1:i):Nn(e,n?o+1:0,n?i:o)}function Fn(e,t){var r=e;return r instanceof vr&&(r=r.value()),Ut(t,function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))},r)}function Mn(e,t,r){for(var n=-1,i=e.length;++n<i;)var o=o?Nt(Gr(o,e[n],t,r),Gr(e[n],o,t,r)):e[n];return o&&o.length?xn(o,t,r):[]}function Kn(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var c=n<s?t[n]:i;r(a,e[n],c)}return a}function Wn(e){return is(e)?e:[]}function Gn(e){return"function"==typeof e?e:ha}function qn(e){return rs(e)?e:Yi(e)}function jn(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:Nn(e,t,r)}function $n(e){var t=new e.constructor(e.byteLength);return new De(t).set(new De(e)),t}function Yn(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,s=Es(e),a=t!==i,c=null===t,u=t==t,h=Es(t);if(!c&&!h&&!s&&e>t||s&&a&&u&&!c&&!h||n&&a&&u||!r&&u||!o)return 1;if(!n&&!s&&!h&&e<t||h&&r&&o&&!n&&!s||c&&r&&o||!a&&o||!u)return-1}return 0}function Xn(e,t,r,n){for(var i=-1,o=e.length,s=r.length,a=-1,c=t.length,u=ot(o-s,0),h=Array(c+u),f=!n;++a<c;)h[a]=t[a];for(;++i<s;)(f||i<o)&&(h[r[i]]=e[i]);for(;u--;)h[a++]=e[i++];return h}function zn(e,t,r,n){for(var i=-1,o=e.length,s=-1,a=r.length,c=-1,u=t.length,h=ot(o-a,0),f=Array(h+u),l=!n;++i<h;)f[i]=e[i];for(var d=i;++c<u;)f[d+c]=t[c];for(;++s<a;)(l||i<o)&&(f[d+r[s]]=e[i++]);return f}function Vn(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function Jn(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i];Pr(r,s,n?n(r[s],e[s],s,r,e):e[s])}return r}function Zn(e,t){return function(r,n){var i=rs(r)?bt:xr,o=t?t():{};return i(r,e,vi(n),o)}}function ei(e){return zo(function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s="function"==typeof s?(o--,s):i,a&&Pi(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,s)}return t})}function ti(e,t){return function(r,n){if(null==r)return r;if(!ns(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function ri(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===r(o[c],c,o))break}return t}}function ni(e){return function(t){t=Bs(t);var r=Ze.test(t)?ir(t):i,n=r?r[0]:t.charAt(0),o=r?jn(r,1).join(""):t.slice(1);return n[e]()+o}}function ii(e){return function(t){return Ut(ia(zs(t).replace(Xe,"")),e,"")}}function oi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Kr(e.prototype),n=e.apply(r,t);return hs(n)?n:r}}function si(e){return zo(function(t){var r=(t=zr(t,1)).length,n=r,a=wr.prototype.thru;for(e&&t.reverse();n--;){var c=t[n];if("function"!=typeof c)throw new we(s);if(a&&!u&&"wrapper"==wi(c))var u=new wr([],!0)}for(n=u?n:r;++n<r;){var h=wi(c=t[n]),f="wrapper"==h?mi(c):i;u=f&&Qi(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?u[wi(f[0])].apply(u,f[3]):1==c.length&&Qi(c)?u[h]():u.thru(c)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&rs(n)&&n.length>=o)return u.plant(n).value();for(var i=0,s=r?t[i].apply(this,e):n;++i<r;)s=t[i].call(this,s);return s}})}function ai(e,t,r,n,o,s,a,c,u,f){var l=t&h,d=1&t,p=2&t,g=24&t,_=512&t,E=p?i:oi(e);return function h(){for(var A=arguments.length,y=A,m=Array(A);y--;)m[y]=arguments[y];if(g)var w=Bi(h),v=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}(m,w);if(n&&(m=Xn(m,n,o,g)),s&&(m=zn(m,s,a,g)),A-=v,g&&A<f){var b=tr(m,w);return pi(e,t,ai,h.placeholder,r,m,b,c,u,f-A)}var I=d?r:this,S=p?I[e]:e;return A=m.length,c?m=function(e,t){for(var r=e.length,n=st(t.length,r),o=Vn(e);n--;){var s=t[n];e[n]=Di(s,r)?o[s]:i}return e}(m,c):_&&A>1&&m.reverse(),l&&u<A&&(m.length=u),this&&this!==yt&&this instanceof h&&(S=E||oi(S)),S.apply(I,m)}}function ci(e,t){return function(r,n){return function(e,t,r,n){return Zr(e,function(e,i,o){t(n,r(e),i,o)}),n}(r,e,t(n),{})}}function ui(e){return function(t,r){var n;if(t===i&&r===i)return 0;if(t!==i&&(n=t),r!==i){if(n===i)return r;"string"==typeof t||"string"==typeof r?(t=Pn(t),r=Pn(r)):(t=Dn(t),r=Dn(r)),n=e(t,r)}return n}}function hi(e){return zo(function(t){return t=1==t.length&&rs(t[0])?Rt(t[0],Wt(vi())):Rt(zr(t,1,Li),Wt(vi())),zo(function(r){var n=this;return e(t,function(e){return vt(e,n,r)})})})}function fi(e,t){var r=(t=t===i?" ":Pn(t)).length;if(r<2)return r?kn(t,e):t;var n=kn(t,Ge(e/nr(t)));return Ze.test(t)?jn(ir(n),0,e).join(""):n.slice(0,e)}function li(e){return function(t,r,n){return n&&"number"!=typeof n&&Pi(t,r,n)&&(r=n=i),t=(t=Is(t))==t?t:0,r===i?(r=t,t=0):r=Is(r)||0,function(e,t,r,n){for(var i=-1,o=ot(Ge((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=e,e+=r;return s}(t,r,n=n===i?t<r?1:-1:Is(n)||0,e)}}function di(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Is(t),r=Is(r)),e(t,r)}}function pi(e,t,r,n,o,s,a,c,h,f){var l=8&t;t|=l?u:64,4&(t&=~(l?64:u))||(t&=-4);var d=[e,t,o,l?s:i,l?a:i,l?i:s,l?i:a,c,h,f],p=r.apply(i,d);return Qi(e)&&$i(p,d),p.placeholder=n,p}function gi(e){var t=ye[e];return function(e,r){if(e=Is(e),r=vs(r)){var n=(Bs(e)+"e").split("e");return+((n=(Bs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var _i=At&&1/rr(new At([,-0]))[1]==f?function(e){return new At(e)}:ga;function Ei(e,t,r,n,o,a,f,l){var d=2&t;if(!d&&"function"!=typeof e)throw new we(s);var p=n?n.length:0;if(p||(t&=-97,n=o=i),f=f===i?f:ot(vs(f),0),l=l===i?l:vs(l),p-=o?o.length:0,64&t){var g=n,_=o;n=o=i}var E=d?i:mi(e),A=[e,t,r,n,o,g,_,a,f,l];if(E&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==h&&8==r||n==h&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var a=t[3];if(a){var u=e[3];e[3]=u?Xn(u,a,t[4]):a,e[4]=u?tr(e[3],c):t[4]}(a=t[5])&&(u=e[5],e[5]=u?zn(u,a,t[6]):a,e[6]=u?tr(e[5],c):t[6]),(a=t[7])&&(e[7]=a),n&h&&(e[8]=null==e[8]?t[8]:st(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(A,E),e=A[0],t=A[1],r=A[2],n=A[3],o=A[4],!(l=A[9]=null==A[9]?d?0:e.length:ot(A[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,r){var n=oi(e);return function o(){for(var s=arguments.length,a=Array(s),c=s,u=Bi(o);c--;)a[c]=arguments[c];var h=s<3&&a[0]!==u&&a[s-1]!==u?[]:tr(a,u);return(s-=h.length)<r?pi(e,t,ai,o.placeholder,i,a,h,i,i,r-s):vt(this&&this!==yt&&this instanceof o?n:e,this,a)}}(e,t,l):t!=u&&33!=t||o.length?ai.apply(i,A):function(e,t,r,n){var i=1&t,o=oi(e);return function t(){for(var s=-1,a=arguments.length,c=-1,u=n.length,h=Array(u+a),f=this&&this!==yt&&this instanceof t?o:e;++c<u;)h[c]=n[c];for(;a--;)h[c++]=arguments[++s];return vt(f,i?r:this,h)}}(e,t,r,n);else var y=function(e,t,r){var n=1&t,i=oi(e);return function t(){return(this&&this!==yt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return(E?Rn:$i)(y,A)}function Ai(e,t,r,n,o,s){var a=-1,c=2&o,u=1&o,h=e.length,f=t.length;if(h!=f&&!(c&&f>h))return!1;var l=s.get(e);if(l)return l==t;var d=!0;for(s.set(e,t);++a<h;){var p=e[a],g=t[a];if(n)var _=c?n(g,p,a,t,e,s):n(p,g,a,e,t,s);if(_!==i){if(_)continue;d=!1;break}if(u){if(!Ot(t,function(e){return p===e||r(p,e,n,o,s)})){d=!1;break}}else if(p!==g&&!r(p,g,n,o,s)){d=!1;break}}return s.delete(e),d}function yi(e){return nn(e,Fs,Ri)}var mi=cr?function(e){return cr.get(e)}:ga;function wi(e){for(var t=e.name+"",r=hr[t],n=Be.call(hr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function vi(){var e=yr.iteratee||fa;return e=e===fa?ln:e,arguments.length?e(arguments[0],arguments[1]):e}var bi=bn("length");function Ii(e){for(var t=qs(e),r=t.length;r--;)t[r][2]=Mi(t[r][1]);return t}function Si(e,t){var r=e[t];return ls(r)?r:i}function Bi(e){return(Be.call(yr,"placeholder")?yr:e).placeholder}function ki(e){return je(Object(e))}function Ci(e){return He(Object(e))}He||(Ci=function(){return[]});var Ri=He?function(e){for(var t=[];e;)Nt(t,Ci(e)),e=ki(e);return t}:Ci;function Ni(e){return Re.call(e)}function Ui(e,t,r){for(var n,i=-1,o=(t=xi(t,e)?[t]:qn(t)).length;++i<o;){var s=Xi(t[i]);if(!(n=null!=e&&r(e,s)))break;e=e[s]}return n||!!(o=e?e.length:0)&&us(o)&&Di(s,o)&&(rs(e)||_s(e)||ts(e))}function Ti(e){var t=e?e.length:i;return us(t)&&(rs(e)||_s(e)||ts(e))?Mt(t,String):null}function Oi(e){return is(e)&&(rs(e)||ts(e))}function Li(e){return rs(e)&&!(2==e.length&&!as(e[0]))}function Di(e,t){return!!(t=null==t?l:t)&&("number"==typeof e||ge.test(e))&&e>-1&&e%1==0&&e<t}function Pi(e,t,r){if(!hs(r))return!1;var n=typeof t;return!!("number"==n?ns(r)&&Di(t,r.length):"string"==n&&t in r)&&Jo(r[t],e)}function xi(e,t){if(rs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Es(e))||Z.test(e)||!J.test(e)||null!=t&&e in Object(t)}function Hi(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Qi(e){var t=wi(e),r=yr[t];if("function"!=typeof r||!(t in vr.prototype))return!1;if(e===r)return!0;var n=mi(r);return!!n&&e===n[0]}function Fi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||be)}function Mi(e){return e==e&&!hs(e)}function Ki(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in Object(r))}}function Wi(e,t,r,n,o,s){return hs(e)&&hs(t)&&An(e,t,i,Wi,s.set(t,e)),e}function Gi(e,t){return 1==t.length?e:rn(e,Nn(t,0,-1))}(gt&&Ni(new gt(new ArrayBuffer(1)))!=T||_t&&Ni(new _t)!=v||Et&&Ni(Et.resolve())!=S||At&&Ni(new At)!=k||$t&&Ni(new $t)!=N)&&(Ni=function(e){var t=Re.call(e),r=t==I?e.constructor:i,n=r?zi(r):i;if(n)switch(n){case fr:return T;case lr:return v;case dr:return S;case pr:return k;case gr:return N}return t});var qi,ji,$i=(qi=0,ji=0,function(e,t){var r=xo(),n=16-(r-ji);if(ji=r,n>0){if(++qi>=150)return e}else qi=0;return Rn(e,t)}),Yi=qo(function(e){var t=[];return Bs(e).replace(ee,function(e,r,n,i){t.push(n?i.replace(ae,"$1"):r||e)}),t});function Xi(e){if("string"==typeof e||Es(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zi(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Vi(e){if(e instanceof vr)return e.clone();var t=new wr(e.__wrapped__,e.__chain__);return t.__actions__=Vn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ji=zo(function(e,t){return is(e)?Gr(e,zr(t,1,is,!0)):[]}),Zi=zo(function(e,t){var r=ao(t);return is(r)&&(r=i),is(e)?Gr(e,zr(t,1,is,!0),vi(r)):[]}),eo=zo(function(e,t){var r=ao(t);return is(r)&&(r=i),is(e)?Gr(e,zr(t,1,is,!0),i,r):[]});function to(e,t,r){var n=e?e.length:0;return n?Nn(e,(t=r||t===i?1:vs(t))<0?0:t,n):[]}function ro(e,t,r){var n=e?e.length:0;return n?Nn(e,0,(t=n-(t=r||t===i?1:vs(t)))<0?0:t):[]}function no(e){return e&&e.length?e[0]:i}var io=zo(function(e){var t=Rt(e,Wn);return t.length&&t[0]===e[0]?cn(t):[]}),oo=zo(function(e){var t=ao(e),r=Rt(e,Wn);return t===ao(r)?t=i:r.pop(),r.length&&r[0]===e[0]?cn(r,vi(t)):[]}),so=zo(function(e){var t=ao(e),r=Rt(e,Wn);return t===ao(r)?t=i:r.pop(),r.length&&r[0]===e[0]?cn(r,i,t):[]});function ao(e){var t=e?e.length:0;return t?e[t-1]:i}var co=zo(uo);function uo(e,t){return e&&e.length&&t&&t.length?In(e,t):e}var ho=zo(function(e,t){t=zr(t,1);var r=e?e.length:0,n=Qr(e,t);return Sn(e,Rt(t,function(e){return Di(e,r)?+e:e}).sort(Yn)),n});function fo(e){return e?lt.call(e):e}var lo=zo(function(e){return xn(zr(e,1,is,!0))}),po=zo(function(e){var t=ao(e);return is(t)&&(t=i),xn(zr(e,1,is,!0),vi(t))}),go=zo(function(e){var t=ao(e);return is(t)&&(t=i),xn(zr(e,1,is,!0),i,t)});function _o(e){if(!e||!e.length)return[];var t=0;return e=Bt(e,function(e){if(is(e))return t=ot(e.length,t),!0}),Mt(t,function(t){return Rt(e,bn(t))})}function Eo(e,t){if(!e||!e.length)return[];var r=_o(e);return null==t?r:Rt(r,function(e){return vt(t,i,e)})}var Ao=zo(function(e,t){return is(e)?Gr(e,t):[]}),yo=zo(function(e){return Mn(Bt(e,is))}),mo=zo(function(e){var t=ao(e);return is(t)&&(t=i),Mn(Bt(e,is),vi(t))}),wo=zo(function(e){var t=ao(e);return is(t)&&(t=i),Mn(Bt(e,is),i,t)}),vo=zo(_o),bo=zo(function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,Eo(e,r)});function Io(e){var t=yr(e);return t.__chain__=!0,t}function So(e,t){return t(e)}var Bo=zo(function(e){var t=(e=zr(e,1)).length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return Qr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof vr&&Di(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:So,args:[o],thisArg:i}),new wr(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)}),ko=Zn(function(e,t,r){Be.call(e,r)?++e[r]:e[r]=1});function Co(e,t){return"function"==typeof t&&rs(e)?It(e,t):qr(e,vi(t))}function Ro(e,t){return"function"==typeof t&&rs(e)?function(e,t){for(var r=e.length;r--&&!1!==t(e[r],r,e););return e}(e,t):jr(e,vi(t))}var No=Zn(function(e,t,r){Be.call(e,r)?e[r].push(t):e[r]=[t]}),Uo=zo(function(e,t,r){var n=-1,o="function"==typeof t,s=xi(t),a=ns(e)?Array(e.length):[];return qr(e,function(e){var c=o?t:s&&null!=e?e[t]:i;a[++n]=c?vt(c,e,r):un(e,t,r)}),a}),To=Zn(function(e,t,r){e[r]=t});function Oo(e,t){return(rs(e)?Rt:gn)(e,vi(t,3))}var Lo=Zn(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function Do(e,t,r){var n=-1,o=ws(e),s=o.length,a=s-1;for(t=(r?Pi(e,t,r):t===i)?1:Fr(vs(t),0,s);++n<t;){var c=Bn(n,a),u=o[c];o[c]=o[n],o[n]=u}return o.length=t,o}var Po=zo(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Pi(e,t[0],t[1])?t=[]:r>2&&Pi(t[0],t[1],t[2])&&(t=[t[0]]),mn(e,t=1==t.length&&rs(t[0])?t[0]:zr(t,1,Li),[])}),xo=r.now;function Ho(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Ei(e,h,i,i,i,i,t)}function Qo(e,t){var r;if("function"!=typeof t)throw new we(s);return e=vs(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Fo=zo(function(e,t,r){var n=1;if(r.length){var i=tr(r,Bi(Fo));n|=u}return Ei(e,n,t,r,i)}),Mo=zo(function(e,t,r){var n=3;if(r.length){var i=tr(r,Bi(Mo));n|=u}return Ei(t,n,e,r,i)});function Ko(e,t,r){var n,o,a,c,u,h=0,f=0,l=!1,d=!1,p=!0;if("function"!=typeof e)throw new we(s);function g(t){var r=n,s=o;return n=o=i,f=t,c=e.apply(s,r)}function _(e){var r=e-h;return!h||r>=t||r<0||d&&e-f>=a}function E(){var e=xo();if(_(e))return A(e);u=Ke(E,function(e){var r=t-(e-h);return d?st(r,a-(e-f)):r}(e))}function A(e){return Pe(u),u=i,p&&n?g(e):(n=o=i,c)}function y(){var e=xo(),r=_(e);if(n=arguments,o=this,h=e,r){if(u===i)return function(e){return f=e,u=Ke(E,t),l?g(e):c}(h);if(d)return Pe(u),u=Ke(E,t),g(h)}return u===i&&(u=Ke(E,t)),c}return t=Is(t)||0,hs(r)&&(l=!!r.leading,a=(d="maxWait"in r)?ot(Is(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),y.cancel=function(){u!==i&&Pe(u),h=f=0,n=o=u=i},y.flush=function(){return u===i?c:A(xo())},y}var Wo=zo(function(e,t){return Wr(e,1,t)}),Go=zo(function(e,t,r){return Wr(e,Is(t)||0,r)});function qo(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new we(s);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(qo.Cache||Sr),r}qo.Cache=Sr;var jo=zo(function(e,t){var r=(t=1==t.length&&rs(t[0])?Rt(t[0],Wt(vi())):Rt(zr(t,1,Li),Wt(vi()))).length;return zo(function(n){for(var i=-1,o=st(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return vt(e,this,n)})}),$o=zo(function(e,t){var r=tr(t,Bi($o));return Ei(e,u,i,t,r)}),Yo=zo(function(e,t){var r=tr(t,Bi(Yo));return Ei(e,64,i,t,r)}),Xo=zo(function(e,t){return Ei(e,256,i,i,i,zr(t,1))});function zo(e,t){if("function"!=typeof e)throw new we(s);return t=ot(t===i?e.length-1:vs(t),0),function(){for(var r=arguments,n=-1,i=ot(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,r[0],o);case 2:return e.call(this,r[0],r[1],o)}var s=Array(t+1);for(n=-1;++n<t;)s[n]=r[n];return s[t]=o,vt(e,this,s)}}function Vo(){if(!arguments.length)return[];var e=arguments[0];return rs(e)?e:[e]}function Jo(e,t){return e===t||e!=e&&t!=t}var Zo=di(on),es=di(function(e,t){return e>=t});function ts(e){return is(e)&&Be.call(e,"callee")&&(!Me.call(e,"callee")||Re.call(e)==g)}var rs=Array.isArray;function ns(e){return null!=e&&us(bi(e))&&!as(e)}function is(e){return fs(e)&&ns(e)}var os=Te?function(e){return e instanceof Te}:aa(!1);function ss(e){return!!fs(e)&&(Re.call(e)==y||"string"==typeof e.message&&"string"==typeof e.name)}function as(e){var t=hs(e)?Re.call(e):"";return t==m||t==w}function cs(e){return"number"==typeof e&&e==vs(e)}function us(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function hs(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function fs(e){return!!e&&"object"==typeof e}function ls(e){return!!hs(e)&&(as(e)||Jt(e)?Ue:de).test(zi(e))}function ds(e){return"number"==typeof e||fs(e)&&Re.call(e)==b}function ps(e){if(!fs(e)||Re.call(e)!=I||Jt(e))return!1;var t=ki(e);if(null===t)return!0;var r=Be.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Se.call(r)==Ce}function gs(e){return hs(e)&&Re.call(e)==B}function _s(e){return"string"==typeof e||!rs(e)&&fs(e)&&Re.call(e)==C}function Es(e){return"symbol"==typeof e||fs(e)&&Re.call(e)==R}function As(e){return fs(e)&&us(e.length)&&!!nt[Re.call(e)]}var ys=di(pn),ms=di(function(e,t){return e<=t});function ws(e){if(!e)return[];if(ns(e))return _s(e)?ir(e):Vn(e);if(Qe&&e[Qe])return Zt(e[Qe]());var t=Ni(e);return(t==v?er:t==k?rr:$s)(e)}function vs(e){if(!e)return 0===e?e:0;if((e=Is(e))===f||e===-1/0)return 17976931348623157e292*(e<0?-1:1);var t=e%1;return e==e?t?e-t:e:0}function bs(e){return e?Fr(vs(e),0,p):0}function Is(e){if("number"==typeof e)return e;if(Es(e))return d;if(hs(e)){var t=as(e.valueOf)?e.valueOf():e;e=hs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ne,"");var r=le.test(e);return r||pe.test(e)?ft(e.slice(2),r?2:8):fe.test(e)?d:+e}function Ss(e){return Jn(e,Fs(e))}function Bs(e){return null==e?"":Pn(e)}var ks=ei(function(e,t){if(ur||Fi(t)||ns(t))Jn(t,Qs(t),e);else for(var r in t)Be.call(t,r)&&Pr(e,r,t[r])}),Cs=ei(function(e,t){if(ur||Fi(t)||ns(t))Jn(t,Fs(t),e);else for(var r in t)Pr(e,r,t[r])}),Rs=ei(function(e,t,r,n){Jn(t,Fs(t),e,n)}),Ns=ei(function(e,t,r,n){Jn(t,Qs(t),e,n)}),Us=zo(function(e,t){return Qr(e,zr(t,1))}),Ts=zo(function(e){return e.push(i,Lr),vt(Rs,i,e)}),Os=zo(function(e){return e.push(i,Wi),vt(Ks,i,e)});function Ls(e,t,r){var n=null==e?i:rn(e,t);return n===i?r:n}function Ds(e,t){return null!=e&&Ui(e,t,an)}var Ps=ci(function(e,t,r){e[t]=r},aa(ha)),xs=ci(function(e,t,r){Be.call(e,t)?e[t].push(r):e[t]=[r]},vi),Hs=zo(un);function Qs(e){var t=Fi(e);if(!t&&!ns(e))return function(e){return Ve(Object(e))}(e);var r=Ti(e),n=!!r,i=r||[],o=i.length;for(var s in e)!sn(e,s)||n&&("length"==s||Di(s,o))||t&&"constructor"==s||i.push(s);return i}function Fs(e){for(var t=-1,r=Fi(e),n=dn(e),i=n.length,o=Ti(e),s=!!o,a=o||[],c=a.length;++t<i;){var u=n[t];s&&("length"==u||Di(u,c))||"constructor"==u&&(r||!Be.call(e,u))||a.push(u)}return a}var Ms=ei(function(e,t,r){An(e,t,r)}),Ks=ei(function(e,t,r,n){An(e,t,r,n)}),Ws=zo(function(e,t){return null==e?{}:(t=Rt(zr(t,1),Xi),wn(e,Gr(yi(e),t)))}),Gs=zo(function(e,t){return null==e?{}:wn(e,Rt(zr(t,1),Xi))});function qs(e){return Kt(e,Qs(e))}function js(e){return Kt(e,Fs(e))}function $s(e){return e?Gt(e,Qs(e)):[]}var Ys=ii(function(e,t,r){return t=t.toLowerCase(),e+(r?Xs(t):t)});function Xs(e){return na(Bs(e).toLowerCase())}function zs(e){return(e=Bs(e))&&e.replace(_e,Yt).replace(ze,"")}var Vs=ii(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Js=ii(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Zs=ni("toLowerCase"),ea=ii(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),ta=ii(function(e,t,r){return e+(r?" ":"")+na(t)}),ra=ii(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),na=ni("toUpperCase");function ia(e,t,r){return e=Bs(e),(t=r?i:t)===i&&(t=et.test(e)?Je:se),e.match(t)||[]}var oa=zo(function(e,t){try{return vt(e,i,t)}catch(e){return ss(e)?e:new n(e)}}),sa=zo(function(e,t){return It(zr(t,1),function(t){t=Xi(t),e[t]=Fo(e[t],e)}),e});function aa(e){return function(){return e}}var ca=si(),ua=si(!0);function ha(e){return e}function fa(e){return ln("function"==typeof e?e:Mr(e,!0))}var la=zo(function(e,t){return function(r){return un(r,e,t)}}),da=zo(function(e,t){return function(r){return un(e,r,t)}});function pa(e,t,r){var n=Qs(t),i=tn(t,n);null!=r||hs(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=tn(t,Qs(t)));var o=!(hs(r)&&"chain"in r&&!r.chain),s=as(e);return It(i,function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Vn(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Nt([this.value()],arguments))})}),e}function ga(){}var _a=hi(Rt),Ea=hi(St),Aa=hi(Ot);function ya(e){return xi(e)?bn(Xi(e)):function(e){return function(t){return rn(t,e)}}(e)}var ma,wa=li(),va=li(!0),ba=ui(function(e,t){return e+t}),Ia=gi("ceil"),Sa=ui(function(e,t){return e/t}),Ba=gi("floor"),ka=ui(function(e,t){return e*t}),Ca=gi("round"),Ra=ui(function(e,t){return e-t});return yr.after=function(e,t){if("function"!=typeof t)throw new we(s);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},yr.ary=Ho,yr.assign=ks,yr.assignIn=Cs,yr.assignInWith=Rs,yr.assignWith=Ns,yr.at=Us,yr.before=Qo,yr.bind=Fo,yr.bindAll=sa,yr.bindKey=Mo,yr.castArray=Vo,yr.chain=Io,yr.chunk=function(e,t,r){t=(r?Pi(e,t,r):t===i)?1:ot(vs(t),0);var n=e?e.length:0;if(!n||t<1)return[];for(var o=0,s=0,a=Array(Ge(n/t));o<n;)a[s++]=Nn(e,o,o+=t);return a},yr.compact=function(e){for(var t=-1,r=e?e.length:0,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},yr.concat=function(){var e=arguments.length,t=Vo(arguments[0]);if(e<2)return e?Vn(t):[];for(var r=Array(e-1);e--;)r[e-1]=arguments[e];return function(e,t){for(var r=-1,n=e.length,i=-1,o=t.length,s=Array(n+o);++r<n;)s[r]=e[r];for(;++i<o;)s[r++]=t[i];return s}(t,zr(r,1))},yr.cond=function(e){var t=e?e.length:0,r=vi();return e=t?Rt(e,function(e){if("function"!=typeof e[1])throw new we(s);return[r(e[0]),e[1]]}):[],zo(function(r){for(var n=-1;++n<t;){var i=e[n];if(vt(i[0],this,r))return vt(i[1],this,r)}})},yr.conforms=function(e){return function(e){var t=Qs(e),r=t.length;return function(n){if(null==n)return!r;for(var o=r;o--;){var s=t[o],a=e[s],c=n[s];if(c===i&&!(s in Object(n))||!a(c))return!1}return!0}}(Mr(e,!0))},yr.constant=aa,yr.countBy=ko,yr.create=function(e,t){var r=Kr(e);return t?Hr(r,t):r},yr.curry=function e(t,r,n){var o=Ei(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},yr.curryRight=function e(t,r,n){var o=Ei(t,16,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},yr.debounce=Ko,yr.defaults=Ts,yr.defaultsDeep=Os,yr.defer=Wo,yr.delay=Go,yr.difference=Ji,yr.differenceBy=Zi,yr.differenceWith=eo,yr.drop=to,yr.dropRight=ro,yr.dropRightWhile=function(e,t){return e&&e.length?Qn(e,vi(t,3),!0,!0):[]},yr.dropWhile=function(e,t){return e&&e.length?Qn(e,vi(t,3),!0):[]},yr.fill=function(e,t,r,n){var o=e?e.length:0;return o?(r&&"number"!=typeof r&&Pi(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=vs(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:vs(n))<0&&(n+=o),n=r>n?0:bs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},yr.filter=function(e,t){return(rs(e)?Bt:Xr)(e,vi(t,3))},yr.flatMap=function(e,t){return zr(Oo(e,t),1)},yr.flatMapDeep=function(e,t){return zr(Oo(e,t),f)},yr.flatMapDepth=function(e,t,r){return r=r===i?1:vs(r),zr(Oo(e,t),r)},yr.flatten=function(e){return e&&e.length?zr(e,1):[]},yr.flattenDeep=function(e){return e&&e.length?zr(e,f):[]},yr.flattenDepth=function(e,t){return e&&e.length?zr(e,t=t===i?1:vs(t)):[]},yr.flip=function(e){return Ei(e,512)},yr.flow=ca,yr.flowRight=ua,yr.fromPairs=function(e){for(var t=-1,r=e?e.length:0,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},yr.functions=function(e){return null==e?[]:tn(e,Qs(e))},yr.functionsIn=function(e){return null==e?[]:tn(e,Fs(e))},yr.groupBy=No,yr.initial=function(e){return ro(e,1)},yr.intersection=io,yr.intersectionBy=oo,yr.intersectionWith=so,yr.invert=Ps,yr.invertBy=xs,yr.invokeMap=Uo,yr.iteratee=fa,yr.keyBy=To,yr.keys=Qs,yr.keysIn=Fs,yr.map=Oo,yr.mapKeys=function(e,t){var r={};return t=vi(t,3),Zr(e,function(e,n,i){r[t(e,n,i)]=e}),r},yr.mapValues=function(e,t){var r={};return t=vi(t,3),Zr(e,function(e,n,i){r[n]=t(e,n,i)}),r},yr.matches=function(e){return _n(Mr(e,!0))},yr.matchesProperty=function(e,t){return En(e,Mr(t,!0))},yr.memoize=qo,yr.merge=Ms,yr.mergeWith=Ks,yr.method=la,yr.methodOf=da,yr.mixin=pa,yr.negate=function(e){if("function"!=typeof e)throw new we(s);return function(){return!e.apply(this,arguments)}},yr.nthArg=function(e){return e=vs(e),zo(function(t){return yn(t,e)})},yr.omit=Ws,yr.omitBy=function(e,t){return t=vi(t),vn(e,function(e,r){return!t(e,r)})},yr.once=function(e){return Qo(2,e)},yr.orderBy=function(e,t,r,n){return null==e?[]:(rs(t)||(t=null==t?[]:[t]),rs(r=n?i:r)||(r=null==r?[]:[r]),mn(e,t,r))},yr.over=_a,yr.overArgs=jo,yr.overEvery=Ea,yr.overSome=Aa,yr.partial=$o,yr.partialRight=Yo,yr.partition=Lo,yr.pick=Gs,yr.pickBy=function(e,t){return null==e?{}:vn(e,vi(t))},yr.property=ya,yr.propertyOf=function(e){return function(t){return null==e?i:rn(e,t)}},yr.pull=co,yr.pullAll=uo,yr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?In(e,t,vi(r)):e},yr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?In(e,t,i,r):e},yr.pullAt=ho,yr.range=wa,yr.rangeRight=va,yr.rearg=Xo,yr.reject=function(e,t){var r=rs(e)?Bt:Xr;return t=vi(t,3),r(e,function(e,r,n){return!t(e,r,n)})},yr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=vi(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Sn(e,i),r},yr.rest=zo,yr.reverse=fo,yr.sampleSize=Do,yr.set=function(e,t,r){return null==e?e:Cn(e,t,r)},yr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Cn(e,t,r,n)},yr.shuffle=function(e){return Do(e,p)},yr.slice=function(e,t,r){var n=e?e.length:0;return n?(r&&"number"!=typeof r&&Pi(e,t,r)?(t=0,r=n):(t=null==t?0:vs(t),r=r===i?n:vs(r)),Nn(e,t,r)):[]},yr.sortBy=Po,yr.sortedUniq=function(e){return e&&e.length?Ln(e):[]},yr.sortedUniqBy=function(e,t){return e&&e.length?Ln(e,vi(t)):[]},yr.split=function(e,t,r){return r&&"number"!=typeof r&&Pi(e,t,r)&&(t=r=i),(r=r===i?p:r>>>0)?(e=Bs(e))&&("string"==typeof t||null!=t&&!gs(t))&&""==(t=Pn(t))&&Ze.test(e)?jn(ir(e),0,r):dt.call(e,t,r):[]},yr.spread=function(e,t){if("function"!=typeof e)throw new we(s);return t=t===i?0:ot(vs(t),0),zo(function(r){var n=r[t],i=jn(r,0,t);return n&&Nt(i,n),vt(e,this,i)})},yr.tail=function(e){return to(e,1)},yr.take=function(e,t,r){return e&&e.length?Nn(e,0,(t=r||t===i?1:vs(t))<0?0:t):[]},yr.takeRight=function(e,t,r){var n=e?e.length:0;return n?Nn(e,(t=n-(t=r||t===i?1:vs(t)))<0?0:t,n):[]},yr.takeRightWhile=function(e,t){return e&&e.length?Qn(e,vi(t,3),!1,!0):[]},yr.takeWhile=function(e,t){return e&&e.length?Qn(e,vi(t,3)):[]},yr.tap=function(e,t){return t(e),e},yr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new we(s);return hs(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ko(e,t,{leading:n,maxWait:t,trailing:i})},yr.thru=So,yr.toArray=ws,yr.toPairs=qs,yr.toPairsIn=js,yr.toPath=function(e){return rs(e)?Rt(e,Xi):Es(e)?[e]:Vn(Yi(e))},yr.toPlainObject=Ss,yr.transform=function(e,t,r){var n=rs(e)||As(e);if(t=vi(t,4),null==r)if(n||hs(e)){var i=e.constructor;r=n?rs(e)?new i:[]:as(i)?Kr(ki(e)):{}}else r={};return(n?It:Zr)(e,function(e,n,i){return t(r,e,n,i)}),r},yr.unary=function(e){return Ho(e,1)},yr.union=lo,yr.unionBy=po,yr.unionWith=go,yr.uniq=function(e){return e&&e.length?xn(e):[]},yr.uniqBy=function(e,t){return e&&e.length?xn(e,vi(t)):[]},yr.uniqWith=function(e,t){return e&&e.length?xn(e,i,t):[]},yr.unset=function(e,t){return null==e||function(e,t){e=Gi(e,t=xi(t,e)?[t]:qn(t));var r=Xi(ao(t));return!(null!=e&&sn(e,r))||delete e[r]}(e,t)},yr.unzip=_o,yr.unzipWith=Eo,yr.update=function(e,t,r){return null==e?e:Hn(e,t,Gn(r))},yr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Hn(e,t,Gn(r),n)},yr.values=$s,yr.valuesIn=function(e){return null==e?[]:Gt(e,Fs(e))},yr.without=Ao,yr.words=ia,yr.wrap=function(e,t){return $o(t=null==t?ha:t,e)},yr.xor=yo,yr.xorBy=mo,yr.xorWith=wo,yr.zip=vo,yr.zipObject=function(e,t){return Kn(e||[],t||[],Pr)},yr.zipObjectDeep=function(e,t){return Kn(e||[],t||[],Cn)},yr.zipWith=bo,yr.entries=qs,yr.entriesIn=js,yr.extend=Cs,yr.extendWith=Rs,pa(yr,yr),yr.add=ba,yr.attempt=oa,yr.camelCase=Ys,yr.capitalize=Xs,yr.ceil=Ia,yr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=Is(r))==r?r:0),t!==i&&(t=(t=Is(t))==t?t:0),Fr(Is(e),t,r)},yr.clone=function(e){return Mr(e,!1,!0)},yr.cloneDeep=function(e){return Mr(e,!0,!0)},yr.cloneDeepWith=function(e,t){return Mr(e,!0,!0,t)},yr.cloneWith=function(e,t){return Mr(e,!1,!0,t)},yr.deburr=zs,yr.divide=Sa,yr.endsWith=function(e,t,r){e=Bs(e),t=Pn(t);var n=e.length;return r=r===i?n:Fr(vs(r),0,n),(r-=t.length)>=0&&e.indexOf(t,r)==r},yr.eq=Jo,yr.escape=function(e){return(e=Bs(e))&&Y.test(e)?e.replace(j,Xt):e},yr.escapeRegExp=function(e){return(e=Bs(e))&&re.test(e)?e.replace(te,"\\$&"):e},yr.every=function(e,t,r){var n=rs(e)?St:$r;return r&&Pi(e,t,r)&&(t=i),n(e,vi(t,3))},yr.find=function(e,t){if(t=vi(t,3),rs(e)){var r=Dt(e,t);return r>-1?e[r]:i}return Lt(e,t,qr)},yr.findIndex=function(e,t){return e&&e.length?Dt(e,vi(t,3)):-1},yr.findKey=function(e,t){return Lt(e,vi(t,3),Zr,!0)},yr.findLast=function(e,t){if(t=vi(t,3),rs(e)){var r=Dt(e,t,!0);return r>-1?e[r]:i}return Lt(e,t,jr)},yr.findLastIndex=function(e,t){return e&&e.length?Dt(e,vi(t,3),!0):-1},yr.findLastKey=function(e,t){return Lt(e,vi(t,3),en,!0)},yr.floor=Ba,yr.forEach=Co,yr.forEachRight=Ro,yr.forIn=function(e,t){return null==e?e:Vr(e,vi(t),Fs)},yr.forInRight=function(e,t){return null==e?e:Jr(e,vi(t),Fs)},yr.forOwn=function(e,t){return e&&Zr(e,vi(t))},yr.forOwnRight=function(e,t){return e&&en(e,vi(t))},yr.get=Ls,yr.gt=Zo,yr.gte=es,yr.has=function(e,t){return null!=e&&Ui(e,t,sn)},yr.hasIn=Ds,yr.head=no,yr.identity=ha,yr.includes=function(e,t,r,n){e=ns(e)?e:$s(e),r=r&&!n?vs(r):0;var i=e.length;return r<0&&(r=ot(i+r,0)),_s(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Pt(e,t,r)>-1},yr.indexOf=function(e,t,r){var n=e?e.length:0;return n?((r=vs(r))<0&&(r=ot(n+r,0)),Pt(e,t,r)):-1},yr.inRange=function(e,t,r){return t=Is(t)||0,r===i?(r=t,t=0):r=Is(r)||0,function(e,t,r){return e>=st(t,r)&&e<ot(t,r)}(e=Is(e),t,r)},yr.invoke=Hs,yr.isArguments=ts,yr.isArray=rs,yr.isArrayBuffer=function(e){return fs(e)&&Re.call(e)==U},yr.isArrayLike=ns,yr.isArrayLikeObject=is,yr.isBoolean=function(e){return!0===e||!1===e||fs(e)&&Re.call(e)==E},yr.isBuffer=os,yr.isDate=function(e){return fs(e)&&Re.call(e)==A},yr.isElement=function(e){return!!e&&1===e.nodeType&&fs(e)&&!ps(e)},yr.isEmpty=function(e){if(ns(e)&&(rs(e)||_s(e)||as(e.splice)||ts(e)||os(e)))return!e.length;if(fs(e)){var t=Ni(e);if(t==v||t==k)return!e.size}for(var r in e)if(Be.call(e,r))return!1;return!(ur&&Qs(e).length)},yr.isEqual=function(e,t){return hn(e,t)},yr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?hn(e,t,r):!!n},yr.isError=ss,yr.isFinite=function(e){return"number"==typeof e&&$e(e)},yr.isFunction=as,yr.isInteger=cs,yr.isLength=us,yr.isMap=function(e){return fs(e)&&Ni(e)==v},yr.isMatch=function(e,t){return e===t||fn(e,t,Ii(t))},yr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,fn(e,t,Ii(t),r)},yr.isNaN=function(e){return ds(e)&&e!=+e},yr.isNative=ls,yr.isNil=function(e){return null==e},yr.isNull=function(e){return null===e},yr.isNumber=ds,yr.isObject=hs,yr.isObjectLike=fs,yr.isPlainObject=ps,yr.isRegExp=gs,yr.isSafeInteger=function(e){return cs(e)&&e>=-9007199254740991&&e<=l},yr.isSet=function(e){return fs(e)&&Ni(e)==k},yr.isString=_s,yr.isSymbol=Es,yr.isTypedArray=As,yr.isUndefined=function(e){return e===i},yr.isWeakMap=function(e){return fs(e)&&Ni(e)==N},yr.isWeakSet=function(e){return fs(e)&&"[object WeakSet]"==Re.call(e)},yr.join=function(e,t){return e?Ye.call(e,t):""},yr.kebabCase=Vs,yr.last=ao,yr.lastIndexOf=function(e,t,r){var n=e?e.length:0;if(!n)return-1;var o=n;if(r!==i&&(o=((o=vs(r))<0?ot(n+o,0):st(o,n-1))+1),t!=t)return Vt(e,o,!0);for(;o--;)if(e[o]===t)return o;return-1},yr.lowerCase=Js,yr.lowerFirst=Zs,yr.lt=ys,yr.lte=ms,yr.max=function(e){return e&&e.length?Yr(e,ha,on):i},yr.maxBy=function(e,t){return e&&e.length?Yr(e,vi(t),on):i},yr.mean=function(e){return Ht(e,ha)},yr.meanBy=function(e,t){return Ht(e,vi(t))},yr.min=function(e){return e&&e.length?Yr(e,ha,pn):i},yr.minBy=function(e,t){return e&&e.length?Yr(e,vi(t),pn):i},yr.multiply=ka,yr.nth=function(e,t){return e&&e.length?yn(e,vs(t)):i},yr.noConflict=function(){return yt._===this&&(yt._=Ne),this},yr.noop=ga,yr.now=xo,yr.pad=function(e,t,r){e=Bs(e);var n=(t=vs(t))?nr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return fi(qe(i),r)+e+fi(Ge(i),r)},yr.padEnd=function(e,t,r){e=Bs(e);var n=(t=vs(t))?nr(e):0;return t&&n<t?e+fi(t-n,r):e},yr.padStart=function(e,t,r){e=Bs(e);var n=(t=vs(t))?nr(e):0;return t&&n<t?fi(t-n,r)+e:e},yr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),e=Bs(e).replace(ne,""),at(e,t||(he.test(e)?16:10))},yr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Pi(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Is(e)||0,t===i?(t=e,e=0):t=Is(t)||0),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=ct();return st(e+o*(t-e+ht("1e-"+((o+"").length-1))),t)}return Bn(e,t)},yr.reduce=function(e,t,r){var n=rs(e)?Ut:Qt,i=arguments.length<3;return n(e,vi(t,4),r,i,qr)},yr.reduceRight=function(e,t,r){var n=rs(e)?Tt:Qt,i=arguments.length<3;return n(e,vi(t,4),r,i,jr)},yr.repeat=function(e,t,r){return t=(r?Pi(e,t,r):t===i)?1:vs(t),kn(Bs(e),t)},yr.replace=function(){var e=arguments,t=Bs(e[0]);return e.length<3?t:ut.call(t,e[1],e[2])},yr.result=function(e,t,r){var n=-1,o=(t=xi(t,e)?[t]:qn(t)).length;for(o||(e=i,o=1);++n<o;){var s=null==e?i:e[Xi(t[n])];s===i&&(n=o,s=r),e=as(s)?s.call(e):s}return e},yr.round=Ca,yr.runInContext=e,yr.sample=function(e){var t=ns(e)?e:$s(e),r=t.length;return r>0?t[Bn(0,r-1)]:i},yr.size=function(e){if(null==e)return 0;if(ns(e)){var t=e.length;return t&&_s(e)?nr(e):t}if(fs(e)){var r=Ni(e);if(r==v||r==k)return e.size}return Qs(e).length},yr.snakeCase=ea,yr.some=function(e,t,r){var n=rs(e)?Ot:Un;return r&&Pi(e,t,r)&&(t=i),n(e,vi(t,3))},yr.sortedIndex=function(e,t){return Tn(e,t)},yr.sortedIndexBy=function(e,t,r){return On(e,t,vi(r))},yr.sortedIndexOf=function(e,t){var r=e?e.length:0;if(r){var n=Tn(e,t);if(n<r&&Jo(e[n],t))return n}return-1},yr.sortedLastIndex=function(e,t){return Tn(e,t,!0)},yr.sortedLastIndexBy=function(e,t,r){return On(e,t,vi(r),!0)},yr.sortedLastIndexOf=function(e,t){if(e&&e.length){var r=Tn(e,t,!0)-1;if(Jo(e[r],t))return r}return-1},yr.startCase=ta,yr.startsWith=function(e,t,r){return e=Bs(e),r=Fr(vs(r),0,e.length),e.lastIndexOf(Pn(t),r)==r},yr.subtract=Ra,yr.sum=function(e){return e&&e.length?Ft(e,ha):0},yr.sumBy=function(e,t){return e&&e.length?Ft(e,vi(t)):0},yr.template=function(e,t,r){var n=yr.templateSettings;r&&Pi(e,t,r)&&(t=i),e=Bs(e),t=Rs({},t,n,Lr);var o,s,a=Rs({},t.imports,n.imports,Lr),c=Qs(a),u=Gt(a,c),h=0,f=t.interpolate||Ee,l="__p += '",d=me((t.escape||Ee).source+"|"+f.source+"|"+(f===V?ce:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(d,function(t,r,n,i,a,c){return n||(n=i),l+=e.slice(h,c).replace(Ae,zt),r&&(o=!0,l+="' +\n__e("+r+") +\n'"),a&&(s=!0,l+="';\n"+a+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),h=c+t.length,t}),l+="';\n";var g=t.variable;g||(l="with (obj) {\n"+l+"\n}\n"),l=(s?l.replace(K,""):l).replace(W,"$1").replace(G,"$1;"),l="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var _=oa(function(){return Function(c,p+"return "+l).apply(i,u)});if(_.source=l,ss(_))throw _;return _},yr.times=function(e,t){if((e=vs(e))<1||e>l)return[];var r=p,n=st(e,p);t=vi(t),e-=p;for(var i=Mt(n,t);++r<e;)t(r);return i},yr.toInteger=vs,yr.toLength=bs,yr.toLower=function(e){return Bs(e).toLowerCase()},yr.toNumber=Is,yr.toSafeInteger=function(e){return Fr(vs(e),-9007199254740991,l)},yr.toString=Bs,yr.toUpper=function(e){return Bs(e).toUpperCase()},yr.trim=function(e,t,r){if((e=Bs(e))&&(r||t===i))return e.replace(ne,"");if(!e||!(t=Pn(t)))return e;var n=ir(e),o=ir(t);return jn(n,qt(n,o),jt(n,o)+1).join("")},yr.trimEnd=function(e,t,r){if((e=Bs(e))&&(r||t===i))return e.replace(oe,"");if(!e||!(t=Pn(t)))return e;var n=ir(e);return jn(n,0,jt(n,ir(t))+1).join("")},yr.trimStart=function(e,t,r){if((e=Bs(e))&&(r||t===i))return e.replace(ie,"");if(!e||!(t=Pn(t)))return e;var n=ir(e);return jn(n,qt(n,ir(t))).join("")},yr.truncate=function(e,t){var r=30,n="...";if(hs(t)){var o="separator"in t?t.separator:o;r="length"in t?vs(t.length):r,n="omission"in t?Pn(t.omission):n}var s=(e=Bs(e)).length;if(Ze.test(e)){var a=ir(e);s=a.length}if(r>=s)return e;var c=r-nr(n);if(c<1)return n;var u=a?jn(a,0,c).join(""):e.slice(0,c);if(o===i)return u+n;if(a&&(c+=u.length-c),gs(o)){if(e.slice(c).search(o)){var h,f=u;for(o.global||(o=me(o.source,Bs(ue.exec(o))+"g")),o.lastIndex=0;h=o.exec(f);)var l=h.index;u=u.slice(0,l===i?c:l)}}else if(e.indexOf(Pn(o),c)!=c){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+n},yr.unescape=function(e){return(e=Bs(e))&&$.test(e)?e.replace(q,or):e},yr.uniqueId=function(e){var t=++ke;return Bs(e)+t},yr.upperCase=ra,yr.upperFirst=na,yr.each=Co,yr.eachRight=Ro,yr.first=no,pa(yr,(ma={},Zr(yr,function(e,t){Be.call(yr.prototype,t)||(ma[t]=e)}),ma),{chain:!1}),yr.VERSION="4.11.2",It(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){yr[e].placeholder=yr}),It(["drop","take"],function(e,t){vr.prototype[e]=function(r){var n=this.__filtered__;if(n&&!t)return new vr(this);r=r===i?1:ot(vs(r),0);var o=this.clone();return n?o.__takeCount__=st(r,o.__takeCount__):o.__views__.push({size:st(r,p),type:e+(o.__dir__<0?"Right":"")}),o},vr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),It(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;vr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:vi(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),It(["head","last"],function(e,t){var r="take"+(t?"Right":"");vr.prototype[e]=function(){return this[r](1).value()[0]}}),It(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");vr.prototype[e]=function(){return this.__filtered__?new vr(this):this[r](1)}}),vr.prototype.compact=function(){return this.filter(ha)},vr.prototype.find=function(e){return this.filter(e).head()},vr.prototype.findLast=function(e){return this.reverse().find(e)},vr.prototype.invokeMap=zo(function(e,t){return"function"==typeof e?new vr(this):this.map(function(r){return un(r,e,t)})}),vr.prototype.reject=function(e){return e=vi(e,3),this.filter(function(t){return!e(t)})},vr.prototype.slice=function(e,t){e=vs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new vr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=vs(t))<0?r.dropRight(-t):r.take(t-e)),r)},vr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vr.prototype.toArray=function(){return this.take(p)},Zr(vr.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=yr[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(yr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,c=t instanceof vr,u=a[0],h=c||rs(t),f=function(e){var t=o.apply(yr,Nt([e],a));return n&&l?t[0]:t};h&&r&&"function"==typeof u&&1!=u.length&&(c=h=!1);var l=this.__chain__,d=!!this.__actions__.length,p=s&&!l,g=c&&!d;if(!s&&h){t=g?t:new vr(this);var _=e.apply(t,a);return _.__actions__.push({func:So,args:[f],thisArg:i}),new wr(_,l)}return p&&g?e.apply(this,a):(_=this.thru(f),p?n?_.value()[0]:_.value():_)})}),It(["pop","push","shift","sort","splice","unshift"],function(e){var t=ve[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);yr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(rs(i)?i:[],e)}return this[r](function(r){return t.apply(rs(r)?r:[],e)})}}),Zr(vr.prototype,function(e,t){var r=yr[t];if(r){var n=r.name+"";(hr[n]||(hr[n]=[])).push({name:t,func:r})}}),hr[ai(i,2).name]=[{name:"wrapper",func:i}],vr.prototype.clone=function(){var e=new vr(this.__wrapped__);return e.__actions__=Vn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Vn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Vn(this.__views__),e},vr.prototype.reverse=function(){if(this.__filtered__){var e=new vr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},vr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=rs(e),n=t<0,i=r?e.length:0,s=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=st(t,e+s);break;case"takeRight":e=ot(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),a=s.start,c=s.end,u=c-a,h=n?c:a-1,f=this.__iteratees__,l=f.length,d=0,p=st(u,this.__takeCount__);if(!r||i<o||i==u&&p==u)return Fn(e,this.__actions__);var g=[];e:for(;u--&&d<p;){for(var _=-1,E=e[h+=t];++_<l;){var A=f[_],y=A.iteratee,m=A.type,w=y(E);if(2==m)E=w;else if(!w){if(1==m)continue e;break e}}g[d++]=E}return g},yr.prototype.at=Bo,yr.prototype.chain=function(){return Io(this)},yr.prototype.commit=function(){return new wr(this.value(),this.__chain__)},yr.prototype.next=function(){this.__values__===i&&(this.__values__=ws(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},yr.prototype.plant=function(e){for(var t,r=this;r instanceof mr;){var n=Vi(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},yr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof vr){var t=e;return this.__actions__.length&&(t=new vr(this)),(t=t.reverse()).__actions__.push({func:So,args:[fo],thisArg:i}),new wr(t,this.__chain__)}return this.thru(fo)},yr.prototype.toJSON=yr.prototype.valueOf=yr.prototype.value=function(){return Fn(this.__wrapped__,this.__actions__)},Qe&&(yr.prototype[Qe]=function(){return this}),yr}();(Et||_t||{})._=sr,(n=function(){return sr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},6914:e=>{"use strict";e.exports={rE:"0.0.23"}},6928:e=>{"use strict";e.exports=require("path")},6982:e=>{"use strict";e.exports=require("crypto")},7139:(e,t,r)=>{var n=r(5647),i=r(4452);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),E(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(f)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function h(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function f(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function l(e){if(!e)return[""];var t=[],r=i("{","}",e);if(!r)return e.split(",");var n=r.pre,o=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+o+"}";var c=l(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function d(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function g(e,t){return e<=t}function _(e,t){return e>=t}function E(e,t){var r=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),f=c||u,A=o.body.indexOf(",")>=0;if(!f&&!A)return o.post.match(/,(?!,).*\}/)?E(e=o.pre+"{"+o.body+a+o.post):[e];if(f)s=o.body.split(/\.\./);else if(1===(s=l(o.body)).length&&1===(s=E(s[0],!1).map(d)).length)return(w=o.post.length?E(o.post,!1):[""]).map(function(e){return o.pre+s[0]+e});var y,m=o.pre,w=o.post.length?E(o.post,!1):[""];if(f){var v=h(s[0]),b=h(s[1]),I=Math.max(s[0].length,s[1].length),S=3==s.length?Math.abs(h(s[2])):1,B=g;b<v&&(S*=-1,B=_);var k=s.some(p);y=[];for(var C=v;B(C,b);C+=S){var R;if(u)"\\"===(R=String.fromCharCode(C))&&(R="");else if(R=String(C),k){var N=I-R.length;if(N>0){var U=new Array(N+1).join("0");R=C<0?"-"+U+R.slice(1):U+R}}y.push(R)}}else y=n(s,function(e){return E(e,!1)});for(var T=0;T<y.length;T++)for(var O=0;O<w.length;O++){var L=m+y[T]+w[O];(!t||f||L)&&r.push(L)}return r}},7228:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function _(e,t,r,n){return g(e,t,r,n,16)}function E(e,t,r,n){return g(e,t,r,n,32)}function A(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,_=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,E=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,A=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,y=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,m=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,v=s,b=a,I=c,S=u,B=h,k=f,C=l,R=d,N=p,U=g,T=_,O=E,L=A,D=y,P=m,x=0;x<20;x+=2)w^=(i=(O^=(i=(R^=(i=(S^=(i=w+O|0)<<7|i>>>25)+w|0)<<9|i>>>23)+S|0)<<13|i>>>19)+R|0)<<18|i>>>14,B^=(i=(v^=(i=(L^=(i=(N^=(i=B+v|0)<<7|i>>>25)+B|0)<<9|i>>>23)+N|0)<<13|i>>>19)+L|0)<<18|i>>>14,U^=(i=(k^=(i=(b^=(i=(D^=(i=U+k|0)<<7|i>>>25)+U|0)<<9|i>>>23)+D|0)<<13|i>>>19)+b|0)<<18|i>>>14,P^=(i=(T^=(i=(C^=(i=(I^=(i=P+T|0)<<7|i>>>25)+P|0)<<9|i>>>23)+I|0)<<13|i>>>19)+C|0)<<18|i>>>14,w^=(i=(I^=(i=(b^=(i=(v^=(i=w+I|0)<<7|i>>>25)+w|0)<<9|i>>>23)+v|0)<<13|i>>>19)+b|0)<<18|i>>>14,B^=(i=(S^=(i=(C^=(i=(k^=(i=B+S|0)<<7|i>>>25)+B|0)<<9|i>>>23)+k|0)<<13|i>>>19)+C|0)<<18|i>>>14,U^=(i=(N^=(i=(R^=(i=(T^=(i=U+N|0)<<7|i>>>25)+U|0)<<9|i>>>23)+T|0)<<13|i>>>19)+R|0)<<18|i>>>14,P^=(i=(D^=(i=(L^=(i=(O^=(i=P+D|0)<<7|i>>>25)+P|0)<<9|i>>>23)+O|0)<<13|i>>>19)+L|0)<<18|i>>>14;w=w+o|0,v=v+s|0,b=b+a|0,I=I+c|0,S=S+u|0,B=B+h|0,k=k+f|0,C=C+l|0,R=R+d|0,N=N+p|0,U=U+g|0,T=T+_|0,O=O+E|0,L=L+A|0,D=D+y|0,P=P+m|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=v>>>0&255,e[5]=v>>>8&255,e[6]=v>>>16&255,e[7]=v>>>24&255,e[8]=b>>>0&255,e[9]=b>>>8&255,e[10]=b>>>16&255,e[11]=b>>>24&255,e[12]=I>>>0&255,e[13]=I>>>8&255,e[14]=I>>>16&255,e[15]=I>>>24&255,e[16]=S>>>0&255,e[17]=S>>>8&255,e[18]=S>>>16&255,e[19]=S>>>24&255,e[20]=B>>>0&255,e[21]=B>>>8&255,e[22]=B>>>16&255,e[23]=B>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=C>>>0&255,e[29]=C>>>8&255,e[30]=C>>>16&255,e[31]=C>>>24&255,e[32]=R>>>0&255,e[33]=R>>>8&255,e[34]=R>>>16&255,e[35]=R>>>24&255,e[36]=N>>>0&255,e[37]=N>>>8&255,e[38]=N>>>16&255,e[39]=N>>>24&255,e[40]=U>>>0&255,e[41]=U>>>8&255,e[42]=U>>>16&255,e[43]=U>>>24&255,e[44]=T>>>0&255,e[45]=T>>>8&255,e[46]=T>>>16&255,e[47]=T>>>24&255,e[48]=O>>>0&255,e[49]=O>>>8&255,e[50]=O>>>16&255,e[51]=O>>>24&255,e[52]=L>>>0&255,e[53]=L>>>8&255,e[54]=L>>>16&255,e[55]=L>>>24&255,e[56]=D>>>0&255,e[57]=D>>>8&255,e[58]=D>>>16&255,e[59]=D>>>24&255,e[60]=P>>>0&255,e[61]=P>>>8&255,e[62]=P>>>16&255,e[63]=P>>>24&255}(e,t,r,n)}function y(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,_=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,E=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,A=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,y=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,m=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)o^=(i=(E^=(i=(d^=(i=(u^=(i=o+E|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,h^=(i=(s^=(i=(A^=(i=(p^=(i=h+s|0)<<7|i>>>25)+h|0)<<9|i>>>23)+p|0)<<13|i>>>19)+A|0)<<18|i>>>14,g^=(i=(f^=(i=(a^=(i=(y^=(i=g+f|0)<<7|i>>>25)+g|0)<<9|i>>>23)+y|0)<<13|i>>>19)+a|0)<<18|i>>>14,m^=(i=(_^=(i=(l^=(i=(c^=(i=m+_|0)<<7|i>>>25)+m|0)<<9|i>>>23)+c|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(c^=(i=(a^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,h^=(i=(u^=(i=(l^=(i=(f^=(i=h+u|0)<<7|i>>>25)+h|0)<<9|i>>>23)+f|0)<<13|i>>>19)+l|0)<<18|i>>>14,g^=(i=(p^=(i=(d^=(i=(_^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+_|0)<<13|i>>>19)+d|0)<<18|i>>>14,m^=(i=(y^=(i=(A^=(i=(E^=(i=m+y|0)<<7|i>>>25)+m|0)<<9|i>>>23)+E|0)<<13|i>>>19)+A|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=m>>>0&255,e[13]=m>>>8&255,e[14]=m>>>16&255,e[15]=m>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var m=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,i,o,s){var a,c,u=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(A(h,u,s,m),c=0;c<64;c++)e[t+c]=r[n+c]^h[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(A(h,u,s,m),c=0;c<i;c++)e[t+c]=r[n+c]^h[c];return 0}function v(e,t,r,n,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(A(c,a,i,m),s=0;s<64;s++)e[t+s]=c[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(A(c,a,i,m),s=0;s<r;s++)e[t+s]=c[s];return 0}function b(e,t,r,n,i){var o=new Uint8Array(32);y(o,n,i,m);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return v(e,t,r,s,o)}function I(e,t,r,n,i,o,s){var a=new Uint8Array(32);y(a,o,s,m);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return w(e,t,r,n,i,c,a)}var S=function(e){var t,r,n,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function B(e,t,r,n,i,o){var s=new S(o);return s.update(r,n,i),s.finish(e,t),0}function k(e,t,r,n,i,o){var s=new Uint8Array(16);return B(s,0,r,n,i,o),_(e,t,s,0)}function C(e,t,r,n,i){var o;if(r<32)return-1;for(I(e,0,t,0,r,n,i),B(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function R(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(b(s,0,32,n,i),0!==k(t,16,t,32,r-32,s))return-1;for(I(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function N(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function U(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function T(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function O(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(U(a),U(a),U(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,T(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function L(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,e),O(n,t),E(r,0,n,0)}function D(e){var t=new Uint8Array(32);return O(t,e),1&t[0]}function P(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function x(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function H(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function Q(e,t,r){var n,i,o=0,s=0,a=0,c=0,u=0,h=0,f=0,l=0,d=0,p=0,g=0,_=0,E=0,A=0,y=0,m=0,w=0,v=0,b=0,I=0,S=0,B=0,k=0,C=0,R=0,N=0,U=0,T=0,O=0,L=0,D=0,P=r[0],x=r[1],H=r[2],Q=r[3],F=r[4],M=r[5],K=r[6],W=r[7],G=r[8],q=r[9],j=r[10],$=r[11],Y=r[12],X=r[13],z=r[14],V=r[15];o+=(n=t[0])*P,s+=n*x,a+=n*H,c+=n*Q,u+=n*F,h+=n*M,f+=n*K,l+=n*W,d+=n*G,p+=n*q,g+=n*j,_+=n*$,E+=n*Y,A+=n*X,y+=n*z,m+=n*V,s+=(n=t[1])*P,a+=n*x,c+=n*H,u+=n*Q,h+=n*F,f+=n*M,l+=n*K,d+=n*W,p+=n*G,g+=n*q,_+=n*j,E+=n*$,A+=n*Y,y+=n*X,m+=n*z,w+=n*V,a+=(n=t[2])*P,c+=n*x,u+=n*H,h+=n*Q,f+=n*F,l+=n*M,d+=n*K,p+=n*W,g+=n*G,_+=n*q,E+=n*j,A+=n*$,y+=n*Y,m+=n*X,w+=n*z,v+=n*V,c+=(n=t[3])*P,u+=n*x,h+=n*H,f+=n*Q,l+=n*F,d+=n*M,p+=n*K,g+=n*W,_+=n*G,E+=n*q,A+=n*j,y+=n*$,m+=n*Y,w+=n*X,v+=n*z,b+=n*V,u+=(n=t[4])*P,h+=n*x,f+=n*H,l+=n*Q,d+=n*F,p+=n*M,g+=n*K,_+=n*W,E+=n*G,A+=n*q,y+=n*j,m+=n*$,w+=n*Y,v+=n*X,b+=n*z,I+=n*V,h+=(n=t[5])*P,f+=n*x,l+=n*H,d+=n*Q,p+=n*F,g+=n*M,_+=n*K,E+=n*W,A+=n*G,y+=n*q,m+=n*j,w+=n*$,v+=n*Y,b+=n*X,I+=n*z,S+=n*V,f+=(n=t[6])*P,l+=n*x,d+=n*H,p+=n*Q,g+=n*F,_+=n*M,E+=n*K,A+=n*W,y+=n*G,m+=n*q,w+=n*j,v+=n*$,b+=n*Y,I+=n*X,S+=n*z,B+=n*V,l+=(n=t[7])*P,d+=n*x,p+=n*H,g+=n*Q,_+=n*F,E+=n*M,A+=n*K,y+=n*W,m+=n*G,w+=n*q,v+=n*j,b+=n*$,I+=n*Y,S+=n*X,B+=n*z,k+=n*V,d+=(n=t[8])*P,p+=n*x,g+=n*H,_+=n*Q,E+=n*F,A+=n*M,y+=n*K,m+=n*W,w+=n*G,v+=n*q,b+=n*j,I+=n*$,S+=n*Y,B+=n*X,k+=n*z,C+=n*V,p+=(n=t[9])*P,g+=n*x,_+=n*H,E+=n*Q,A+=n*F,y+=n*M,m+=n*K,w+=n*W,v+=n*G,b+=n*q,I+=n*j,S+=n*$,B+=n*Y,k+=n*X,C+=n*z,R+=n*V,g+=(n=t[10])*P,_+=n*x,E+=n*H,A+=n*Q,y+=n*F,m+=n*M,w+=n*K,v+=n*W,b+=n*G,I+=n*q,S+=n*j,B+=n*$,k+=n*Y,C+=n*X,R+=n*z,N+=n*V,_+=(n=t[11])*P,E+=n*x,A+=n*H,y+=n*Q,m+=n*F,w+=n*M,v+=n*K,b+=n*W,I+=n*G,S+=n*q,B+=n*j,k+=n*$,C+=n*Y,R+=n*X,N+=n*z,U+=n*V,E+=(n=t[12])*P,A+=n*x,y+=n*H,m+=n*Q,w+=n*F,v+=n*M,b+=n*K,I+=n*W,S+=n*G,B+=n*q,k+=n*j,C+=n*$,R+=n*Y,N+=n*X,U+=n*z,T+=n*V,A+=(n=t[13])*P,y+=n*x,m+=n*H,w+=n*Q,v+=n*F,b+=n*M,I+=n*K,S+=n*W,B+=n*G,k+=n*q,C+=n*j,R+=n*$,N+=n*Y,U+=n*X,T+=n*z,O+=n*V,y+=(n=t[14])*P,m+=n*x,w+=n*H,v+=n*Q,b+=n*F,I+=n*M,S+=n*K,B+=n*W,k+=n*G,C+=n*q,R+=n*j,N+=n*$,U+=n*Y,T+=n*X,O+=n*z,L+=n*V,m+=(n=t[15])*P,s+=38*(v+=n*H),a+=38*(b+=n*Q),c+=38*(I+=n*F),u+=38*(S+=n*M),h+=38*(B+=n*K),f+=38*(k+=n*W),l+=38*(C+=n*G),d+=38*(R+=n*q),p+=38*(N+=n*j),g+=38*(U+=n*$),_+=38*(T+=n*Y),E+=38*(O+=n*X),A+=38*(L+=n*z),y+=38*(D+=n*V),o=(n=(o+=38*(w+=n*x))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),A=(n=A+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),A=(n=A+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=h,e[6]=f,e[7]=l,e[8]=d,e[9]=p,e[10]=g,e[11]=_,e[12]=E,e[13]=A,e[14]=y,e[15]=m}function F(e,t){Q(e,t,t)}function M(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)F(i,i),2!==n&&4!==n&&Q(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function K(e,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),u=t(),h=t(),f=t(),l=t(),d=t(),p=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,P(a,n),o=0;o<16;o++)h[o]=a[o],l[o]=u[o]=f[o]=0;for(u[0]=l[0]=1,o=254;o>=0;--o)T(u,h,i=s[o>>>3]>>>(7&o)&1),T(f,l,i),x(d,u,f),H(u,u,f),x(f,h,l),H(h,h,l),F(l,d),F(p,u),Q(u,f,u),Q(f,h,d),x(d,u,f),H(u,u,f),F(h,u),H(f,l,p),Q(u,f,c),x(u,u,l),Q(f,f,u),Q(u,l,p),Q(l,h,a),F(h,d),T(u,h,i),T(f,l,i);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=f[o],a[o+48]=h[o],a[o+64]=l[o];var g=a.subarray(32),_=a.subarray(16);return M(g,g),Q(_,_,g),O(e,_),0}function W(e,t){return K(e,t,o)}function G(e,t){return n(t,32),W(e,t)}function q(e,t,r){var n=new Uint8Array(32);return K(n,r,t),y(e,i,n,m)}S.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,c,u,h,f,l,d,p,g,_,E,A,y,m,w,v=this.fin?0:2048,b=this.h[0],I=this.h[1],S=this.h[2],B=this.h[3],k=this.h[4],C=this.h[5],R=this.h[6],N=this.h[7],U=this.h[8],T=this.h[9],O=this.r[0],L=this.r[1],D=this.r[2],P=this.r[3],x=this.r[4],H=this.r[5],Q=this.r[6],F=this.r[7],M=this.r[8],K=this.r[9];r>=16;)l=f=0,l+=(b+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*O,l+=(I+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*K),l+=(S+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*M),l+=(B+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),f=(l+=(k+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*Q))>>>13,l&=8191,l+=(C+=a>>>1&8191)*(5*H),l+=(R+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*x),l+=(N+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*P),l+=(U+=8191&(u>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*D),d=f+=(l+=(T+=h>>>5|v)*(5*L))>>>13,d+=b*L,d+=I*O,d+=S*(5*K),d+=B*(5*M),f=(d+=k*(5*F))>>>13,d&=8191,d+=C*(5*Q),d+=R*(5*H),d+=N*(5*x),d+=U*(5*P),f+=(d+=T*(5*D))>>>13,d&=8191,p=f,p+=b*D,p+=I*L,p+=S*O,p+=B*(5*K),f=(p+=k*(5*M))>>>13,p&=8191,p+=C*(5*F),p+=R*(5*Q),p+=N*(5*H),p+=U*(5*x),g=f+=(p+=T*(5*P))>>>13,g+=b*P,g+=I*D,g+=S*L,g+=B*O,f=(g+=k*(5*K))>>>13,g&=8191,g+=C*(5*M),g+=R*(5*F),g+=N*(5*Q),g+=U*(5*H),_=f+=(g+=T*(5*x))>>>13,_+=b*x,_+=I*P,_+=S*D,_+=B*L,f=(_+=k*O)>>>13,_&=8191,_+=C*(5*K),_+=R*(5*M),_+=N*(5*F),_+=U*(5*Q),E=f+=(_+=T*(5*H))>>>13,E+=b*H,E+=I*x,E+=S*P,E+=B*D,f=(E+=k*L)>>>13,E&=8191,E+=C*O,E+=R*(5*K),E+=N*(5*M),E+=U*(5*F),A=f+=(E+=T*(5*Q))>>>13,A+=b*Q,A+=I*H,A+=S*x,A+=B*P,f=(A+=k*D)>>>13,A&=8191,A+=C*L,A+=R*O,A+=N*(5*K),A+=U*(5*M),y=f+=(A+=T*(5*F))>>>13,y+=b*F,y+=I*Q,y+=S*H,y+=B*x,f=(y+=k*P)>>>13,y&=8191,y+=C*D,y+=R*L,y+=N*O,y+=U*(5*K),m=f+=(y+=T*(5*M))>>>13,m+=b*M,m+=I*F,m+=S*Q,m+=B*H,f=(m+=k*x)>>>13,m&=8191,m+=C*P,m+=R*D,m+=N*L,m+=U*O,w=f+=(m+=T*(5*K))>>>13,w+=b*K,w+=I*M,w+=S*F,w+=B*Q,f=(w+=k*H)>>>13,w&=8191,w+=C*x,w+=R*P,w+=N*D,w+=U*L,b=l=8191&(f=(f=((f+=(w+=T*O)>>>13)<<2)+f|0)+(l&=8191)|0),I=d+=f>>>=13,S=p&=8191,B=g&=8191,k=_&=8191,C=E&=8191,R=A&=8191,N=y&=8191,U=m&=8191,T=w&=8191,t+=16,r-=16;this.h[0]=b,this.h[1]=I,this.h[2]=S,this.h[3]=B,this.h[4]=k,this.h[5]=C,this.h[6]=R,this.h[7]=N,this.h[8]=U,this.h[9]=T},S.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},S.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var j=C,$=R,Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(e,t,r,n){for(var i,o,s,a,c,u,h,f,l,d,p,g,_,E,A,y,m,w,v,b,I,S,B,k,C,R,N=new Int32Array(16),U=new Int32Array(16),T=e[0],O=e[1],L=e[2],D=e[3],P=e[4],x=e[5],H=e[6],Q=e[7],F=t[0],M=t[1],K=t[2],W=t[3],G=t[4],q=t[5],j=t[6],$=t[7],X=0;n>=128;){for(v=0;v<16;v++)b=8*v+X,N[v]=r[b+0]<<24|r[b+1]<<16|r[b+2]<<8|r[b+3],U[v]=r[b+4]<<24|r[b+5]<<16|r[b+6]<<8|r[b+7];for(v=0;v<80;v++)if(i=T,o=O,s=L,a=D,c=P,u=x,h=H,l=F,d=M,p=K,g=W,_=G,E=q,A=j,B=65535&(S=$),k=S>>>16,C=65535&(I=Q),R=I>>>16,B+=65535&(S=(G>>>14|P<<18)^(G>>>18|P<<14)^(P>>>9|G<<23)),k+=S>>>16,C+=65535&(I=(P>>>14|G<<18)^(P>>>18|G<<14)^(G>>>9|P<<23)),R+=I>>>16,B+=65535&(S=G&q^~G&j),k+=S>>>16,C+=65535&(I=P&x^~P&H),R+=I>>>16,B+=65535&(S=Y[2*v+1]),k+=S>>>16,C+=65535&(I=Y[2*v]),R+=I>>>16,I=N[v%16],k+=(S=U[v%16])>>>16,C+=65535&I,R+=I>>>16,C+=(k+=(B+=65535&S)>>>16)>>>16,B=65535&(S=w=65535&B|k<<16),k=S>>>16,C=65535&(I=m=65535&C|(R+=C>>>16)<<16),R=I>>>16,B+=65535&(S=(F>>>28|T<<4)^(T>>>2|F<<30)^(T>>>7|F<<25)),k+=S>>>16,C+=65535&(I=(T>>>28|F<<4)^(F>>>2|T<<30)^(F>>>7|T<<25)),R+=I>>>16,k+=(S=F&M^F&K^M&K)>>>16,C+=65535&(I=T&O^T&L^O&L),R+=I>>>16,f=65535&(C+=(k+=(B+=65535&S)>>>16)>>>16)|(R+=C>>>16)<<16,y=65535&B|k<<16,B=65535&(S=g),k=S>>>16,C=65535&(I=a),R=I>>>16,k+=(S=w)>>>16,C+=65535&(I=m),R+=I>>>16,O=i,L=o,D=s,P=a=65535&(C+=(k+=(B+=65535&S)>>>16)>>>16)|(R+=C>>>16)<<16,x=c,H=u,Q=h,T=f,M=l,K=d,W=p,G=g=65535&B|k<<16,q=_,j=E,$=A,F=y,v%16==15)for(b=0;b<16;b++)I=N[b],B=65535&(S=U[b]),k=S>>>16,C=65535&I,R=I>>>16,I=N[(b+9)%16],B+=65535&(S=U[(b+9)%16]),k+=S>>>16,C+=65535&I,R+=I>>>16,m=N[(b+1)%16],B+=65535&(S=((w=U[(b+1)%16])>>>1|m<<31)^(w>>>8|m<<24)^(w>>>7|m<<25)),k+=S>>>16,C+=65535&(I=(m>>>1|w<<31)^(m>>>8|w<<24)^m>>>7),R+=I>>>16,m=N[(b+14)%16],k+=(S=((w=U[(b+14)%16])>>>19|m<<13)^(m>>>29|w<<3)^(w>>>6|m<<26))>>>16,C+=65535&(I=(m>>>19|w<<13)^(w>>>29|m<<3)^m>>>6),R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,N[b]=65535&C|R<<16,U[b]=65535&B|k<<16;B=65535&(S=F),k=S>>>16,C=65535&(I=T),R=I>>>16,I=e[0],k+=(S=t[0])>>>16,C+=65535&I,R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,e[0]=T=65535&C|R<<16,t[0]=F=65535&B|k<<16,B=65535&(S=M),k=S>>>16,C=65535&(I=O),R=I>>>16,I=e[1],k+=(S=t[1])>>>16,C+=65535&I,R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,e[1]=O=65535&C|R<<16,t[1]=M=65535&B|k<<16,B=65535&(S=K),k=S>>>16,C=65535&(I=L),R=I>>>16,I=e[2],k+=(S=t[2])>>>16,C+=65535&I,R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,e[2]=L=65535&C|R<<16,t[2]=K=65535&B|k<<16,B=65535&(S=W),k=S>>>16,C=65535&(I=D),R=I>>>16,I=e[3],k+=(S=t[3])>>>16,C+=65535&I,R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,e[3]=D=65535&C|R<<16,t[3]=W=65535&B|k<<16,B=65535&(S=G),k=S>>>16,C=65535&(I=P),R=I>>>16,I=e[4],k+=(S=t[4])>>>16,C+=65535&I,R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,e[4]=P=65535&C|R<<16,t[4]=G=65535&B|k<<16,B=65535&(S=q),k=S>>>16,C=65535&(I=x),R=I>>>16,I=e[5],k+=(S=t[5])>>>16,C+=65535&I,R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,e[5]=x=65535&C|R<<16,t[5]=q=65535&B|k<<16,B=65535&(S=j),k=S>>>16,C=65535&(I=H),R=I>>>16,I=e[6],k+=(S=t[6])>>>16,C+=65535&I,R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,e[6]=H=65535&C|R<<16,t[6]=j=65535&B|k<<16,B=65535&(S=$),k=S>>>16,C=65535&(I=Q),R=I>>>16,I=e[7],k+=(S=t[7])>>>16,C+=65535&I,R+=I>>>16,R+=(C+=(k+=(B+=65535&S)>>>16)>>>16)>>>16,e[7]=Q=65535&C|R<<16,t[7]=$=65535&B|k<<16,X+=128,n-=128}return n}function z(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,X(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,p(s,r-8,a/536870912|0,a<<3),X(i,o,s,r),n=0;n<8;n++)p(e,8*n,i[n],o[n]);return 0}function V(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),c=t(),u=t(),f=t(),l=t();H(n,e[1],e[0]),H(l,r[1],r[0]),Q(n,n,l),x(i,e[0],e[1]),x(l,r[0],r[1]),Q(i,i,l),Q(o,e[3],r[3]),Q(o,o,h),Q(s,e[2],r[2]),x(s,s,s),H(a,i,n),H(c,s,o),x(u,s,o),x(f,i,n),Q(e[0],a,c),Q(e[1],f,u),Q(e[2],u,c),Q(e[3],a,f)}function J(e,t,r){var n;for(n=0;n<4;n++)T(e[n],t[n],r)}function Z(e,r){var n=t(),i=t(),o=t();M(o,r[2]),Q(n,r[0],o),Q(i,r[1],o),O(e,i),e[31]^=D(n)<<7}function ee(e,t,r){var n,i;for(N(e[0],s),N(e[1],a),N(e[2],a),N(e[3],s),i=255;i>=0;--i)J(e,t,n=r[i/8|0]>>(7&i)&1),V(t,e),V(e,e),J(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];N(n[0],f),N(n[1],l),N(n[2],a),Q(n[3],f,l),ee(e,n,r)}function re(e,r,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),z(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),Z(e,a),o=0;o<32;o++)r[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function se(e,r,n,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),h=new Float64Array(64),f=[t(),t(),t(),t()];z(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(z(u,e.subarray(32),n+32),oe(u),te(f,u),Z(e,f),o=32;o<64;o++)e[o]=i[o];for(z(c,e,n+64),oe(c),o=0;o<64;o++)h[o]=0;for(o=0;o<32;o++)h[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)h[o+s]+=c[o]*a[s];return ie(e.subarray(32),h),l}function ae(e,r,n,i){var o,c=new Uint8Array(32),h=new Uint8Array(64),f=[t(),t(),t(),t()],l=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),o=t(),c=t(),h=t(),f=t(),l=t();return N(e[2],a),P(e[1],r),F(o,e[1]),Q(c,o,u),H(o,o,e[2]),x(c,e[2],c),F(h,c),F(f,h),Q(l,f,h),Q(n,l,o),Q(n,n,c),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)F(i,i),1!==n&&Q(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),Q(n,n,o),Q(n,n,c),Q(n,n,c),Q(e[0],n,c),F(i,e[0]),Q(i,i,c),L(i,o)&&Q(e[0],e[0],d),F(i,e[0]),Q(i,i,c),L(i,o)?-1:(D(e[0])===r[31]>>7&&H(e[0],s,e[0]),Q(e[3],e[0],e[1]),0)}(l,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(z(h,e,n),oe(h),ee(f,l,h),te(l,r.subarray(32)),V(f,l),Z(c,f),n-=64,E(r,0,c,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var ce,ue=64,he=32,fe=64;function le(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function de(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:I,crypto_stream:b,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:v,crypto_onetimeauth:B,crypto_onetimeauth_verify:k,crypto_verify_16:_,crypto_verify_32:E,crypto_secretbox:C,crypto_secretbox_open:R,crypto_scalarmult:K,crypto_scalarmult_base:W,crypto_box_beforenm:q,crypto_box_afternm:j,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return q(s,i,o),j(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return q(s,i,o),$(e,t,r,n,s)},crypto_box_keypair:G,crypto_hash:z,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ae,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:he,crypto_sign_SECRETKEYBYTES:fe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){de(e,t,r),le(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return C(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){de(e,t,r),le(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return!(n.length<32)&&0===R(i,n,n.length,t,r)&&i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(de(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return K(r,e,t),r},e.scalarMult.base=function(e){if(de(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return W(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){de(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return q(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return G(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(de(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return W(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(de(e,t),t.length!==fe)throw new Error("bad secret key size");var r=new Uint8Array(ue+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(de(e,t),t.length!==he)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ae(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(ue),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(de(e,t,r),t.length!==ue)throw new Error("bad signature size");if(r.length!==he)throw new Error("bad public key size");var n,i=new Uint8Array(ue+e.length),o=new Uint8Array(ue+e.length);for(n=0;n<ue;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+ue]=e[n];return ae(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(fe);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(de(e),e.length!==fe)throw new Error("bad secret key size");for(var t=new Uint8Array(he),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(de(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(he),r=new Uint8Array(fe),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=he,e.sign.secretKeyLength=fe,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){de(e);var t=new Uint8Array(64);return z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return de(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===g(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},(ce="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&ce.getRandomValues?e.setPRNG(function(e,t){var r,n=new Uint8Array(t);for(r=0;r<t;r+=65536)ce.getRandomValues(n.subarray(r,r+Math.min(t-r,65536)));for(r=0;r<t;r++)e[r]=n[r];pe(n)}):(ce=r(6982))&&ce.randomBytes&&e.setPRNG(function(e,t){var r,n=ce.randomBytes(t);for(r=0;r<t;r++)e[r]=n[r];pe(n)})}(e.exports?e.exports:self.nacl=self.nacl||{})},7444:(e,t,r)=>{var n,i=/^PuTTY-User-Key-File-2: ssh-(rsa|dss)\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/,o=/^-----BEGIN (RSA|DSA) PRIVATE KEY-----$/i,s=/^-----END (?:RSA|DSA) PRIVATE KEY-----$/i,a=/^(ssh-(rsa|dss)(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/i,c=/^---- BEGIN SSH2 PUBLIC KEY ----$/i,u=/^---- END SSH2 PUBLIC KEY ----$/i,h=/^([^:]+):\s*([\S].*)?$/i,f=/^([^:]+): (.*)?$/i;e.exports=function(e){if(Buffer.isBuffer(e))e=e.toString("utf8");else if("string"!=typeof e)return new Error("Key data must be a Buffer or string");var t,l,d,p={fulltype:void 0,type:void 0,extra:void 0,comment:void 0,encryption:void 0,private:void 0,privateOrig:void 0,public:void 0,publicOrig:void 0};for(e=e.trim().split(/\r\n|\n/);!e[0].length;)e.shift();for(;!e.slice(-1)[0].length;)e.pop();var g=e.join("\n");if((t=o.exec(e[0]))&&s.test(e.slice(-1))){if(p.type="dsa"===t[1].toLowerCase()?"dss":"rsa",h.test(e[1])){for(l=1,d=e.length;l<d;++l)if(t=h.exec(e[l]))t[1]=t[1].toLowerCase(),"dek-info"===t[1]&&(t[2]=t[2].split(","),p.encryption=t[2][0].toLowerCase(),t[2].length>1&&(p.extra=t[2].slice(1)));else if(e[l].length)break;p.private=new Buffer(e.slice(l,-1).join(""),"base64")}else p.private=new Buffer(e.slice(1,-1).join(""),"base64");p.privateOrig=new Buffer(g)}else if(t=a.exec(e[0]))p.fulltype=t[1],p.type=t[2].toLowerCase(),p.public=new Buffer(t[3],"base64"),p.publicOrig=new Buffer(g),p.comment=t[4];else if(c.test(e[0])&&u.test(e.slice(-1))){if(-1===e[1].indexOf(": "))p.public=new Buffer(e.slice(1,-1).join(""),"base64");else{for(l=1,d=e.length;l<d;++l)if(-1!==e[l].indexOf(": ")){for(;"\\"===e[l].substr(-1);){if(!(l+1<d))return new Error("RFC4716 public key missing header continuation line");e[l]=e[l].slice(0,-1)+e[l+1],e.splice(l+1,1),--d}if(!(t=f.exec(e[l])))return new Error("RFC4716 public key invalid header line");t[1]=t[1].toLowerCase(),"comment"===t[1]&&(p.comment=t[2]||"",'"'===p.comment[0]&&'"'===p.comment.substr(-1)&&(p.comment=p.comment.slice(1,-1)))}else if(e[l].length)break;p.public=new Buffer(e.slice(l,-1).join(""),"base64")}d=p.public.readUInt32BE(0,!0);var _=p.public.toString("ascii",4,4+d);if(p.fulltype=_,"ssh-dss"===_)p.type="dss";else{if("ssh-rsa"!==_)return new Error("Unsupported RFC4716 public key type: "+_);p.type="rsa"}p.public=p.public.slice(11),p.publicOrig=new Buffer(g)}else{if(!(t=i.exec(g)))return new Error("Unsupported key format");n||(n=r(3949)),p.ppk=!0,p.type=t[1],p.fulltype="ssh-"+t[1],"none"!==t[2]&&(p.encryption=t[2]),p.comment=t[3],p.public=new Buffer(t[4].replace(/\r?\n/g,""),"base64");var E=new Buffer(t[5].replace(/\r?\n/g,""),"base64");if(p.privateMAC=t[6].replace(/\r?\n/g,""),!p.encryption&&!n.verifyPPKMAC(p,void 0,E))throw new Error("PPK MAC mismatch");var A=n.genPublicKey(p);p.public=A.public,p.publicOrig=A.publicOrig,p.private=E,p.encryption||n.convertPPKPrivate(p)}return p}},7469:(e,t,r)=>{e.exports=h;var n=r(3169),i=r(181).Buffer;h.ReadableState=u;var o=r(4434).EventEmitter;o.listenerCount||(o.listenerCount=function(e,t){return e.listeners(t).length});var s,a=r(2203),c=r(5945);function u(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=r(1146).I),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function h(e){if(!(this instanceof h))return new h(e);this._readableState=new u(e,this),this.readable=!0,a.call(this)}function f(e,t,r,n,o){var s=function(e,t){var r=null;return i.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(t,r);if(s)e.emit("error",s);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?p(e):m(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!o){var a=new Error("stream.push() after EOF");e.emit("error",a)}else t.endEmitted&&o?(a=new Error("stream.unshift() after end event"),e.emit("error",a)):(!t.decoder||o||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,o?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&p(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){!function(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)}))}(e,t));else o||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}c.inherits=r(1726),c.inherits(h,a),h.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new i(e,t),t=""),f(this,r,e,t,!1)},h.prototype.unshift=function(e){return f(this,this._readableState,e,"",!0)},h.prototype.setEncoding=function(e){s||(s=r(1146).I),this._readableState.decoder=new s(e),this._readableState.encoding=e};var l=8388608;function d(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=l)e=l;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function p(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick(function(){g(e)}):g(e))}function g(e){e.emit("readable")}function _(e){var t,r=e._readableState;function n(e,n,i){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):w(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(o.listenerCount(e,"data")>0&&A(e));r.ranOut=!0}function E(){this._readableState.ranOut&&(this._readableState.ranOut=!1,_(this))}function A(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,n=!1;e.readable=!0,e.pipe=a.prototype.pipe,e.on=e.addListener=a.prototype.on,e.on("readable",function(){var t;for(n=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,n?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var r,n=t.buffer,o=t.length,s=!!t.decoder,a=!!t.objectMode;if(0===n.length)return null;if(0===o)r=null;else if(a)r=n.shift();else if(!e||e>=o)r=s?n.join(""):i.concat(n,o),n.length=0;else if(e<n[0].length)r=(f=n[0]).slice(0,e),n[0]=f.slice(e);else if(e===n[0].length)r=n.shift();else{r=s?"":new i(e);for(var c=0,u=0,h=n.length;u<h&&c<e;u++){var f=n[0],l=Math.min(e-c,f.length);s?r+=f.slice(0,l):f.copy(r,c,0,l),l<f.length?n[0]=f.slice(l):n.shift(),c+=l}}return r}function m(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}h.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p(this),null;if(0===(e=d(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=y(e,t),t.length-=r.length),0===t.length&&m(this),r;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=d(n,t)),null===(r=e>0?y(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&m(this),r},h.prototype._read=function(e){this.emit("error",new Error("not implemented"))},h.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1;var s=t&&!1===t.end||e===process.stdout||e===process.stderr?h:c;function a(e){e===r&&h()}function c(){e.end()}i.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",a);var u=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&_(e)}}(r);function h(){e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",h),e._writableState&&!e._writableState.needDrain||u()}function f(t){p(),e.removeListener("error",f),0===o.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",d),p()}function d(){e.removeListener("close",l),p()}function p(){r.unpipe(e)}return e.on("drain",u),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(f):e._events.error=[f,e._events.error]:e.on("error",f),e.once("close",l),e.once("finish",d),e.emit("pipe",r),i.flowing||(this.on("readable",E),i.flowing=!0,process.nextTick(function(){_(r)})),e},h.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",E),t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",E),t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},h.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||A(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&p(this):this.read(0))}return r},h.prototype.addListener=h.prototype.on,h.prototype.resume=function(){A(this),this.read(0),this.emit("resume")},h.prototype.pause=function(){A(this,!0),this.emit("pause")},h.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))}),e)"function"==typeof e[i]&&void 0===this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return w(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){r&&(r=!1,e.resume())},n},h._fromList=y},7516:(e,t,r)=>{"use strict";const n=new Array(256);[r(4989).HANDLERS,r(4172)].forEach(e=>{for(let[t,r]of Object.entries(e))t=+t,isFinite(t)&&t>=0&&t<n.length&&(n[t]=r)}),e.exports=n},7532:(e,t,r)=>{e.exports=r(866)},7903:(e,t,r)=>{e.exports=a;var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},i=r(5945);i.inherits=r(1726);var o=r(7469),s=r(6653);function a(e){if(!(this instanceof a))return new a(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}i.inherits(a,o),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r])}(n(s.prototype),function(e){a.prototype[e]||(a.prototype[e]=s.prototype[e])})},7985:(e,t,r)=>{var n=r(6928),i="win32"===process.platform,o=r(9896),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(n.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;t.realpathSync=function(e,t){if(e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,s,u,h,f=e,l={},d={};function p(){var t=c.exec(e);r=t[0].length,s=t[0],u=t[0],h="",i&&!d[u]&&(o.lstatSync(u),d[u]=!0)}for(p();r<e.length;){a.lastIndex=r;var g=a.exec(e);if(h=s,s+=g[0],u=h+g[1],r=a.lastIndex,!(d[u]||t&&t[u]===u)){var _;if(t&&Object.prototype.hasOwnProperty.call(t,u))_=t[u];else{var E=o.lstatSync(u);if(!E.isSymbolicLink()){d[u]=!0,t&&(t[u]=u);continue}var A=null;if(!i){var y=E.dev.toString(32)+":"+E.ino.toString(32);l.hasOwnProperty(y)&&(A=l[y])}null===A&&(o.statSync(u),A=o.readlinkSync(u)),_=n.resolve(h,A),t&&(t[u]=_),i||(l[y]=A)}e=n.resolve(_,e.slice(r)),p()}}return t&&(t[f]=e),e},t.realpath=function(e,t,r){if("function"!=typeof r&&(r=function(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}(t),t=null),e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var u,h,f,l,d=e,p={},g={};function _(){var t=c.exec(e);u=t[0].length,h=t[0],f=t[0],l="",i&&!g[f]?o.lstat(f,function(e){if(e)return r(e);g[f]=!0,E()}):process.nextTick(E)}function E(){if(u>=e.length)return t&&(t[d]=e),r(null,e);a.lastIndex=u;var n=a.exec(e);return l=h,h+=n[0],f=l+n[1],u=a.lastIndex,g[f]||t&&t[f]===f?process.nextTick(E):t&&Object.prototype.hasOwnProperty.call(t,f)?m(t[f]):o.lstat(f,A)}function A(e,n){if(e)return r(e);if(!n.isSymbolicLink())return g[f]=!0,t&&(t[f]=f),process.nextTick(E);if(!i){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(p.hasOwnProperty(s))return y(null,p[s],f)}o.stat(f,function(e){if(e)return r(e);o.readlink(f,function(e,t){i||(p[s]=t),y(e,t)})})}function y(e,i,o){if(e)return r(e);var s=n.resolve(l,i);t&&(t[o]=s),m(s)}function m(t){e=n.resolve(t,e.slice(u)),_()}_()}},7990:(e,t,r)=>{"use strict";const n=r(9570),i=r(2581).fromPromise;e.exports={utimesMillis:i(async function(e,t,r){const i=await n.open(e,"r+");let o=null;try{await n.futimes(i,t,r)}finally{try{await n.close(i)}catch(e){o=e}}if(o)throw o}),utimesMillisSync:function(e,t,r){const i=n.openSync(e,"r+");return n.futimesSync(i,t,r),n.closeSync(i)}}},8119:(e,t,r)=>{"use strict";const n=r(2581).fromPromise,i=r(5071);i.outputJson=n(r(9801)),i.outputJsonSync=r(5161),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},8297:(e,t,r)=>{"use strict";const n=r(2581).fromPromise,i=r(6928),o=r(9570),s=r(2865);e.exports={createFile:n(async function(e){let t;try{t=await o.stat(e)}catch{}if(t&&t.isFile())return;const r=i.dirname(e);let n=null;try{n=await o.stat(r)}catch(t){if("ENOENT"===t.code)return await s.mkdirs(r),void await o.writeFile(e,"");throw t}n.isDirectory()?await o.writeFile(e,""):await o.readdir(r)}),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const r=i.dirname(e);try{o.statSync(r).isDirectory()||o.readdirSync(r)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(r)}o.writeFileSync(e,"")}}},8342:e=>{"use strict";e.exports={rE:"1.17.0"}},8365:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},8377:e=>{function t(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function r(){return new t(null)}t.prototype.am=function(e,t,r,n,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,h=a*c+u*s;i=((c=s*c+((16383&h)<<14)+r[n]+i)>>28)+(h>>14)+a*u,r[n++]=268435455&c}return i},t.prototype.DB=28,t.prototype.DM=268435455,t.prototype.DV=1<<28,t.prototype.FV=Math.pow(2,52),t.prototype.F1=24,t.prototype.F2=4;var n,i,o=new Array;for(n="0".charCodeAt(0),i=0;i<=9;++i)o[n++]=i;for(n="a".charCodeAt(0),i=10;i<36;++i)o[n++]=i;for(n="A".charCodeAt(0),i=10;i<36;++i)o[n++]=i;function s(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function a(e,t){var r=o[e.charCodeAt(t)];return null==r?-1:r}function c(e){var t=r();return t.fromInt(e),t}function u(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function h(e){this.m=e}function f(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function l(e,t){return e&t}function d(e,t){return e|t}function p(e,t){return e^t}function g(e,t){return e&~t}function _(e){if(0==e)return-1;var t=0;return 65535&e||(e>>=16,t+=16),255&e||(e>>=8,t+=8),15&e||(e>>=4,t+=4),3&e||(e>>=2,t+=2),1&e||++t,t}function E(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function A(){}function y(e){return e}function m(e){this.r2=r(),this.q3=r(),t.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}h.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},h.prototype.revert=function(e){return e},h.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},h.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f.prototype.convert=function(e){var n=r();return e.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),e.s<0&&n.compareTo(t.ZERO)>0&&this.m.subTo(n,n),n},f.prototype.revert=function(e){var t=r();return e.copyTo(t),this.reduce(t),t},f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},f.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},t.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},t.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},t.prototype.fromString=function(e,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(e,r);n=2}this.t=0,this.s=0;for(var i=e.length,o=!1,s=0;--i>=0;){var c=8==n?255&e[i]:a(e,i);c<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=c:s+n>this.DB?(this[this.t-1]|=(c&(1<<this.DB-s)-1)<<s,this[this.t++]=c>>this.DB-s):this[this.t-1]|=c<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&128&e[0]&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},t.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},t.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},t.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)t[r]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},t.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},t.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},t.prototype.multiplyTo=function(e,r){var n=this.abs(),i=e.abs(),o=n.t;for(r.t=o+i.t;--o>=0;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=e.s&&t.ZERO.subTo(r,r)},t.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},t.prototype.divRemTo=function(e,n,i){var o=e.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=n&&n.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var a=r(),c=this.s,h=e.s,f=this.DB-u(o[o.t-1]);f>0?(o.lShiftTo(f,a),s.lShiftTo(f,i)):(o.copyTo(a),s.copyTo(i));var l=a.t,d=a[l-1];if(0!=d){var p=d*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),g=this.FV/p,_=(1<<this.F1)/p,E=1<<this.F2,A=i.t,y=A-l,m=null==n?r():n;for(a.dlShiftTo(y,m),i.compareTo(m)>=0&&(i[i.t++]=1,i.subTo(m,i)),t.ONE.dlShiftTo(l,m),m.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--y>=0;){var w=i[--A]==d?this.DM:Math.floor(i[A]*g+(i[A-1]+E)*_);if((i[A]+=a.am(0,w,i,y,0,l))<w)for(a.dlShiftTo(y,m),i.subTo(m,i);i[A]<--w;)i.subTo(m,i)}null!=n&&(i.drShiftTo(l,n),c!=h&&t.ZERO.subTo(n,n)),i.t=l,i.clamp(),f>0&&i.rShiftTo(f,i),c<0&&t.ZERO.subTo(i,i)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var i=r(),o=r(),s=n.convert(this),a=u(e)-1;for(s.copyTo(i);--a>=0;)if(n.sqrTo(i,o),(e&1<<a)>0)n.mulTo(o,s,i);else{var c=i;i=o,o=c}return n.revert(i)},t.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",a=this.t,c=this.DB-a*this.DB%t;if(a-- >0)for(c<this.DB&&(r=this[a]>>c)>0&&(i=!0,o=s(r));a>=0;)c<t?(r=(this[a]&(1<<c)-1)<<t-c,r|=this[--a]>>(c+=this.DB-t)):(r=this[a]>>(c-=t)&n,c<=0&&(c+=this.DB,--a)),r>0&&(i=!0),i&&(o+=s(r));return i?o:"0"},t.prototype.negate=function(){var e=r();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+u(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=r();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new h(t):new f(t),this.exp(e,r)},t.ZERO=c(0),t.ONE=c(1),A.prototype.convert=y,A.prototype.revert=y,A.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},A.prototype.sqrTo=function(e,t){e.squareTo(t)},m.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=r();return e.copyTo(t),this.reduce(t),t},m.prototype.revert=function(e){return e},m.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var w=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],v=(1<<26)/w[w.length-1];t.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},t.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=c(n),o=r(),s=r(),a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(n+s.intValue()).toString(e).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(e)+a},t.prototype.fromRadix=function(e,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),i=Math.pow(r,n),o=!1,s=0,c=0,u=0;u<e.length;++u){var h=a(e,u);h<0?"-"==e.charAt(u)&&0==this.signum()&&(o=!0):(c=r*c+h,++s>=n&&(this.dMultiply(i),this.dAddOffset(c,0),s=0,c=0))}s>0&&(this.dMultiply(Math.pow(r,s)),this.dAddOffset(c,0)),o&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,r,n){if("number"==typeof r)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),d,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=1+(e>>3),r.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},t.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},t.prototype.changeBit=function(e,r){var n=t.ONE.shiftLeft(e);return this.bitwiseTo(n,r,n),n},t.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},t.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},t.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},t.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},t.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),i=n.getLowestSetBit();if(i<=0)return!1;var o=n.shiftRight(i);(e=e+1>>1)>w.length&&(e=w.length);for(var s=r(),a=0;a<e;++a){s.fromInt(w[Math.floor(Math.random()*w.length)]);var c=s.modPow(o,this);if(0!=c.compareTo(t.ONE)&&0!=c.compareTo(n)){for(var u=1;u++<i&&0!=c.compareTo(n);)if(0==(c=c.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=c.compareTo(n))return!1}}return!0},t.prototype.clone=function(){var e=r();return this.copyTo(e),e},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),128&r&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},t.prototype.equals=function(e){return 0==this.compareTo(e)},t.prototype.min=function(e){return this.compareTo(e)<0?this:e},t.prototype.max=function(e){return this.compareTo(e)>0?this:e},t.prototype.and=function(e){var t=r();return this.bitwiseTo(e,l,t),t},t.prototype.or=function(e){var t=r();return this.bitwiseTo(e,d,t),t},t.prototype.xor=function(e){var t=r();return this.bitwiseTo(e,p,t),t},t.prototype.andNot=function(e){var t=r();return this.bitwiseTo(e,g,t),t},t.prototype.not=function(){for(var e=r(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},t.prototype.shiftLeft=function(e){var t=r();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},t.prototype.shiftRight=function(e){var t=r();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},t.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+_(this[e]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=E(this[r]^t);return e},t.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},t.prototype.setBit=function(e){return this.changeBit(e,d)},t.prototype.clearBit=function(e){return this.changeBit(e,g)},t.prototype.flipBit=function(e){return this.changeBit(e,p)},t.prototype.add=function(e){var t=r();return this.addTo(e,t),t},t.prototype.subtract=function(e){var t=r();return this.subTo(e,t),t},t.prototype.multiply=function(e){var t=r();return this.multiplyTo(e,t),t},t.prototype.divide=function(e){var t=r();return this.divRemTo(e,t,null),t},t.prototype.remainder=function(e){var t=r();return this.divRemTo(e,null,t),t},t.prototype.divideAndRemainder=function(e){var t=r(),n=r();return this.divRemTo(e,t,n),new Array(t,n)},t.prototype.modPow=function(e,t){var n,i,o=e.bitLength(),s=c(1);if(o<=0)return s;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new h(t):t.isEven()?new m(t):new f(t);var a=new Array,l=3,d=n-1,p=(1<<n)-1;if(a[1]=i.convert(this),n>1){var g=r();for(i.sqrTo(a[1],g);l<=p;)a[l]=r(),i.mulTo(g,a[l-2],a[l]),l+=2}var _,E,A=e.t-1,y=!0,w=r();for(o=u(e[A])-1;A>=0;){for(o>=d?_=e[A]>>o-d&p:(_=(e[A]&(1<<o+1)-1)<<d-o,A>0&&(_|=e[A-1]>>this.DB+o-d)),l=n;!(1&_);)_>>=1,--l;if((o-=l)<0&&(o+=this.DB,--A),y)a[_].copyTo(s),y=!1;else{for(;l>1;)i.sqrTo(s,w),i.sqrTo(w,s),l-=2;l>0?i.sqrTo(s,w):(E=s,s=w,w=E),i.mulTo(w,a[_],s)}for(;A>=0&&!(e[A]&1<<o);)i.sqrTo(s,w),E=s,s=w,w=E,--o<0&&(o=this.DB-1,--A)}return i.revert(s)},t.prototype.modInverse=function(e){var r=e.isEven();if(this.isEven()&&r||0==e.signum())return t.ZERO;for(var n=e.clone(),i=this.clone(),o=c(1),s=c(0),a=c(0),u=c(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),r?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),r?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(e,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);n.compareTo(i)>=0?(n.subTo(i,n),r&&o.subTo(a,o),s.subTo(u,s)):(i.subTo(n,i),r&&a.subTo(o,a),u.subTo(s,u))}return 0!=i.compareTo(t.ONE)?t.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},t.prototype.pow=function(e){return this.exp(e,new A)},t.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},t.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=w[w.length-1]){for(t=0;t<w.length;++t)if(r[0]==w[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<w.length;){for(var n=w[t],i=t+1;i<w.length&&n<v;)n*=w[i++];for(n=r.modInt(n);t<i;)if(n%w[t++]==0)return!1}return r.millerRabin(e)},t.prototype.square=function(){var e=r();return this.squareTo(e),e},t.prototype.Barrett=m,e.exports=t},8416:(e,t,r)=>{"use strict";const n=r(2581).fromPromise,i=r(6928),o=r(9570),{mkdirs:s,mkdirsSync:a}=r(2865),{symlinkPaths:c,symlinkPathsSync:u}=r(5745),{symlinkType:h,symlinkTypeSync:f}=r(5557),{pathExists:l}=r(2673),{areIdentical:d}=r(2199);e.exports={createSymlink:n(async function(e,t,r){let n;try{n=await o.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[r,n]=await Promise.all([o.stat(e),o.stat(t)]);if(d(r,n))return}const a=await c(e,t);e=a.toDst;const u=await h(a.toCwd,r),f=i.dirname(t);return await l(f)||await s(f),o.symlink(e,t,u)}),createSymlinkSync:function(e,t,r){let n;try{n=o.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const r=o.statSync(e),n=o.statSync(t);if(d(r,n))return}const s=u(e,t);e=s.toDst,r=f(s.toCwd,r);const c=i.dirname(t);return o.existsSync(c)||a(c),o.symlinkSync(e,t,r)}}},8435:(e,t,r)=>{"use strict";var n,i=r(181),o=i.Buffer,s={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=i[n]);var a=s.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=o[n]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},8583:(e,t,r)=>{"use strict";const n=r(3200),i=r(6928),o=r(2865).mkdirsSync,s=r(7990).utimesMillisSync,a=r(2199);function c(e,t,r,o){const s=(o.dereference?n.statSync:n.lstatSync)(t);if(s.isDirectory())return function(e,t,r,i,o){return t?f(r,i,o):function(e,t,r,i){return n.mkdirSync(r),f(t,r,i),h(r,e)}(e.mode,r,i,o)}(s,e,t,r,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,r,i,o){return t?function(e,t,r,i){if(i.overwrite)return n.unlinkSync(r),u(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(e,r,i,o):u(e,r,i,o)}(s,e,t,r,o);if(s.isSymbolicLink())return function(e,t,r,o){let s=n.readlinkSync(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),e){let e;try{e=n.readlinkSync(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return n.symlinkSync(s,r);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return n.unlinkSync(t),n.symlinkSync(e,t)}(s,r)}return n.symlinkSync(s,r)}(e,t,r,o);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function u(e,t,r,i){return n.copyFileSync(t,r),i.preserveTimestamps&&function(e,t,r){(function(e){return!(128&e)})(e)&&function(e,t){h(e,128|t)}(r,e),function(e,t){const r=n.statSync(e);s(t,r.atime,r.mtime)}(t,r)}(e.mode,t,r),h(r,e.mode)}function h(e,t){return n.chmodSync(e,t)}function f(e,t,r){const i=n.opendirSync(e);try{let n;for(;null!==(n=i.readSync());)l(n.name,e,t,r)}finally{i.closeSync()}}function l(e,t,r,n){const o=i.join(t,e),s=i.join(r,e);if(n.filter&&!n.filter(o,s))return;const{destStat:u}=a.checkPathsSync(o,s,"copy",n);return c(u,o,s,n)}e.exports=function(e,t,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:s,destStat:u}=a.checkPathsSync(e,t,"copy",r);if(a.checkParentPathsSync(e,s,t,"copy"),r.filter&&!r.filter(e,t))return;const h=i.dirname(t);return n.existsSync(h)||o(h),c(u,e,t,r)}},8611:e=>{"use strict";e.exports=require("http")},8654:(e,t,r)=>{var n=r(6982),i=r(3106),o=r(2203).Transform,s=r(9023).inherits,a=r(9023).inspect,c=r(2354),u=r(9149).Ber,h=r(2777),f=r(3949),l=f.isStreamCipher,d=f.isGCM,p=f.iv_inc,g=f.parseKey,_=f.decryptKey,E=f.genPublicKey,A=f.readString,y=f.readInt,m=h.MESSAGE,w=h.ALGORITHMS,v=h.DISCONNECT_REASON,b=h.CHANNEL_OPEN_FAILURE,I=h.SSH_TO_OPENSSL,S=h.TERMINAL_MODE,B=h.SIGNALS,k=h.BUGS,C=h.BUGGY_IMPLS,R=C.length,N=r(6914).rE,U=0,T=U++,O=U++,L=U++,D=U++,P=U++,x=U++,H=U++,Q=U++,F=U++,M=U++,K=U++,W=4294967295,G=/^group|gex-sha1$/i,q=/\x00/g,j=new Buffer("SSH-"),$=new Buffer(0),Y=new Buffer([m.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]),X=new Buffer([m.NEWKEYS]),z=new Buffer([m.USERAUTH_SUCCESS]),V=new Buffer([m.REQUEST_SUCCESS]),J=new Buffer([m.REQUEST_FAILURE]),Z=new Buffer([S.TTY_OP_END]),ee=new Buffer([m.KEXDH_GEX_REQUEST,0,0,4,0,0,0,10,0,0,0,20,0]);function te(e){}function re(e){var t,r;"object"!=typeof e&&(e={}),o.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this._needContinue=!1,this.bytesSent=this.bytesReceived=0,this.debug="function"==typeof e.debug?e.debug:te,this.server=!0===e.server,this.doCompress=!1,this.maxPacketSize="number"==typeof e.maxPacketSize?e.maxPacketSize:35e3,this.remoteBugs=0,this.server&&(this.remoteBugs=k.BAD_DHGEX);var s=this;if(this.server&&"string"!=typeof e.privateKey&&!Buffer.isBuffer(e.privateKey))throw new Error("Invalid/missing privateKey");if(this.server){if((t=g(e.privateKey))instanceof Error)throw new Error("Cannot parse privateKey: "+t.message);if(!t.private)throw new Error("privateKey value does not contain a (valid) private key");if(t.encryption){if("string"!=typeof e.passphrase)throw new Error("Encrypted private key detected, but no passphrase given");_(t,e.passphrase)}r=E(t)}if(this.config={privateKey:t,publicKey:r,ident:"SSH-2.0-"+(e.ident||"ssh2js"+N+(this.server?"srv":""))},this.config.ident.replace(q,""),this.config.ident.length+2>255)throw new Error("ident too long");this.reset(!0),this.on("header",function(e){var t=e.identRaw,r=e.versions.software;s.debug("DEBUG: Remote ident: "+a(t));for(var n,i=0;i<R;++i)"string"==typeof(n=C[i])[0]?r===n[0]&&(s.remoteBugs|=n[1]):n[0].test(r)&&(s.remoteBugs|=n[1]);s._state.incoming.identRaw=t,ue(s)}),this.on("end",function(){s._state=void 0,s.reset(),s._state.incoming.hmac.bufCompute=void 0,s._state.outgoing.bufSeqno=void 0}),this.on("DISCONNECT",function(e,t,r,n){!function(e,t,r,n){if(r!==v.BY_APPLICATION){var i=new Error(n||t);i.code=r,e.emit("error",i)}e.reset()}(s,e,t,r)}),this.on("KEXINIT",function(e){!function(e,t){var r=e._state,i=r.outgoing;i.status===M&&(e.debug("DEBUG: Received re-key request"),i.status=K,i.kexinit=void 0,ue(e)),!0===function(e,t){var r,i,o,s,a=e._state,c=a.incoming,u=a.outgoing,h=e.debug;h("DEBUG: Comparing KEXINITs ...");var f=w.KEX;if(e.remoteBugs&k.BAD_DHGEX&&~f.toString().indexOf("group-exchange"))for(var l=(f=f.slice()).length-1;l>=0;--l)~f[l].indexOf("group-exchange")&&f.splice(l,1);for(h("DEBUG: (local) KEX algorithms: "+f),h("DEBUG: (remote) KEX algorithms: "+t.algorithms.kex),e.server?(r=f,i=t.algorithms.kex):(r=t.algorithms.kex,i=f),s=0,o=i.length;s<o&&-1===r.indexOf(i[s]);++s);if(s===o)return h("DEBUG: No matching KEX algorithm"),e.disconnect(v.KEY_EXCHANGE_FAILED),!1;var d=i[s];for(h("DEBUG: KEX algorithm: "+d),h("DEBUG: (local) Host key formats: "+w.SERVER_HOST_KEY),h("DEBUG: (remote) Host key formats: "+t.algorithms.srvHostKey),e.server?(r=w.SERVER_HOST_KEY,i=t.algorithms.srvHostKey):(r=t.algorithms.srvHostKey,i=w.SERVER_HOST_KEY),s=0,o=i.length;s<o&&-1===r.indexOf(i[s]);++s);if(s===o)return h("DEBUG: No matching host key format"),e.disconnect(v.KEY_EXCHANGE_FAILED),!1;for(a.hostkeyFormat=i[s],h("DEBUG: Host key format: "+a.hostkeyFormat),h("DEBUG: (local) Client->Server ciphers: "+w.CIPHER),h("DEBUG: (remote) Client->Server ciphers: "+t.algorithms.cs.encrypt),e.server?(r=w.CIPHER,i=t.algorithms.cs.encrypt):(r=t.algorithms.cs.encrypt,i=w.CIPHER),s=0,o=i.length;s<o&&-1===r.indexOf(i[s]);++s);if(s===o)return h("DEBUG: No matching Client->Server cipher"),e.disconnect(v.KEY_EXCHANGE_FAILED),!1;for(h("DEBUG: Client->Server Cipher: "+(e.server?c.decrypt.type=i[s]:u.encrypt.type=i[s])),h("DEBUG: (local) Server->Client ciphers: "+w.CIPHER),h("DEBUG: (remote) Server->Client ciphers: "+t.algorithms.sc.encrypt),e.server?(r=w.CIPHER,i=t.algorithms.sc.encrypt):(r=t.algorithms.sc.encrypt,i=w.CIPHER),s=0,o=i.length;s<o&&-1===r.indexOf(i[s]);++s);if(s===o)return h("DEBUG: No matching Server->Client cipher"),e.disconnect(v.KEY_EXCHANGE_FAILED),!1;for(h("DEBUG: Server->Client Cipher: "+(e.server?u.encrypt.type=i[s]:c.decrypt.type=i[s])),h("DEBUG: (local) Client->Server HMAC algorithms: "+w.HMAC),h("DEBUG: (remote) Client->Server HMAC algorithms: "+t.algorithms.cs.mac),e.server?(r=w.HMAC,i=t.algorithms.cs.mac):(r=t.algorithms.cs.mac,i=w.HMAC),s=0,o=i.length;s<o&&-1===r.indexOf(i[s]);++s);if(s===o)return h("DEBUG: No matching Client->Server HMAC algorithm"),e.disconnect(v.KEY_EXCHANGE_FAILED),!1;for(h("DEBUG: Client->Server HMAC algorithm: "+(e.server?c.hmac.type=i[s]:u.hmac.type=i[s])),h("DEBUG: (local) Server->Client HMAC algorithms: "+w.HMAC),h("DEBUG: (remote) Server->Client HMAC algorithms: "+t.algorithms.sc.mac),e.server?(r=w.HMAC,i=t.algorithms.sc.mac):(r=t.algorithms.sc.mac,i=w.HMAC),s=0,o=i.length;s<o&&-1===r.indexOf(i[s]);++s);if(s===o)return h("DEBUG: No matching Server->Client HMAC algorithm"),e.disconnect(v.KEY_EXCHANGE_FAILED),!1;h("DEBUG: Server->Client HMAC algorithm: "+(e.server?u.hmac.type=i[s]:c.hmac.type=i[s]));var p=w.COMPRESS;if(e.doCompress&&"none"!==p.slice(-1)){var g=p.indexOf("none");~g&&((p=p.slice()).splice(g,1),p.push("none"))}for(h("DEBUG: (local) Client->Server compression algorithms: "+p),h("DEBUG: (remote) Client->Server compression algorithms: "+t.algorithms.cs.compress),e.server?(r=p,i=t.algorithms.cs.compress):(r=t.algorithms.cs.compress,i=p),s=0,o=i.length;s<o&&-1===r.indexOf(i[s]);++s);if(s===o)return h("DEBUG: No matching Client->Server compression algorithm"),e.disconnect(v.KEY_EXCHANGE_FAILED),!1;for(h("DEBUG: Client->Server compression algorithm: "+(e.server?c.decompress.type=i[s]:u.compress.type=i[s])),h("DEBUG: (local) Server->Client compression algorithms: "+p),h("DEBUG: (remote) Server->Client compression algorithms: "+t.algorithms.sc.compress),e.server?(r=p,i=t.algorithms.sc.compress):(r=t.algorithms.sc.compress,i=p),s=0,o=i.length;s<o&&-1===r.indexOf(i[s]);++s);if(s===o)return h("DEBUG: No matching Server->Client compression algorithm"),e.disconnect(v.KEY_EXCHANGE_FAILED),!1;if(h("DEBUG: Server->Client compression algorithm: "+(e.server?u.compress.type=i[s]:c.decompress.type=i[s])),a.kex="diffie-hellman-group1-sha1"===d?n.getDiffieHellman("modp2"):"diffie-hellman-group14-sha1"===d?n.getDiffieHellman("modp14"):void 0,a.kex){a.kexdh="group",u.pubkey=new Buffer(a.kex.generateKeys("binary"),"binary");var _=0;for(o=u.pubkey.length;0===u.pubkey[_];)++_,--o;if(128&u.pubkey[_]){var E=new Buffer(o+1);E[0]=0,u.pubkey.copy(E,1,_),u.pubkey=E}}else"diffie-hellman-group-exchange-sha1"===d?a.kexdh="gex-sha1":"diffie-hellman-group-exchange-sha256"===d&&(a.kexdh="gex-sha256");return!0}(e,t)&&(e.server?"group"!==r.kexdh?r.incoming.expectedPacket="KEXDH_GEX_REQ":r.incoming.expectedPacket="KEXDH_INIT":"group"!==r.kexdh?function(e){e._state.incoming.expectedPacket="KEXDH_GEX_GROUP",e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_REQUEST"),fe(e,ee,void 0,!0)}(e):he(e))}(s,e)}),this.on("NEWKEYS",function(){!function(e){for(var t=e._state,r=t.outgoing,o=t.incoming,s=0,a=r.kexsecret.length;0===r.kexsecret[s];)++s,--a;var c,u,h=8,f=0,p=0,g=G.test(t.kexdh)?"sha1":"sha256",_=(128&r.kexsecret[s]?1:0)+a,E=new Buffer(4+_);if(E.writeUInt32BE(_,p,!0),p+=4,128&r.kexsecret[s]&&(E[p++]=0),r.kexsecret.copy(E,p,s),r.kexsecret=void 0,l(r.encrypt.type))r.encrypt.size=h,c=$;else{switch(c=new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(e.server?"B":"A","ascii").update(r.sessionId).digest("binary"),"binary"),r.encrypt.type){case"aes128-gcm":case"aes256-gcm":case"aes128-gcm@openssh.com":case"aes256-gcm@openssh.com":h=12;break;case"aes256-cbc":case"aes192-cbc":case"aes128-cbc":case"aes256-ctr":case"aes192-ctr":case"aes128-ctr":h=16}for(r.encrypt.size=h;h>c.length;)c=Buffer.concat([c,new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(c).digest("binary"),"binary")]);c=c.slice(0,h)}switch(r.encrypt.type){case"aes256-gcm":case"aes256-gcm@openssh.com":case"aes256-cbc":case"aes256-ctr":case"arcfour256":f=32;break;case"3des-cbc":case"3des-ctr":case"aes192-cbc":case"aes192-ctr":f=24;break;case"aes128-gcm":case"aes128-gcm@openssh.com":case"aes128-cbc":case"aes128-ctr":case"cast128-cbc":case"blowfish-cbc":case"arcfour":case"arcfour128":f=16}for(u=new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(e.server?"D":"C","ascii").update(r.sessionId).digest("binary"),"binary");f>u.length;)u=Buffer.concat([u,new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(u).digest("binary"),"binary")]);if(u=u.slice(0,f),d(r.encrypt.type))r.encrypt.size=16,r.encrypt.iv=c,r.encrypt.key=u,r.encrypt.instance=!0;else{var A=I[r.encrypt.type];r.encrypt.instance=n.createCipheriv(A,u,c),r.encrypt.instance.setAutoPadding(!1)}if(h=8,f=0,l(o.decrypt.type))o.decrypt.size=h,c=$;else{switch(c=new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(e.server?"A":"B","ascii").update(r.sessionId).digest("binary"),"binary"),o.decrypt.type){case"aes128-gcm":case"aes256-gcm":case"aes128-gcm@openssh.com":case"aes256-gcm@openssh.com":h=12;break;case"aes256-cbc":case"aes192-cbc":case"aes128-cbc":case"aes256-ctr":case"aes192-ctr":case"aes128-ctr":h=16}for(d(o.decrypt.type)?o.decrypt.size=16:o.decrypt.size=h;h>c.length;)c=Buffer.concat([c,new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(c).digest("binary"),"binary")]);c=c.slice(0,h)}switch(o.decrypt.buf=new Buffer(o.decrypt.size),o.decrypt.type){case"aes256-gcm":case"aes256-gcm@openssh.com":case"aes256-cbc":case"aes256-ctr":case"arcfour256":f=32;break;case"3des-cbc":case"3des-ctr":case"aes192-cbc":case"aes192-ctr":f=24;break;case"aes128-gcm":case"aes128-gcm@openssh.com":case"aes128-cbc":case"aes128-ctr":case"cast128-cbc":case"blowfish-cbc":case"arcfour":case"arcfour128":f=16}for(u=new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(e.server?"C":"D","ascii").update(r.sessionId).digest("binary"),"binary");f>u.length;)u=Buffer.concat([u,new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(u).digest("binary"),"binary")]);u=u.slice(0,f);var y,m=I[o.decrypt.type];o.decrypt.instance=n.createDecipheriv(m,u,c),o.decrypt.instance.setAutoPadding(!1),o.decrypt.iv=c,o.decrypt.key=u,"arcfour"===r.encrypt.type.substr(0,7)&&((y=new Buffer(1536)).fill(0),r.encrypt.instance.update(y)),"arcfour"===o.decrypt.type.substr(0,7)&&((y=new Buffer(1536)).fill(0),o.decrypt.instance.update(y));var w=0,v=0;switch(r.hmac.type){case"hmac-ripemd160":case"hmac-sha1":w=20,r.hmac.size=20;break;case"hmac-sha1-96":w=20,r.hmac.size=12;break;case"hmac-sha2-256":w=32,r.hmac.size=32;break;case"hmac-sha2-256-96":w=32,r.hmac.size=12;break;case"hmac-sha2-512":w=64,r.hmac.size=64;break;case"hmac-sha2-512-96":w=64,r.hmac.size=12;break;case"hmac-md5":w=16,r.hmac.size=16;break;case"hmac-md5-96":w=16,r.hmac.size=12}switch(o.hmac.type){case"hmac-ripemd160":case"hmac-sha1":v=20,o.hmac.size=20;break;case"hmac-sha1-96":v=20,o.hmac.size=12;break;case"hmac-sha2-256":v=32,o.hmac.size=32;break;case"hmac-sha2-256-96":v=32,o.hmac.size=12;break;case"hmac-sha2-512":v=64,o.hmac.size=64;break;case"hmac-sha2-512-96":v=64,o.hmac.size=12;break;case"hmac-md5":v=16,o.hmac.size=16;break;case"hmac-md5-96":v=16,o.hmac.size=12}if(d(r.encrypt.type))r.hmac.key=void 0;else{for(u=new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(e.server?"F":"E","ascii").update(r.sessionId).digest("binary"),"binary");w>u.length;)u=Buffer.concat([u,new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(u).digest("binary"),"binary")]);r.hmac.key=u.slice(0,w)}if(d(o.decrypt.type))o.hmac.key=void 0,o.hmac.size=16;else{for(u=new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(e.server?"E":"F","ascii").update(r.sessionId).digest("binary"),"binary");v>u.length;)u=Buffer.concat([u,new Buffer(n.createHash(g).update(E).update(r.exchangeHash).update(u).digest("binary"),"binary")]);o.hmac.key=u.slice(0,v)}if(r.exchangeHash=void 0,o.hmac.buf&&o.hmac.buf.length===o.hmac.size||(o.hmac.buf=new Buffer(o.hmac.size)),!1!==r.compress.type&&"none"!==r.compress.type&&(r.compress.instance=i.deflateSync),!1!==o.decompress.type&&"none"!==o.decompress.type&&(o.decompress.instance=i.inflateSync),e.bytesSent=e.bytesReceived=0,r.status===K){r.status=M,o.expectedPacket=void 0;var b=r.rekeyQueue,S=b.length,B=0;for(r.rekeyQueue=[];B<S;++B)Buffer.isBuffer(b[B])?fe(e,b[B]):fe(e,b[B][0],b[B][1]);S=(b=o.rekeyQueue).length,B=0,o.rekeyQueue=[];for(var k=o.seqno;B<S;++B){if(o.seqno=b[B][0],o.payload=b[B][1],!1===ne(e))return;if(o.status===T)return}o.seqno=k}else r.status=M,o.expectedPacket=void 0}(s)}),this.server?this.on("KEXDH_INIT",function(e){!function(e,t){!function(e,t){for(var r=e._state,i=r.outgoing,o=r.incoming,s=e.config.publicKey.public,a=e.config.publicKey.fulltype,c=e.config.privateKey.privateOrig,h=-1,f=0,l=t.length;f<l&&0===t[f];++f)++h;h>-1&&(t=t.slice(h+1));var d,p,g=r.kex.computeSecret(t,"binary","binary"),_=new Buffer(g,"binary"),E=n.createHash(G.test(r.kexdh)?"sha1":"sha256"),A=Buffer.byteLength(o.identRaw),y=Buffer.byteLength(e.config.ident),w=o.kexinit.length,v=i.kexinit.length,b=s.length,I=0,S=0,B=0,k=t.length,C=i.pubkey.length,R=_.length,N=0,U=0,T=0,O=0;if("group"!==r.kexdh){for(I=12,d=r.kex.getPrime(),p=r.kex.getGenerator(),S=d.length,B=p.length;0===d[T];)++T,--S;for(;0===p[O];)++O,--B;128&d[T]&&++S,128&p[O]&&++B}for(;0===i.pubkey[N];)++N,--C;for(;0===_[U];)++U,--R;128&t[0]&&++k,128&i.pubkey[N]&&++C,128&_[U]&&++R;var L=0,D=new Buffer(A+y+w+v+b+I+S+B+k+C+R+32+("group"!==r.kexdh?8:0));D.writeUInt32BE(A,L,!0),L+=4,D.write(o.identRaw,L,"utf8"),L+=A,D.writeUInt32BE(y,L,!0),L+=4,D.write(e.config.ident,L,"utf8"),L+=y,D.writeUInt32BE(w,L,!0),L+=4,o.kexinit.copy(D,L),L+=w,o.kexinit=void 0,D.writeUInt32BE(v,L,!0),L+=4,i.kexinit.copy(D,L),L+=v,i.kexinit=void 0,D.writeUInt32BE(b,L,!0),L+=4,s.copy(D,L),L+=b,"group"!==r.kexdh&&(ee.slice(1).copy(D,L),L+=I,D.writeUInt32BE(S,L,!0),L+=4,128&d[T]&&(D[L++]=0),d.copy(D,L,T),L+=S-(128&d[T]?1:0),D.writeUInt32BE(B,L,!0),L+=4,128&p[O]&&(D[L++]=0),p.copy(D,L,O),L+=B-(128&p[O]?1:0)),D.writeUInt32BE(k,L,!0),L+=4,128&t[0]&&(D[L++]=0),t.copy(D,L),L+=k-(128&t[0]?1:0),D.writeUInt32BE(C,L,!0),L+=4,128&i.pubkey[N]&&(D[L++]=0),i.pubkey.copy(D,L,N),L+=C-(128&i.pubkey[N]?1:0),D.writeUInt32BE(R,L,!0),L+=4,128&_[U]&&(D[L++]=0),_.copy(D,L,U),i.exchangeHash=new Buffer(E.update(D).digest("binary"),"binary"),void 0===i.sessionId&&(i.sessionId=i.exchangeHash),i.kexsecret=_;var P,x="ssh-rsa"===a?"RSA":"DSA",H=n.createSign(x+"-SHA1");if(H.update(i.exchangeHash,"binary"),P=H.sign(c,"binary"),"ssh-dss"===a){var Q,F,M,K=new u.Reader(new Buffer(P,"binary"));for(K.readSequence(),F=K.readString(u.Integer,!0),M=K.readString(u.Integer,!0),Q=0;F.length-Q>20&&0===F[Q];)++Q;for(Q>0&&(F=F.slice(Q)),Q=0;M.length-Q>20&&0===M[Q];)++Q;Q>0&&(M=M.slice(Q)),P=F.toString("binary")+M.toString("binary")}var W=4+a.length+4+P.length,q=new Buffer(5+b+4+C+4+W);q[L=0]="group"===r.kexdh?m.KEXDH_REPLY:m.KEXDH_GEX_REPLY,++L,q.writeUInt32BE(b,L,!0),L+=4,s.copy(q,L),L+=b,q.writeUInt32BE(C,L,!0),L+=4,128&i.pubkey[N]&&(q[L++]=0),i.pubkey.copy(q,L,N),L+=C-(128&i.pubkey[N]?1:0),q.writeUInt32BE(W,L,!0),L+=4,q.writeUInt32BE(a.length,L,!0),L+=4,q.write(a,L,a.length,"ascii"),L+=a.length,q.writeUInt32BE(P.length,L,!0),L+=4,q.write(P,L,P.length,"binary"),r.incoming.expectedPacket="NEWKEYS",e.debug("DEBUG: Outgoing: Writing KEXDH_REPLY"),fe(e,q,void 0,!0),e.debug("DEBUG: Outgoing: Writing NEWKEYS"),fe(e,X,void 0,!0)}(e,t)}(s,e)}):this.on("KEXDH_REPLY",function(e){!function(e,t,r){var i,o,s=e._state,a=s.incoming,c=s.outgoing,h=e.debug;h("DEBUG: Checking host key format");var f=A(t.hostkey,0,"ascii",e,r);if(!1===f)return!1;if(t.hostkey_format!==s.hostkeyFormat||t.hostkey_format!==f)return h("DEBUG: Host key format mismatch"),e.disconnect(v.KEY_EXCHANGE_FAILED),e.reset(),!1;h("DEBUG: Checking signature format");var l,d=A(t.sig,0,"ascii",e,r);if(!1===d)return!1;if(t.sig_format!==d)return h("DEBUG: Signature format mismatch"),e.disconnect(v.KEY_EXCHANGE_FAILED),e.reset(),!1;if(c.status===F)if(h("DEBUG: Verifying host fingerprint"),e.emit("fingerprint",t.hostkey,function(e){void 0===l&&(l=e)}),void 0===l)h("DEBUG: Host accepted by default (no verification)");else{if(!0!==l)return h("DEBUG: Host denied via fingerprint verification"),e.disconnect(v.KEY_EXCHANGE_FAILED),e.reset(),e.emit("error",new Error("Host fingerprint verification failed")),!1;h("DEBUG: Host accepted (verified)")}var p=-1;for(o=0,i=t.pubkey.length;o<i&&0===t.pubkey[o];++o)++p;p>-1&&(t.pubkey=t.pubkey.slice(p+1));var g=s.kex.computeSecret(t.pubkey,"binary","binary");t.secret=new Buffer(g,"binary");var _,E,y=n.createHash(G.test(s.kexdh)?"sha1":"sha256"),m=Buffer.byteLength(e.config.ident),w=Buffer.byteLength(a.identRaw),b=c.kexinit.length,I=a.kexinit.length,S=t.hostkey.length,B=0,k=0,C=0,R=c.pubkey.length,N=t.pubkey.length,U=t.secret.length,T=0,O=0,L=0,D=0,P=0;if("group"!==s.kexdh){for(B=12,_=s.kex.getPrime(),E=s.kex.getGenerator(),k=_.length,C=E.length;0===_[D];)++D,--k;for(;0===E[P];)++P,--C;128&_[D]&&++k,128&E[P]&&++C}for(;0===c.pubkey[T];)++T,--R;for(;0===t.pubkey[O];)++O,--N;for(;0===t.secret[L];)++L,--U;128&c.pubkey[T]&&++R,128&t.pubkey[O]&&++N,128&t.secret[L]&&++U;var x=0,H=new Buffer(m+w+b+I+S+B+k+C+R+N+U+32+("group"!==s.kexdh?8:0));H.writeUInt32BE(m,x,!0),x+=4,H.write(e.config.ident,x,"utf8"),x+=m,H.writeUInt32BE(w,x,!0),x+=4,H.write(a.identRaw,x,"utf8"),x+=w,H.writeUInt32BE(b,x,!0),x+=4,c.kexinit.copy(H,x),x+=b,c.kexinit=void 0,H.writeUInt32BE(I,x,!0),x+=4,a.kexinit.copy(H,x),x+=I,a.kexinit=void 0,H.writeUInt32BE(S,x,!0),x+=4,t.hostkey.copy(H,x),x+=S,"group"!==s.kexdh&&(ee.slice(1).copy(H,x),x+=B,H.writeUInt32BE(k,x,!0),x+=4,128&_[D]&&(H[x++]=0),_.copy(H,x,D),x+=k-(128&_[D]?1:0),H.writeUInt32BE(C,x,!0),x+=4,128&E[P]&&(H[x++]=0),E.copy(H,x,P),x+=C-(128&E[P]?1:0)),H.writeUInt32BE(R,x,!0),x+=4,128&c.pubkey[T]&&(H[x++]=0),c.pubkey.copy(H,x,T),x+=R-(128&c.pubkey[T]?1:0),H.writeUInt32BE(N,x,!0),x+=4,128&t.pubkey[O]&&(H[x++]=0),t.pubkey.copy(H,x,O),x+=N-(128&t.pubkey[O]?1:0),H.writeUInt32BE(U,x,!0),x+=4,128&t.secret[L]&&(H[x++]=0),t.secret.copy(H,x,L),c.exchangeHash=new Buffer(y.update(H).digest("binary"),"binary");var Q=new u.Writer,M=A(t.sig,t.sig._pos,e,r);if(!1===M)return!1;var W="ssh-rsa"===t.sig_format?"RSA":"DSA",q=n.createVerify(W+"-SHA1");if(q.update(c.exchangeHash,"binary"),Q.startSequence(),"RSA"===W){var j=A(t.hostkey,t.hostkey._pos,e,r);if(!1===j)return!1;var $=A(t.hostkey,t.hostkey._pos,e,r);if(!1===$)return!1;Q.startSequence(),Q.writeOID("1.2.840.113549.1.1.1"),Q.writeNull(),Q.endSequence(),Q.startSequence(u.BitString),Q.writeByte(0),Q.startSequence(),Q.writeBuffer($,u.Integer),Q.writeBuffer(j,u.Integer),Q.endSequence(),Q.endSequence()}else{var Y=A(t.hostkey,t.hostkey._pos,e,r);if(!1===Y)return!1;var z=A(t.hostkey,t.hostkey._pos,e,r);if(!1===z)return!1;var V=A(t.hostkey,t.hostkey._pos,e,r);if(!1===V)return!1;var J=A(t.hostkey,t.hostkey._pos,e,r);if(!1===J)return!1;if(Q.startSequence(),Q.writeOID("1.2.840.10040.4.1"),Q.startSequence(),Q.writeBuffer(Y,u.Integer),Q.writeBuffer(z,u.Integer),Q.writeBuffer(V,u.Integer),Q.endSequence(),Q.endSequence(),Q.startSequence(u.BitString),Q.writeByte(0),Q.writeBuffer(J,u.Integer),Q.endSequence(),M.length<=40){var Z=new u.Writer;Z.startSequence();var te=M.slice(0,20),re=M.slice(20);if(128&te[0]){var ne=new Buffer(21);ne[0]=0,te.copy(ne,1),te=ne}if(128&re[0]){var ie=new Buffer(21);ie[0]=0,re.copy(ie,1),re=ie}Z.writeBuffer(te,u.Integer),Z.writeBuffer(re,u.Integer),Z.endSequence(),M=Z.buffer}}Q.endSequence(),h("DEBUG: Verifying signature");var oe=Q.buffer.toString("base64").replace(/(.{64})/g,"$1\n"),se="-----BEGIN PUBLIC KEY-----\n"+oe+("\n"===oe[oe.length-1]?"":"\n")+"-----END PUBLIC KEY-----";if(!q.verify(se,M,"binary"))return h("DEBUG: Signature could not be verified"),e.disconnect(v.KEY_EXCHANGE_FAILED),e.reset(),!1;void 0===c.sessionId&&(c.sessionId=c.exchangeHash),c.kexsecret=t.secret,h("DEBUG: Outgoing: Writing NEWKEYS"),c.status===K?fe(e,X,void 0,!0):fe(e,X)}(s,e)}).on("KEXDH_GEX_GROUP",function(e,t){!function(e,t,r){var i=e._state,o=i.outgoing;i.kex=n.createDiffieHellman(t,r),o.pubkey=new Buffer(i.kex.generateKeys("binary"),"binary");for(var s=0,a=o.pubkey.length;0===o.pubkey[s];)++s,--a;if(128&o.pubkey[s]){var c=new Buffer(a+1);c[0]=0,o.pubkey.copy(c,1,s),o.pubkey=c}he(e)}(s,e,t)}),this.server&&"string"==typeof e.banner&&("\r\n"===e.banner.slice(-2)?this.push(e.banner):this.push(e.banner+"\r\n")),this.debug("DEBUG: Local ident: "+a(this.config.ident)),this.push(this.config.ident+"\r\n"),this._state.incoming.expectedPacket="KEXINIT"}function ne(e,t){var r,n,i,o,s,a,c,h,f,l,d,p,g,_,E=e._state.incoming,w=e._state.outgoing,I=E.payload,B=E.seqno;++E.seqno>W&&(E.seqno=0);var k=I[0];if(void 0===k)return!1;if(w.status!==M&&m[k]!==E.expectedPacket&&k<1&&k>4)return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+E.expectedPacket+" but got: "+m[k]),e.disconnect(v.PROTOCOL_ERROR),!1;if(k===m.CHANNEL_DATA){if(!1===(s=y(I,1,e,t)))return!1;if(!1===(a=A(I,5,e,t,32768)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_DATA ("+s+")"),e.emit("CHANNEL_DATA:"+s,a)}else if(k===m.CHANNEL_EXTENDED_DATA){if(!1===(s=y(I,1,e,t)))return!1;var C=y(I,5,e,t);if(!1===C)return!1;if(!1===(a=A(I,9,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EXTENDED_DATA ("+s+")"),e.emit("CHANNEL_EXTENDED_DATA:"+s,C,a)}else if(k===m.CHANNEL_WINDOW_ADJUST){if(!1===(s=y(I,1,e,t)))return!1;var R=y(I,5,e,t);if(!1===R)return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_WINDOW_ADJUST ("+s+", "+R+")"),e.emit("CHANNEL_WINDOW_ADJUST:"+s,R)}else if(k===m.CHANNEL_SUCCESS){if(!1===(s=y(I,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_SUCCESS ("+s+")"),e.emit("CHANNEL_SUCCESS:"+s)}else if(k===m.CHANNEL_FAILURE){if(!1===(s=y(I,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_FAILURE ("+s+")"),e.emit("CHANNEL_FAILURE:"+s)}else if(k===m.CHANNEL_EOF){if(!1===(s=y(I,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EOF ("+s+")"),e.emit("CHANNEL_EOF:"+s)}else if(k===m.CHANNEL_OPEN){var N,U=A(I,1,"ascii",e,t);if(!1===U)return!1;if(!1===(f=y(I,I._pos,e,t)))return!1;if(!1===(l=y(I,I._pos+=4,e,t)))return!1;if(!1===(d=y(I,I._pos+=4,e,t)))return!1;if(e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_OPEN ("+f+", "+U+")"),"forwarded-tcpip"===U||"direct-tcpip"===U){var T=A(I,I._pos+=4,"ascii",e,t);if(!1===T)return!1;var O=y(I,I._pos,e,t);if(!1===O)return!1;if(!1===(c=A(I,I._pos+=4,"ascii",e,t)))return!1;if(!1===(h=y(I,I._pos,e,t)))return!1;N={type:U,sender:f,window:l,packetSize:d,data:{destIP:T,destPort:O,srcIP:c,srcPort:h}}}else if("forwarded-streamlocal@openssh.com"===U||"direct-streamlocal@openssh.com"===U){if(!1===(_=A(I,I._pos+=4,"utf8",e,t)))return!1;N={type:U,sender:f,window:l,packetSize:d,data:{socketPath:_}}}else if("x11"===U){if(!1===(c=A(I,I._pos+=4,"ascii",e,t)))return!1;if(!1===(h=y(I,I._pos,e,t)))return!1;N={type:U,sender:f,window:l,packetSize:d,data:{srcIP:c,srcPort:h}}}else N={type:U,sender:f,window:l,packetSize:d,data:{}};e.emit("CHANNEL_OPEN",N)}else if(k===m.CHANNEL_OPEN_CONFIRMATION){if(!1===(p=y(I,1,e,t)))return!1;if(!1===(f=y(I,5,e,t)))return!1;if(!1===(l=y(I,9,e,t)))return!1;if(!1===(d=y(I,13,e,t)))return!1;o={recipient:p,sender:f,window:l,packetSize:d},I.length>17&&(o.data=I.slice(17)),e.emit("CHANNEL_OPEN_CONFIRMATION:"+o.recipient,o)}else if(k===m.CHANNEL_OPEN_FAILURE){if(!1===(p=y(I,1,e,t)))return!1;var L=y(I,5,e,t);if(!1===L)return!1;if(!1===(g=A(I,9,"utf8",e,t)))return!1;if(!1===(n=A(I,I._pos,"utf8",e,t)))return!1;I._pos=9,o={recipient:p,reasonCode:L,reason:b[L],description:g,lang:n},e.emit("CHANNEL_OPEN_FAILURE:"+o.recipient,o)}else if(k===m.CHANNEL_CLOSE){if(!1===(s=y(I,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_CLOSE ("+s+")"),e.emit("CHANNEL_CLOSE:"+s)}else if(k===m.IGNORE);else if(k===m.DISCONNECT){var D=y(I,1,e,t);if(!1===D)return!1;var P=v[D];if(!1===(g=A(I,5,"utf8",e,t)))return!1;n=A(I,I._pos,"ascii",e,t),e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: DISCONNECT ("+P+")"),e.emit("DISCONNECT",P,D,g,n)}else if(k===m.DEBUG){if(!1===(i=A(I,2,"utf8",e,t)))return!1;if(!1===(n=A(I,I._pos,"ascii",e,t)))return!1;e.emit("DEBUG",i,n)}else if(k===m.NEWKEYS)e.emit("NEWKEYS");else if(k===m.SERVICE_REQUEST){if(!1===(r=A(I,1,"ascii",e,t)))return!1;e.emit("SERVICE_REQUEST",r)}else if(k===m.SERVICE_ACCEPT){if(!1===(r=A(I,1,"ascii",e,t)))return!1;e.emit("SERVICE_ACCEPT",r)}else if(k===m.USERAUTH_REQUEST){var x=A(I,1,"utf8",e,t);if(!1===x)return!1;var H=A(I,I._pos,"ascii",e,t);if(!1===H)return!1;var Q,F=A(I,I._pos,"ascii",e,t);if(!1===F)return!1;if("password"===F){if(!1===(Q=A(I,I._pos+1,"utf8",e,t)))return!1}else if("publickey"===F||"hostbased"===F){var K,G,q,j,$,Y,X;if("publickey"===F){if(void 0===(K=I[I._pos++]))return!1;K=0!==K}if(!1===(G=A(I,I._pos,"ascii",e,t)))return!1;if(!1===(q=A(I,I._pos,e,t)))return!1;if(K||"hostbased"===F){if("hostbased"===F){if(!1===(Y=A(I,I._pos,"ascii",e,t)))return!1;if(!1===(X=A(I,I._pos,"utf8",e,t)))return!1}var z=I._pos;if(!1===(j=A(I,z,e,t)))return!1;if(j.toString("ascii",4,11)===G&&(j=j.slice(15)),"ssh-dss"===G&&j.length<=40){var V=new u.Writer;V.startSequence();var J=j.slice(0,20),Z=j.slice(20);if(128&J[0]){var ee=new Buffer(21);ee[0]=0,J.copy(ee,1),J=ee}if(128&Z[0]){var te=new Buffer(21);te[0]=0,Z.copy(te,1),Z=te}V.writeBuffer(J,u.Integer),V.writeBuffer(Z,u.Integer),V.endSequence(),j=V.buffer}($=new Buffer(4+w.sessionId.length+z)).writeUInt32BE(w.sessionId.length,0,!0),w.sessionId.copy($,4),I.copy($,4+w.sessionId.length,0,z)}Q={keyAlgo:G,key:q,signature:j,blob:$,localHostname:Y,localUsername:X}}else if("keyboard-interactive"===F){var re=y(I,I._pos,e,t);if(!1===re)return!1;if(!1===(Q=A(I,I._pos+4+re,"utf8",e,t)))return!1}else"none"!==F&&(Q=I.slice(I._pos));e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: USERAUTH_REQUEST ("+F+")"),e.emit("USERAUTH_REQUEST",x,H,F,Q)}else if(k===m.USERAUTH_SUCCESS)e.emit("USERAUTH_SUCCESS");else if(k===m.USERAUTH_FAILURE){var ne=A(I,1,"ascii",e,t);if(!1===ne)return!1;var oe=I[I._pos];if(void 0===oe)return!1;oe=0!==oe,ne=ne.split(","),e.emit("USERAUTH_FAILURE",ne,oe)}else if(k===m.USERAUTH_BANNER){if(!1===(i=A(I,1,"utf8",e,t)))return!1;if(!1===(n=A(I,I._pos,"utf8",e,t)))return!1;e.emit("USERAUTH_BANNER",i,n)}else if(k===m.GLOBAL_REQUEST){var se=A(I,1,"ascii",e,t);if(!1===se)return!1;var ae,ue=I[I._pos++];if(void 0===ue)return!1;if(ue=0!==ue,"tcpip-forward"===se||"cancel-tcpip-forward"===se){var he=A(I,I._pos,"ascii",e,t);if(!1===he)return!1;var le=y(I,I._pos,e,t);if(!1===le)return!1;ae={bindAddr:he,bindPort:le}}else if("streamlocal-forward@openssh.com"===se||"cancel-streamlocal-forward@openssh.com"===se){if(!1===(_=A(I,I._pos,"utf8",e,t)))return!1;ae={socketPath:_}}else"no-more-sessions@openssh.com"===se||(ae=I.slice(I._pos));e.emit("GLOBAL_REQUEST",se,ue,ae)}else if(k===m.REQUEST_SUCCESS)I.length>1?e.emit("REQUEST_SUCCESS",I.slice(1)):e.emit("REQUEST_SUCCESS");else if(k===m.REQUEST_FAILURE)e.emit("REQUEST_FAILURE");else if(k===m.UNIMPLEMENTED);else{if(k===m.KEXINIT)return function(e,t){var r,n=e._state.incoming,i=n.payload,o={algorithms:{kex:void 0,srvHostKey:void 0,cs:{encrypt:void 0,mac:void 0,compress:void 0},sc:{encrypt:void 0,mac:void 0,compress:void 0}},languages:{cs:void 0,sc:void 0}};return!1!==(r=ce(i,17,e,t))&&(o.algorithms.kex=r,!1!==(r=ce(i,i._pos,e,t))&&(o.algorithms.srvHostKey=r,!1!==(r=ce(i,i._pos,e,t))&&(o.algorithms.cs.encrypt=r,!1!==(r=ce(i,i._pos,e,t))&&(o.algorithms.sc.encrypt=r,!1!==(r=ce(i,i._pos,e,t))&&(o.algorithms.cs.mac=r,!1!==(r=ce(i,i._pos,e,t))&&(o.algorithms.sc.mac=r,!1!==(r=ce(i,i._pos,e,t))&&(o.algorithms.cs.compress=r,!1!==(r=ce(i,i._pos,e,t))&&(o.algorithms.sc.compress=r,!1!==(r=ce(i,i._pos,e,t))&&(o.languages.cs=r,!1!==(r=ce(i,i._pos,e,t))&&(o.languages.sc=r,n.kexinit=i,void e.emit("KEXINIT",o)))))))))))}(e,t);if(k===m.CHANNEL_REQUEST)return function(e,t){var r,n,i,o,s,a,c,u=e._state.incoming.payload,h=y(u,1,e,t);if(!1===h)return!1;var f=A(u,5,"ascii",e,t);if(!1===f)return!1;if("exit-status"===f){var l=y(u,++u._pos,e,t);if(!1===l)return!1;r={recipient:h,request:f,wantReply:!1,code:l}}else if("exit-signal"===f){if(!1===(c=A(u,++u._pos,"ascii",e,t)))return!1;var d=u[u._pos];if(void 0===d)return!1;d=0!==d;var p=A(u,++u._pos,"utf8",e,t);if(!1===p)return!1;var g=A(u,u._pos,"utf8",e,t);if(!1===g)return!1;r={recipient:h,request:f,wantReply:!1,signal:c,coredump:d,description:p,lang:g}}else if("pty-req"===f){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var _=A(u,u._pos,"ascii",e,t);if(!1===_)return!1;if(!1===(n=y(u,u._pos,e,t)))return!1;if(!1===(i=y(u,u._pos+=4,e,t)))return!1;if(!1===(o=y(u,u._pos+=4,e,t)))return!1;if(!1===(s=y(u,u._pos+=4,e,t)))return!1;var E=A(u,u._pos+=4,e,t);if(!1===E)return!1;r={recipient:h,request:f,wantReply:a,term:_,cols:n,rows:i,width:o,height:s,modes:E=function(e){for(var t,r={},n=0,i=e.length;n<i&&!((t=e[n])===S.TTY_OP_END||void 0===S[t]||n+5>i);n+=5)r[S[t]]=e.readUInt32BE(n+1,!0);return r}(E)}}else if("window-change"===f){if(!1===(n=y(u,++u._pos,e,t)))return!1;if(!1===(i=y(u,u._pos+=4,e,t)))return!1;if(!1===(o=y(u,u._pos+=4,e,t)))return!1;if(!1===(s=y(u,u._pos+=4,e,t)))return!1;r={recipient:h,request:f,wantReply:!1,cols:n,rows:i,width:o,height:s}}else if("x11-req"===f){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var m=u[u._pos++];if(void 0===m)return!1;m=0!==m;var w=A(u,u._pos,"ascii",e,t);if(!1===w)return!1;var v=A(u,u._pos,"hex",e,t);if(!1===v)return!1;var b=y(u,u._pos,e,t);if(!1===b)return!1;r={recipient:h,request:f,wantReply:a,single:m,protocol:w,cookie:v,screen:b}}else if("env"===f){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var I=A(u,u._pos,"utf8",e,t);if(!1===I)return!1;var B=A(u,u._pos,"utf8",e,t);if(!1===B)return!1;r={recipient:h,request:f,wantReply:a,key:I,val:B}}else if("shell"===f){if(void 0===(a=u[u._pos]))return!1;r={recipient:h,request:f,wantReply:a=0!==a}}else if("exec"===f){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var k=A(u,u._pos,"utf8",e,t);if(!1===k)return!1;r={recipient:h,request:f,wantReply:a,command:k}}else if("subsystem"===f){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var C=A(u,u._pos,"utf8",e,t);if(!1===C)return!1;r={recipient:h,request:f,wantReply:a,subsystem:C}}else if("signal"===f){if(!1===(c=A(u,++u._pos,"ascii",e,t)))return!1;r={recipient:h,request:f,wantReply:!1,signal:"SIG"+c}}else if("xon-xoff"===f){var R=u[++u._pos];if(void 0===R)return!1;r={recipient:h,request:f,wantReply:!1,clientControl:R=0!==R}}else if("auth-agent-req@openssh.com"===f){if(void 0===(a=u[u._pos]))return!1;r={recipient:h,request:f,wantReply:a=0!==a}}else{if(void 0===(a=u[u._pos]))return!1;r={recipient:h,request:f,wantReply:a=0!==a}}e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_REQUEST ("+h+", "+f+")"),e.emit("CHANNEL_REQUEST:"+h,r)}(e,t);if(k>=30&&k<=49)return function(e,t,r){var n=e._state,i=n.incoming.payload;if("group"!==n.kexdh){if(e.server)return e.disconnect(v.PROTOCOL_ERROR),!1;if(t===m.KEXDH_GEX_GROUP){var o=A(i,1,e,r);if(!1===o)return!1;var s=A(i,i._pos,e,r);if(!1===s)return!1;e.emit("KEXDH_GEX_GROUP",o,s)}else if(t===m.KEXDH_GEX_REPLY)return ie(e,r)}else if(t===m.KEXDH_INIT){var a=A(i,1,e,r);if(!1===a)return!1;e.emit("KEXDH_INIT",a)}else if(t===m.KEXDH_REPLY)return ie(e,r)}(e,k,t);if(k>=60&&k<=70)return function(e,t,r){var n,i,o,s=e._state,a=s.authMethod,c=s.incoming.payload;if("password"===a){if(t===m.USERAUTH_PASSWD_CHANGEREQ){if(!1===(n=A(c,1,"utf8",e,r)))return!1;if(!1===(i=A(c,c._pos,"utf8",e,r)))return!1;e.emit("USERAUTH_PASSWD_CHANGEREQ",n,i)}}else if("keyboard-interactive"===a){if(t===m.USERAUTH_INFO_REQUEST){var u,h,f;if(!1===(u=A(c,1,"utf8",e,r)))return!1;if(!1===(h=A(c,c._pos,"utf8",e,r)))return!1;if(!1===(i=A(c,c._pos,"utf8",e,r)))return!1;if(!1===(f=y(c,c._pos,e,r)))return!1;c._pos+=4;for(var l=[],d=0;d<f;++d){if(!1===(o=A(c,c._pos,"utf8",e,r)))return!1;var p=c[c._pos++];if(void 0===p)return!1;p=0!==p,l.push({prompt:o,echo:p})}e.emit("USERAUTH_INFO_REQUEST",u,h,i,l)}else if(t===m.USERAUTH_INFO_RESPONSE){var g=y(c,1,e,r);if(!1===g)return!1;c._pos=5;for(var _=[],E=0;E<g;++E){if(!1===(o=A(c,c._pos,"utf8",e,r)))return!1;_.push(o)}e.emit("USERAUTH_INFO_RESPONSE",_)}}else"publickey"===a&&t===m.USERAUTH_PK_OK&&e.emit("USERAUTH_PK_OK")}(e,k,t);var de=new Buffer(5);de[0]=m.UNIMPLEMENTED,de.writeUInt32BE(B,1,!0),fe(e,de)}}function ie(e,t){var r=e._state.incoming.payload,n=A(r,1,e,t);if(!1===n)return!1;var i=A(r,r._pos,e,t);if(!1===i)return!1;var o=A(r,r._pos,e,t);if(!1===o)return!1;var s={hostkey:n,hostkey_format:void 0,pubkey:i,sig:o,sig_format:void 0},a=A(n,0,"ascii",e,t);if(!1===a)return!1;s.hostkey_format=a;var c=A(o,0,"ascii",e,t);if(!1===c)return!1;s.sig_format=c,e.emit("KEXDH_REPLY",s)}function oe(e,t){var r=e._state.incoming,i=r.hmac;if(e.debug("DEBUG: Parser: Verifying MAC"),d(r.decrypt.type)){var o=r.decrypt,s=o.instance;s.setAuthTag(t);var a=new Buffer(s.update(r.packet,"binary","binary"),"binary");return r.payload=a.slice(1,r.packet.length+4-a[0]),s.final("binary"),p(o.iv),o.instance=n.createDecipheriv(I[o.type],o.key,o.iv),o.instance.setAutoPadding(!1),!0}var c=n.createHmac(I[i.type],i.key);i.bufCompute.writeUInt32BE(r.seqno,0,!0),i.bufCompute.writeUInt32BE(r.pktLen,4,!0),i.bufCompute[8]=r.padLen,c.update(i.bufCompute),c.update(r.packet);var u=c.digest("binary");return u.length>r.hmac.size&&(u=u.slice(0,r.hmac.size)),u===t.toString("binary")}function se(e,t){var r=e._state.incoming.decrypt.instance;return e.debug("DEBUG: Parser: Decrypting"),new Buffer(r.update(t,"binary","binary"),"binary")}function ae(e,t,r,n){var i=e._state.incoming.expect;i.amount=r,i.type=t,i.ptr=0,n&&e[n]?i.buf=e[n]:r&&(i.buf=new Buffer(r))}function ce(e,t,r,n){var i=A(e,t,"ascii",r,n);return!1!==i&&(i.length?i.split(","):[])}function ue(e){var t,r=function(){var e=!1;try{e=n.randomBytes(16)}catch(e){}return e}(),i=w.KEX_LIST_SIZE,o=w.KEX_LIST;if(e.remoteBugs&k.BAD_DHGEX&&~o.toString().indexOf("group-exchange")){for(var s=(o=w.KEX.slice()).length-1;s>=0;--s)~o[s].indexOf("group-exchange")&&o.splice(s,1);i=(o=new Buffer(o.join(","))).length}var a=21+i+4+(t=e.server?e.config.publicKey.fulltype:w.SERVER_HOST_KEY_LIST).length+2*(4+w.CIPHER_LIST_SIZE)+2*(4+w.HMAC_LIST_SIZE)+2*(4+w.COMPRESS_LIST_SIZE)+8+1+4,c=new Buffer(a),u=17;c.fill(0),c[0]=m.KEXINIT,!1!==r&&r.copy(c,1),c.writeUInt32BE(i,u,!0),u+=4,o.copy(c,u),u+=i,c.writeUInt32BE(t.length,u,!0),u+=4,"string"==typeof t?c.write(t,u):t.copy(c,u),u+=t.length,c.writeUInt32BE(w.CIPHER_LIST_SIZE,u,!0),u+=4,w.CIPHER_LIST.copy(c,u),u+=w.CIPHER_LIST_SIZE,c.writeUInt32BE(w.CIPHER_LIST_SIZE,u,!0),u+=4,w.CIPHER_LIST.copy(c,u),u+=w.CIPHER_LIST_SIZE,c.writeUInt32BE(w.HMAC_LIST_SIZE,u,!0),u+=4,w.HMAC_LIST.copy(c,u),u+=w.HMAC_LIST_SIZE,c.writeUInt32BE(w.HMAC_LIST_SIZE,u,!0),u+=4,w.HMAC_LIST.copy(c,u),u+=w.HMAC_LIST_SIZE;var h=w.COMPRESS_LIST,f=w.COMPRESS_LIST_SIZE;if(e.doCompress&&"none"!==w.COMPRESS.slice(-1)){var l=w.COMPRESS.indexOf("none");~l&&((h=w.COMPRESS.slice()).splice(l,1),h.push("none"),f=(h=new Buffer(h.join(","))).length)}c.writeUInt32BE(f,u,!0),u+=4,h.copy(c,u),u+=f,c.writeUInt32BE(f,u,!0),u+=4,h.copy(c,u),u+=f,e.debug("DEBUG: Outgoing: Writing KEXINIT"),e._state.incoming.expectedPacket="KEXINIT";var d=e._state.outgoing;return d.kexinit=c,d.status===M&&(d.status=K),fe(e,c,void 0,!0)}function he(e){var t=e._state,r=t.outgoing,n=new Buffer(5+r.pubkey.length);return"group"!==t.kexdh?(t.incoming.expectedPacket="KEXDH_GEX_REPLY",n[0]=m.KEXDH_GEX_INIT,e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_INIT")):(t.incoming.expectedPacket="KEXDH_REPLY",n[0]=m.KEXDH_INIT,e.debug("DEBUG: Outgoing: Writing KEXDH_INIT")),n.writeUInt32BE(r.pubkey.length,1,!0),r.pubkey.copy(n,5),fe(e,n,void 0,!0)}function fe(e,t,r,i){var o=e._state;if(o){var s,a,c,u,h,f=o.outgoing,l=f.encrypt,g=f.hmac,_=f.compress.instance;if(f.status===K&&!i)return"function"==typeof r?f.rekeyQueue.push([t,r]):f.rekeyQueue.push(t),!1;if(e._readableState.ended||e._writableState.ended)return!1;if(_&&(t=_(t)),s=t.length+9,!1!==l.instance&&d(l.type)){for(var E=1+t.length+4;E%l.size!==0;)++E;a=E-1-t.length,s=4+E}else a=(s+=(l.size-1)*s%l.size)-t.length-5;(c=new Buffer(s)).writeUInt32BE(s-4,0,!0),c[4]=a,t.copy(c,5),n.randomBytes(a).copy(c,5+t.length),!1!==g.type&&g.key&&(u=n.createHmac(I[g.type],g.key),f.bufSeqno.writeUInt32BE(f.seqno,0,!0),u.update(f.bufSeqno),u.update(c),(u=u.digest("binary")).length>f.hmac.size&&(u=u.slice(0,f.hmac.size)),u=new Buffer(u,"binary"));var A,y=0;if(!1!==l.instance)if(d(l.type)){var m=n.createCipheriv(I[l.type],l.key,l.iv);m.setAutoPadding(!1);var w=c.slice(0,4);m.setAAD(w),e.push(w),y+=w,A=m.update(c.slice(4),"binary","binary"),e.push(A,"binary"),y+=A.length;var v=m.final("binary");v.length&&(e.push(v,"binary"),y+=v.length);var b=m.getAuthTag();h=e.push(b),y+=b.length,p(l.iv)}else A=l.instance.update(c,"binary","binary"),e.push(A,"binary"),y+=A.length,h=e.push(u),y+=u.length;else h=e.push(c),y=c.length;return e.bytesSent+=y,++f.seqno>W&&(f.seqno=0),r&&r(),h}}s(re,o),re.prototype.__read=o.prototype._read,re.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},re.prototype.__push=o.prototype.push,re.prototype.push=function(e,t){var r=this.__push(e,t);return this._needContinue=!1===r,r},re.prototype._cleanup=function(e){this.reset(),this.debug("DEBUG: Parser: Malformed packet"),e&&e(new Error("Malformed packet"))},re.prototype._transform=function(e,t,r){var n,i,o,s=!1,a=!1,u=this._state,h=u.incoming,f=u.outgoing,l=h.expect,p=h.decrypt,g=h.decompress,_=e.length,E=0,A=this.debug,w=0,b=w;for(this.bytesReceived+=_;;){if(void 0!==l.type){if(w>=_)break;if(2===l.type){E=_-w;var I=l.buf.length-l.ptr;I<=E?(e.copy(l.buf,l.ptr,w,w+I),w+=I,n=l.buf,l.buf=void 0,l.ptr=0,l.type=void 0):(e.copy(l.buf,l.ptr,w),l.ptr+=E,w+=E);continue}if(0===l.type){if(w+=h.search.push(e),void 0!==l.type)continue}else if(1===l.type){if(4+ ++l.ptr>255)return this.reset(),A("DEBUG: Parser: Identification string exceeded 255 characters"),r(new Error("Max identification string size exceeded"));if(10!==e[w]){++w===_&&b<w&&(void 0===l.buf?l.buf=e.toString("ascii",b,w):l.buf+=e.toString("ascii",b,w));continue}l.type=void 0,b<w&&(void 0===l.buf?l.buf=e.toString("ascii",b,w):l.buf+=e.toString("ascii",b,w)),n=l.buf,l.buf=void 0,++w}}if(h.status===T)if(this.server)if(n){if(83!==n[0]||83!==n[1]||72!==n[2]||45!==n[3])return this.reset(),A("DEBUG: Parser: Bad identification start"),r(new Error("Bad identification start"));h.status=O,A("DEBUG: Parser: IN_INIT (waiting for rest of identification)")}else A("DEBUG: Parser: IN_INIT (waiting for identification begin)"),ae(this,2,4);else{A("DEBUG: Parser: IN_INIT");var S=h.search=new c(j);S.on("info",function e(t,r,n,i){r&&(void 0===h.greeting?h.greeting=r.toString("binary",n,i):h.greeting+=r.toString("binary",n,i)),t&&(l.type=void 0,h.search.removeListener("info",e))}),S.maxMatches=1,ae(this,0),h.status=O}else if(h.status===O)A("DEBUG: Parser: IN_GREETING"),h.search=void 0,b=w,ae(this,1),h.status=L;else if(h.status===L){A("DEBUG: Parser: IN_HEADER");var B=(n=n.trim()).indexOf("-"),k=n.indexOf(" "),C={greeting:h.greeting,identRaw:"SSH-"+n,versions:{protocol:n.substr(0,B),software:-1===k?n.substring(B+1):n.substring(B+1,k)},comments:k>-1?n.substring(k+1):void 0};if(h.greeting=void 0,"1.99"!==C.versions.protocol&&"2.0"!==C.versions.protocol)return this.reset(),A("DEBUG: Parser: protocol version not supported: "+C.versions.protocol),r(new Error("Protocol version not supported"));if(this.emit("header",C),h.status===T)return;h.status=D}else if(h.status===D)A("DEBUG: Parser: IN_PACKETBEFORE (expecting "+p.size+")"),ae(this,2,p.size,p.buf),h.status=P;else if(h.status===P){if(A("DEBUG: Parser: IN_PACKET"),a=p.instance&&d(p.type),p.instance&&!d(p.type)&&(n=se(this,n)),!1===(o=y(n,0,this,r)))return;var R=h.hmac.size||0,N=o+4+R;if(N>this.maxPacketSize||N<16+R||(o+4)%p.size!==0)return this.disconnect(v.PROTOCOL_ERROR),A("DEBUG: Parser: Bad packet length ("+N+")"),r(new Error("Bad packet length"));h.pktLen=o;var U=h.pktLen+4-p.size;if(a?(p.instance.setAAD(n.slice(0,4)),A("DEBUG: Parser: pktLen:"+h.pktLen+",remainLen:"+U)):(h.padLen=n[4],A("DEBUG: Parser: pktLen:"+h.pktLen+",padLen:"+h.padLen+",remainLen:"+U)),U>0)h.pktExtra=a?n.slice(4):n.slice(5),ae(this,2,U),h.status=x;else{if(!(U<0)){s=!0,h.status=x;continue}h.status=D}}else if(h.status===x){A("DEBUG: Parser: IN_PACKETDATA"),a=p.instance&&d(p.type),!p.instance||s||a?s&&(s=!1):n=se(this,n);var F=h.pktLen-h.padLen-1;h.pktExtra?(i=new Buffer(h.pktExtra.length+n.length),h.pktExtra.copy(i),n.copy(i,h.pktExtra.length),h.payload=i.slice(0,F)):(i=a?n.slice(4):n.slice(5),h.payload=n.slice(5,5+F)),void 0!==h.hmac.size?(A("DEBUG: Parser: HMAC size:"+h.hmac.size),ae(this,2,h.hmac.size,h.hmac.buf),h.status=H,h.packet=i):h.status=Q,h.pktExtra=void 0,i=void 0}else if(h.status===H){if(A("DEBUG: Parser: IN_PACKETDATAVERIFY"),!oe(this,n))return this.reset(),A("DEBUG: Parser: IN_PACKETDATAVERIFY (Invalid HMAC)"),r(new Error("Invalid HMAC"));A("DEBUG: Parser: IN_PACKETDATAVERIFY (Valid HMAC)"),h.status=Q,h.packet=void 0}else if(h.status===Q){g.instance&&(A("DEBUG: Parser: Decompressing"),h.payload=g.instance(h.payload)),this.emit("packet");var G=h.payload[0];if(A!==te){var q="DEBUG: Parser: IN_PACKETDATAAFTER, packet: ",$=u.kexdh,Y=u.authMethod,X=null;f.status!==K||G<=4||G>=20&&G<=49||(q+="(enqueued) "),"group"===$&&G===m.KEXDH_INIT?X="KEXDH_INIT":"group"===$&&G===m.KEXDH_REPLY?X="KEXDH_REPLY":"group"!==$&&G===m.KEXDH_GEX_GROUP?X="KEXDH_GEX_GROUP":"group"!==$&&G===m.KEXDH_GEX_REPLY?X="KEXDH_GEX_REPLY":60===G?"password"===Y?X="USERAUTH_PASSWD_CHANGEREQ":"keyboard-interactive"===Y?X="USERAUTH_INFO_REQUEST":"publickey"===Y&&(X="USERAUTH_PK_OK"):61===G&&"keyboard-interactive"===Y&&(X="USERAUTH_INFO_RESPONSE"),null===X&&(X=m[G]),G!==m.CHANNEL_OPEN&&G!==m.CHANNEL_REQUEST&&G!==m.CHANNEL_SUCCESS&&G!==m.CHANNEL_FAILURE&&G!==m.CHANNEL_EOF&&G!==m.CHANNEL_CLOSE&&G!==m.CHANNEL_DATA&&G!==m.CHANNEL_EXTENDED_DATA&&G!==m.CHANNEL_WINDOW_ADJUST&&G!==m.DISCONNECT&&G!==m.USERAUTH_REQUEST&&A(q+X)}if(f.status===M||G<=4||G>=20&&G<=49){if(!1===ne(this,r))return;if(h.status===T)return}else if(f.status===K){if(50===h.rekeyQueue.length)return A("DEBUG: Parser: Max incoming re-key queue length reached"),this.disconnect(v.PROTOCOL_ERROR),r(new Error("Incoming re-key queue length limit reached"));var z=h.seqno;++h.seqno>W&&(h.seqno=0),h.rekeyQueue.push([z,h.payload])}h.status=D,h.payload=void 0}void 0!==n&&(n=void 0)}r()},re.prototype.reset=function(e){if(this._state){var t=this._state;t.incoming.status=T,t.outgoing.status=F}else this._state={authMethod:void 0,hostkeyFormat:void 0,kex:void 0,kexdh:void 0,incoming:{status:T,expectedPacket:void 0,search:void 0,greeting:void 0,seqno:0,pktLen:void 0,padLen:void 0,pktExtra:void 0,payload:void 0,packet:void 0,kexinit:void 0,identRaw:void 0,rekeyQueue:[],expect:{amount:void 0,type:void 0,ptr:0,buf:void 0},decrypt:{instance:!1,size:8,iv:void 0,key:void 0,buf:void 0,type:void 0},hmac:{size:void 0,key:void 0,buf:void 0,bufCompute:new Buffer(9),type:!1},decompress:{instance:!1,type:!1}},outgoing:{status:F,seqno:0,bufSeqno:new Buffer(4),rekeyQueue:[],kexinit:void 0,kexsecret:void 0,pubkey:void 0,exchangeHash:void 0,sessionId:void 0,encrypt:{instance:!1,size:8,iv:void 0,key:void 0,type:void 0},hmac:{size:void 0,key:void 0,buf:void 0,type:!1},compress:{instance:!1,type:!1}}};e||this.readable&&this.push(null)},re.prototype.disconnect=function(e){var t=new Buffer(13);return t.fill(0),t[0]=m.DISCONNECT,void 0===v[e]&&(e=v.BY_APPLICATION),t.writeUInt32BE(e,1,!0),this.debug("DEBUG: Outgoing: Writing DISCONNECT ("+v[e]+")"),fe(this,t),this.reset(),!1},re.prototype.ping=function(){return this.debug("DEBUG: Outgoing: Writing ping (GLOBAL_REQUEST: keepalive@openssh.com)"),fe(this,Y)},re.prototype.rekey=function(){var e=this._state.outgoing.status;if(e===K)throw new Error("A re-key is already in progress");if(e!==M)throw new Error("Cannot re-key yet");return this.debug("DEBUG: Outgoing: Starting re-key"),ue(this)},re.prototype.requestSuccess=function(e){var t;return Buffer.isBuffer(e)?((t=new Buffer(1+e.length))[0]=m.REQUEST_SUCCESS,e.copy(t,1)):t=V,this.debug("DEBUG: Outgoing: Writing REQUEST_SUCCESS"),fe(this,t)},re.prototype.requestFailure=function(){return this.debug("DEBUG: Outgoing: Writing REQUEST_FAILURE"),fe(this,J)},re.prototype.channelSuccess=function(e){var t=new Buffer(5);return t[0]=m.CHANNEL_SUCCESS,t.writeUInt32BE(e,1,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_SUCCESS ("+e+")"),fe(this,t)},re.prototype.channelFailure=function(e){var t=new Buffer(5);return t[0]=m.CHANNEL_FAILURE,t.writeUInt32BE(e,1,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_FAILURE ("+e+")"),fe(this,t)},re.prototype.channelEOF=function(e){var t=new Buffer(5);return t[0]=m.CHANNEL_EOF,t.writeUInt32BE(e,1,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_EOF ("+e+")"),fe(this,t)},re.prototype.channelClose=function(e){var t=new Buffer(5);return t[0]=m.CHANNEL_CLOSE,t.writeUInt32BE(e,1,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_CLOSE ("+e+")"),fe(this,t)},re.prototype.channelWindowAdjust=function(e,t){var r=new Buffer(9);return r[0]=m.CHANNEL_WINDOW_ADJUST,r.writeUInt32BE(e,1,!0),r.writeUInt32BE(t,5,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_WINDOW_ADJUST ("+e+", "+t+")"),fe(this,r)},re.prototype.channelData=function(e,t){var r=Buffer.isBuffer(t),n=r?t.length:Buffer.byteLength(t),i=new Buffer(9+n);return i[0]=m.CHANNEL_DATA,i.writeUInt32BE(e,1,!0),i.writeUInt32BE(n,5,!0),r?t.copy(i,9):i.write(t,9,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_DATA ("+e+")"),fe(this,i)},re.prototype.channelExtData=function(e,t,r){var n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t),o=new Buffer(13+i);return o[0]=m.CHANNEL_EXTENDED_DATA,o.writeUInt32BE(e,1,!0),o.writeUInt32BE(r,5,!0),o.writeUInt32BE(i,9,!0),n?t.copy(o,13):o.write(t,13,i,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_EXTENDED_DATA ("+e+")"),fe(this,o)},re.prototype.channelOpenConfirm=function(e,t,r,n){var i=new Buffer(17);return i[0]=m.CHANNEL_OPEN_CONFIRMATION,i.writeUInt32BE(e,1,!0),i.writeUInt32BE(t,5,!0),i.writeUInt32BE(r,9,!0),i.writeUInt32BE(n,13,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_CONFIRMATION (r:"+e+", l:"+t+")"),fe(this,i)},re.prototype.channelOpenFail=function(e,t,r,n){"string"!=typeof r&&(r=""),"string"!=typeof n&&(n="");var i=Buffer.byteLength(r),o=Buffer.byteLength(n),s=9,a=new Buffer(13+i+4+o);return a[0]=m.CHANNEL_OPEN_FAILURE,a.writeUInt32BE(e,1,!0),a.writeUInt32BE(t,5,!0),a.writeUInt32BE(i,s,!0),s+=4,i&&(a.write(r,s,i,"utf8"),s+=i),a.writeUInt32BE(o,s,!0),o&&a.write(n,s+=4,o,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_FAILURE ("+e+")"),fe(this,a)},re.prototype.service=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=new Buffer(5+t);return r[0]=m.SERVICE_REQUEST,r.writeUInt32BE(t,1,!0),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_REQUEST ("+e+")"),fe(this,r)},re.prototype.tcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=new Buffer(23+n+4);return i[0]=m.GLOBAL_REQUEST,i.writeUInt32BE(13,1,!0),i.write("tcpip-forward",5,13,"ascii"),i[18]=void 0===r||!0===r?1:0,i.writeUInt32BE(n,19,!0),i.write(e,23,n,"ascii"),i.writeUInt32BE(t,23+n,!0),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (tcpip-forward)"),fe(this,i)},re.prototype.cancelTcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=new Buffer(30+n+4);return i[0]=m.GLOBAL_REQUEST,i.writeUInt32BE(20,1,!0),i.write("cancel-tcpip-forward",5,20,"ascii"),i[25]=void 0===r||!0===r?1:0,i.writeUInt32BE(n,26,!0),i.write(e,30,n,"ascii"),i.writeUInt32BE(t,30+n,!0),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-tcpip-forward)"),fe(this,i)},re.prototype.openssh_streamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(r),n=new Buffer(41+r);return n[0]=m.GLOBAL_REQUEST,n.writeUInt32BE(31,1,!0),n.write("streamlocal-forward@openssh.com",5,31,"ascii"),n[36]=void 0===t||!0===t?1:0,n.writeUInt32BE(r,37,!0),n.write(e,41,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (streamlocal-forward@openssh.com)"),fe(this,n)},re.prototype.openssh_cancelStreamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(r),n=new Buffer(48+r);return n[0]=m.GLOBAL_REQUEST,n.writeUInt32BE(38,1,!0),n.write("cancel-streamlocal-forward@openssh.com",5,38,"ascii"),n[43]=void 0===t||!0===t?1:0,n.writeUInt32BE(r,44,!0),n.write(e,48,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-streamlocal-forward@openssh.com)"),fe(this,n)},re.prototype.directTcpip=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.srcIP),o=Buffer.byteLength(n.dstIP),s=29,a=new Buffer(33+i+4+4+o+4);return a[0]=m.CHANNEL_OPEN,a.writeUInt32BE(12,1,!0),a.write("direct-tcpip",5,12,"ascii"),a.writeUInt32BE(e,17,!0),a.writeUInt32BE(t,21,!0),a.writeUInt32BE(r,25,!0),a.writeUInt32BE(o,s,!0),a.write(n.dstIP,s+=4,o,"ascii"),a.writeUInt32BE(n.dstPort,s+=o,!0),a.writeUInt32BE(i,s+=4,!0),a.write(n.srcIP,s+=4,i,"ascii"),a.writeUInt32BE(n.srcPort,s+=i,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-tcpip)"),fe(this,a)},re.prototype.openssh_directStreamLocal=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.socketPath),o=47,s=new Buffer(51+i+4);return s[0]=m.CHANNEL_OPEN,s.writeUInt32BE(30,1,!0),s.write("direct-streamlocal@openssh.com",5,30,"ascii"),s.writeUInt32BE(e,35,!0),s.writeUInt32BE(t,39,!0),s.writeUInt32BE(r,43,!0),s.writeUInt32BE(i,o,!0),s.write(n.socketPath,o+=4,i,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-streamlocal@openssh.com)"),fe(this,s)},re.prototype.openssh_noMoreSessions=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=new Buffer(34);return t[0]=m.GLOBAL_REQUEST,t.writeUInt32BE(28,1,!0),t.write("no-more-sessions@openssh.com",5,28,"ascii"),t[33]=void 0===e||!0===e?1:0,this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (no-more-sessions@openssh.com)"),fe(this,t)},re.prototype.session=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=new Buffer(24);return n[0]=m.CHANNEL_OPEN,n.writeUInt32BE(7,1,!0),n.write("session",5,7,"ascii"),n.writeUInt32BE(e,12,!0),n.writeUInt32BE(t,16,!0),n.writeUInt32BE(r,20,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", session)"),fe(this,n)},re.prototype.windowChange=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var o=new Buffer(39);return o[0]=m.CHANNEL_REQUEST,o.writeUInt32BE(e,1,!0),o.writeUInt32BE(13,5,!0),o.write("window-change",9,13,"ascii"),o[22]=0,o.writeUInt32BE(r,23,!0),o.writeUInt32BE(t,27,!0),o.writeUInt32BE(i,31,!0),o.writeUInt32BE(n,35,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", window-change)"),fe(this,o)},re.prototype.pty=function(e,t,r,n,i,o,s,a){if(this.server)throw new Error("Client-only method called in server mode");o&&o.length||(o="vt100"),!s||Buffer.isBuffer(s)||Array.isArray(s)||"object"!=typeof s||(s=function(e){for(var t,r,n,i=/^\d+$/,o=Object.keys(e),s=0,a=[],c=0,u=o.length;c<u;++c)t=o[c],(r=S[t])&&!i.test(t)&&"number"==typeof e[t]&&"TTY_OP_END"!==t&&(n=e[t],a[s++]=r,a[s++]=n>>>24&255,a[s++]=n>>>16&255,a[s++]=n>>>8&255,a[s++]=255&n);return a[s]=S.TTY_OP_END,a}(s)),s&&s.length||(s=Z);var c=o.length,u=s.length,h=21,f=new Buffer(21+c+4+4+4+4+4+u);if(f[0]=m.CHANNEL_REQUEST,f.writeUInt32BE(e,1,!0),f.writeUInt32BE(7,5,!0),f.write("pty-req",9,7,"ascii"),f[16]=void 0===a||!0===a?1:0,f.writeUInt32BE(c,17,!0),f.write(o,21,c,"utf8"),f.writeUInt32BE(r,h+=c,!0),f.writeUInt32BE(t,h+=4,!0),f.writeUInt32BE(i,h+=4,!0),f.writeUInt32BE(n,h+=4,!0),f.writeUInt32BE(u,h+=4,!0),h+=4,Array.isArray(s))for(var l=0;l<u;++l)f[h++]=s[l];else Buffer.isBuffer(s)?s.copy(f,h):"string"==typeof s&&f.write(s,h+=4,u,"binary");return this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", pty-req)"),fe(this,f)},re.prototype.shell=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=new Buffer(15);return r[0]=m.CHANNEL_REQUEST,r.writeUInt32BE(e,1,!0),r.writeUInt32BE(5,5,!0),r.write("shell",9,5,"ascii"),r[14]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", shell)"),fe(this,r)},re.prototype.exec=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.isBuffer(t)?t.length:Buffer.byteLength(t),i=new Buffer(18+n);return i[0]=m.CHANNEL_REQUEST,i.writeUInt32BE(e,1,!0),i.writeUInt32BE(4,5,!0),i.write("exec",9,4,"ascii"),i[13]=void 0===r||!0===r?1:0,i.writeUInt32BE(n,14,!0),Buffer.isBuffer(t)?t.copy(i,18):i.write(t,18,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exec)"),fe(this,i)},re.prototype.signal=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("SIG"===(t=t.toUpperCase()).slice(0,3)&&(t=t.substring(3)),-1===B.indexOf(t))throw new Error("Invalid signal: "+t);var r=t.length,n=new Buffer(20+r);return n[0]=m.CHANNEL_REQUEST,n.writeUInt32BE(e,1,!0),n.writeUInt32BE(6,5,!0),n.write("signal",9,6,"ascii"),n[15]=0,n.writeUInt32BE(r,16,!0),n.write(t,20,r,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", signal)"),fe(this,n)},re.prototype.env=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(t),o=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),s=new Buffer(17+i+4+o);return s[0]=m.CHANNEL_REQUEST,s.writeUInt32BE(e,1,!0),s.writeUInt32BE(3,5,!0),s.write("env",9,3,"ascii"),s[12]=void 0===n||!0===n?1:0,s.writeUInt32BE(i,13,!0),s.write(t,17,i,"ascii"),s.writeUInt32BE(o,17+i,!0),Buffer.isBuffer(r)?r.copy(s,17+i+4):s.write(r,17+i+4,o,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", env)"),fe(this,s)},re.prototype.x11Forward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t.protocol),i=Buffer.byteLength(t.cookie),o=new Buffer(22+n+4+i+4);o[0]=m.CHANNEL_REQUEST,o.writeUInt32BE(e,1,!0),o.writeUInt32BE(7,5,!0),o.write("x11-req",9,7,"ascii"),o[16]=void 0===r||!0===r?1:0,o[17]=t.single?1:0,o.writeUInt32BE(n,18,!0);var s=22;return Buffer.isBuffer(t.protocol)?t.protocol.copy(o,s):o.write(t.protocol,s,n,"utf8"),s+=n,o.writeUInt32BE(i,s,!0),s+=4,Buffer.isBuffer(t.cookie)?t.cookie.copy(o,s):o.write(t.cookie,s,i,"utf8"),s+=i,o.writeUInt32BE(t.screen||0,s,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", x11-req)"),fe(this,o)},re.prototype.subsystem=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t),i=new Buffer(23+n);return i[0]=m.CHANNEL_REQUEST,i.writeUInt32BE(e,1,!0),i.writeUInt32BE(9,5,!0),i.write("subsystem",9,9,"ascii"),i[18]=void 0===r||!0===r?1:0,i.writeUInt32BE(n,19,!0),i.write(t,23,n,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", subsystem: "+t+")"),fe(this,i)},re.prototype.openssh_agentForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=new Buffer(36);return r[0]=m.CHANNEL_REQUEST,r.writeUInt32BE(e,1,!0),r.writeUInt32BE(26,5,!0),r.write("auth-agent-req@openssh.com",9,26,"ascii"),r[35]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", auth-agent-req@openssh.com)"),fe(this,r)},re.prototype.authPassword=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.byteLength(t),i=0,o=new Buffer(5+r+4+14+4+8+1+4+n);return o[i]=m.USERAUTH_REQUEST,o.writeUInt32BE(r,++i,!0),o.write(e,i+=4,r,"utf8"),o.writeUInt32BE(14,i+=r,!0),o.write("ssh-connection",i+=4,14,"ascii"),o.writeUInt32BE(8,i+=14,!0),o.write("password",i+=4,8,"ascii"),o[i+=8]=0,o.writeUInt32BE(n,++i,!0),o.write(t,i+=4,n,"utf8"),this._state.authMethod="password",this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (password)"),fe(this,o)},re.prototype.authPK=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this,o=this._state.outgoing;this._state.authMethod="publickey",t.public?(n=t.fulltype,t.type,t=t.public):(n=t.toString("ascii",4,4+t.readUInt32BE(0,!0))).substring(4,7);var s=Buffer.byteLength(e),a=Buffer.byteLength(n),c=t.length,u=o.sessionId.length,h=0,f=new Buffer((r?4+u:0)+1+4+s+4+14+4+9+1+4+a+4+c);return r?(f.writeUInt32BE(u,h,!0),o.sessionId.copy(f,h+=4),f[h+=u]=m.USERAUTH_REQUEST):f[h]=m.USERAUTH_REQUEST,f.writeUInt32BE(s,++h,!0),f.write(e,h+=4,s,"utf8"),f.writeUInt32BE(14,h+=s,!0),f.write("ssh-connection",h+=4,14,"ascii"),f.writeUInt32BE(9,h+=14,!0),f.write("publickey",h+=4,9,"ascii"),f[h+=9]=r?1:0,f.writeUInt32BE(a,++h,!0),f.write(n,h+=4,a,"ascii"),f.writeUInt32BE(c,h+=a,!0),t.copy(f,h+=4),r?(r(f,function(r){var o=r.length,u=new Buffer(5+s+4+14+4+9+1+4+a+4+c+4+4+7+4+o);return u[h=0]=m.USERAUTH_REQUEST,u.writeUInt32BE(s,++h,!0),u.write(e,h+=4,s,"utf8"),u.writeUInt32BE(14,h+=s,!0),u.write("ssh-connection",h+=4,14,"ascii"),u.writeUInt32BE(9,h+=14,!0),u.write("publickey",h+=4,9,"ascii"),u[h+=9]=1,u.writeUInt32BE(a,++h,!0),u.write(n,h+=4,a,"ascii"),u.writeUInt32BE(c,h+=a,!0),t.copy(u,h+=4),u.writeUInt32BE(15+o,h+=c,!0),u.writeUInt32BE(7,h+=4,!0),u.write(n,h+=4,7,"ascii"),u.writeUInt32BE(o,h+=7,!0),r.copy(u,h+=4),i.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey)"),fe(i,u)}),!0):(this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey -- check)"),fe(this,f))},re.prototype.authHostbased=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var o,s=this,a=this._state.outgoing;t.public?(o=t.fulltype,t.type,t=t.public):(o=t.toString("ascii",4,4+t.readUInt32BE(0,!0))).substring(4,7);var c=Buffer.byteLength(e),u=Buffer.byteLength(o),h=t.length,f=a.sessionId.length,l=Buffer.byteLength(r),d=Buffer.byteLength(n),p=0,g=new Buffer(4+f+1+4+c+4+14+4+9+4+u+4+h+4+l+4+d);return g.writeUInt32BE(f,p,!0),a.sessionId.copy(g,p+=4),g[p+=f]=m.USERAUTH_REQUEST,g.writeUInt32BE(c,++p,!0),g.write(e,p+=4,c,"utf8"),g.writeUInt32BE(14,p+=c,!0),g.write("ssh-connection",p+=4,14,"ascii"),g.writeUInt32BE(9,p+=14,!0),g.write("hostbased",p+=4,9,"ascii"),g.writeUInt32BE(u,p+=9,!0),g.write(o,p+=4,u,"ascii"),g.writeUInt32BE(h,p+=u,!0),t.copy(g,p+=4),g.writeUInt32BE(l,p+=h,!0),g.write(r,p+=4,l,"ascii"),g.writeUInt32BE(d,p+=l,!0),g.write(n,p+=4,d,"utf8"),i(g,function(e){var t=e.length,r=new Buffer(g.length-f+t);return g.copy(r,0,4+f),r.writeUInt32BE(t,r.length-t-4,!0),e.copy(r,r.length-t),s._state.authMethod="hostbased",s.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (hostbased)"),fe(s,r)}),!0},re.prototype.authKeyboard=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=new Buffer(5+t+4+14+4+20+4+4);return n[r]=m.USERAUTH_REQUEST,n.writeUInt32BE(t,++r,!0),n.write(e,r+=4,t,"utf8"),n.writeUInt32BE(14,r+=t,!0),n.write("ssh-connection",r+=4,14,"ascii"),n.writeUInt32BE(20,r+=14,!0),n.write("keyboard-interactive",r+=4,20,"ascii"),n.writeUInt32BE(0,r+=20,!0),n.writeUInt32BE(0,r+=4,!0),this._state.authMethod="keyboard-interactive",this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (keyboard-interactive)"),fe(this,n)},re.prototype.authNone=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=new Buffer(5+t+4+14+4+4);return n[r]=m.USERAUTH_REQUEST,n.writeUInt32BE(t,++r,!0),n.write(e,r+=4,t,"utf8"),n.writeUInt32BE(14,r+=t,!0),n.write("ssh-connection",r+=4,14,"ascii"),n.writeUInt32BE(4,r+=14,!0),n.write("none",r+=4,4,"ascii"),this._state.authMethod="none",this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (none)"),fe(this,n)},re.prototype.authInfoRes=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t,r,n,i=0,o=0;if(e)for(n=0,r=e.length;n<r;++n)i+=4+Buffer.byteLength(e[n]);var s=new Buffer(5+i);if(s[o++]=m.USERAUTH_INFO_RESPONSE,s.writeUInt32BE(e?e.length:0,o,!0),e)for(o+=4,n=0,r=e.length;n<r;++n)t=Buffer.byteLength(e[n]),s.writeUInt32BE(t,o,!0),o+=4,t&&(s.write(e[n],o,t,"utf8"),o+=t);return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_RESPONSE"),fe(this,s)},re.prototype.serviceAccept=function(e){if(!this.server)throw new Error("Server-only method called in client mode");var t=e.length,r=new Buffer(5+t);return r[0]=m.SERVICE_ACCEPT,r.writeUInt32BE(t,1,!0),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_ACCEPT ("+e+")"),fe(this,r)},re.prototype.forwardedTcpip=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.boundAddr),o=Buffer.byteLength(n.remoteAddr),s=36+i,a=new Buffer(36+i+4+4+o+4);return a[0]=m.CHANNEL_OPEN,a.writeUInt32BE(15,1,!0),a.write("forwarded-tcpip",5,15,"ascii"),a.writeUInt32BE(e,20,!0),a.writeUInt32BE(t,24,!0),a.writeUInt32BE(r,28,!0),a.writeUInt32BE(i,32,!0),a.write(n.boundAddr,36,i,"ascii"),a.writeUInt32BE(n.boundPort,s,!0),a.writeUInt32BE(o,s+=4,!0),a.write(n.remoteAddr,s+=4,o,"ascii"),a.writeUInt32BE(n.remotePort,s+=o,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-tcpip)"),fe(this,a)},re.prototype.x11=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.originAddr),o=24+i,s=new Buffer(24+i+4);return s[0]=m.CHANNEL_OPEN,s.writeUInt32BE(3,1,!0),s.write("x11",5,3,"ascii"),s.writeUInt32BE(e,8,!0),s.writeUInt32BE(t,12,!0),s.writeUInt32BE(r,16,!0),s.writeUInt32BE(i,20,!0),s.write(n.originAddr,24,i,"ascii"),s.writeUInt32BE(n.originPort,o,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", x11)"),fe(this,s)},re.prototype.openssh_forwardedStreamLocal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.socketPath),o=new Buffer(54+i+4);return o[0]=m.CHANNEL_OPEN,o.writeUInt32BE(33,1,!0),o.write("forwarded-streamlocal@openssh.com",5,33,"ascii"),o.writeUInt32BE(e,38,!0),o.writeUInt32BE(t,42,!0),o.writeUInt32BE(r,46,!0),o.writeUInt32BE(i,50,!0),o.write(n.socketPath,54,i,"utf8"),o.writeUInt32BE(0,54+i,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-streamlocal@openssh.com)"),fe(this,o)},re.prototype.exitStatus=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=new Buffer(25);return r[0]=m.CHANNEL_REQUEST,r.writeUInt32BE(e,1,!0),r.writeUInt32BE(11,5,!0),r.write("exit-status",9,11,"ascii"),r[20]=0,r.writeUInt32BE(t,21,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-status)"),fe(this,r)},re.prototype.exitSignal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(t),o=n?Buffer.byteLength(n):0,s=25+i,a=new Buffer(25+i+1+4+o+4);return a[0]=m.CHANNEL_REQUEST,a.writeUInt32BE(e,1,!0),a.writeUInt32BE(11,5,!0),a.write("exit-signal",9,11,"ascii"),a[20]=0,a.writeUInt32BE(i,21,!0),a.write(t,25,i,"utf8"),a[s++]=r?1:0,a.writeUInt32BE(o,s,!0),s+=4,o&&(a.write(n,s,o,"utf8"),s+=o),a.writeUInt32BE(0,s,!0),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-signal)"),fe(this,a)},re.prototype.authFailure=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r;if("boolean"==typeof e&&(t=e,e=void 0),e){r=[];for(var n=0,i=e.length;n<i;++n)"none"!==e[n].toLowerCase()&&r.push(e[n]);r=r.join(",")}else r="";var o=r.length,s=new Buffer(5+o+1);return s[0]=m.USERAUTH_FAILURE,s.writeUInt32BE(o,1,!0),s.write(r,5,o,"ascii"),s[5+o]=!0===t?1:0,this.debug("DEBUG: Outgoing: Writing USERAUTH_FAILURE"),fe(this,s)},re.prototype.authSuccess=function(){if(!this.server)throw new Error("Server-only method called in client mode");return this.debug("DEBUG: Outgoing: Writing USERAUTH_SUCCESS"),fe(this,z)},re.prototype.authPKOK=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=e.length,n=t.length,i=new Buffer(5+r+4+n);return i[0]=m.USERAUTH_PK_OK,i.writeUInt32BE(r,1,!0),i.write(e,5,r,"ascii"),i.writeUInt32BE(n,5+r,!0),t.copy(i,5+r+4),this.debug("DEBUG: Outgoing: Writing USERAUTH_PK_OK"),fe(this,i)},re.prototype.authPasswdChg=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.byteLength(e),n=t?t.length:0,i=0,o=new Buffer(5+r+4+n);return o[i]=m.USERAUTH_PASSWD_CHANGEREQ,o.writeUInt32BE(r,++i,!0),o.write(e,i+=4,r,"utf8"),o.writeUInt32BE(n,i+=r,!0),n&&o.write(t,i+=4,n,"ascii"),this.debug("DEBUG: Outgoing: Writing USERAUTH_PASSWD_CHANGEREQ"),fe(this,o)},re.prototype.authInfoReq=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n,i,o,s,a=0,c=e?Buffer.byteLength(e):0,u=t?Buffer.byteLength(t):0,h=0;for(s=0,o=r.length;s<o;++s)a+=4+Buffer.byteLength(r[s].prompt)+1;var f=new Buffer(5+c+4+u+4+4+a);for(f[h++]=m.USERAUTH_INFO_REQUEST,f.writeUInt32BE(c,h,!0),h+=4,e&&(f.write(e,h,c,"utf8"),h+=c),f.writeUInt32BE(u,h,!0),h+=4,t&&(f.write(t,h,u,"utf8"),h+=u),f.writeUInt32BE(0,h,!0),h+=4,f.writeUInt32BE(r.length,h,!0),h+=4,s=0,o=r.length;s<o;++s)i=r[s],n=Buffer.byteLength(i.prompt),f.writeUInt32BE(n,h,!0),h+=4,n&&(f.write(i.prompt,h,n,"utf8"),h+=n),f[h++]=i.echo?1:0;return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_REQUEST"),fe(this,f)},e.exports=re},8717:(e,t,r)=>{"use strict";const{createDecipheriv:n,createECDH:i,createHash:o,createHmac:s,createSign:a,createVerify:c,getCiphers:u,sign:h,verify:f}=r(6982),l=u(),{Ber:d}=r(9149),p=r(6462).pbkdf,{CIPHER_INFO:g}=r(4632),{eddsaSupported:_,SUPPORTED_CIPHER:E}=r(468),{bufferSlice:A,makeBufferParser:y,readString:m,readUInt32BE:w,writeUInt32BE:v}=r(2024),b=Symbol("Hash Algorithm"),I=Symbol("Private key PEM"),S=Symbol("Public key PEM"),B=Symbol("Public key SSH"),k=Symbol("Decrypted Key"),C=Object.create(null);{const te=Object.keys(g);for(let re=0;re<te.length;++re){const ne=g[te[re]].sslName;ne&&!C[ne]&&(C[ne]=g[te[re]])}}const R=y();function N(e,t){let r=(t=t.base64Slice(0,t.length)).replace(/.{64}/g,"$&\n");return 63&t.length&&(r+="\n"),`-----BEGIN ${e} KEY-----\n${r}-----END ${e} KEY-----`}function U(e,t){const r=Buffer.allocUnsafe(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}function T(e,t){const r=e.length;let n=e._pos||0;for(let i=0;i<t;++i){const t=r-n;if(n>=r||t<4)return!1;const i=w(e,n);if(t<4+i)return!1;n+=4+i}return e._pos=n,!0}function O(e,t){const r=new d.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.113549.1.1.1"),r.writeNull(),r.endSequence(),r.startSequence(d.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e,d.Integer),r.writeBuffer(t,d.Integer),r.endSequence(),r.endSequence(),r.endSequence(),N("PUBLIC",r.buffer)}function L(e,t){const r=Buffer.allocUnsafe(15+t.length+4+e.length);v(r,7,0),r.utf8Write("ssh-rsa",4,7);let n=11;return v(r,t.length,n),r.set(t,n+=4),v(r,e.length,n+=t.length),r.set(e,n+4),r}const D=(()=>{function e(e){return BigInt(`0x${e.hexSlice(0,e.length)}`)}function t(e){let t=e.toString(16);if(1&t.length)t=`0${t}`;else{const e=t.charCodeAt(0);(56===e||57===e||e>=97&&e<=102)&&(t=`00${t}`)}return Buffer.from(t,"hex")}return function(r,n,i,o,s,a){const c=e(i);return N("RSA PRIVATE",function(e,t,r,n,i,o,s,a){const c=new d.Writer;return c.startSequence(),c.writeInt(0,d.Integer),c.writeBuffer(e,d.Integer),c.writeBuffer(t,d.Integer),c.writeBuffer(r,d.Integer),c.writeBuffer(n,d.Integer),c.writeBuffer(i,d.Integer),c.writeBuffer(o,d.Integer),c.writeBuffer(s,d.Integer),c.writeBuffer(a,d.Integer),c.endSequence(),c.buffer}(r,n,i,s,a,t(c%(e(s)-1n)),t(c%(e(a)-1n)),o))}})();function P(e,t,r,n){const i=new d.Writer;return i.startSequence(),i.startSequence(),i.writeOID("1.2.840.10040.4.1"),i.startSequence(),i.writeBuffer(e,d.Integer),i.writeBuffer(t,d.Integer),i.writeBuffer(r,d.Integer),i.endSequence(),i.endSequence(),i.startSequence(d.BitString),i.writeByte(0),i.writeBuffer(n,d.Integer),i.endSequence(),i.endSequence(),N("PUBLIC",i.buffer)}function x(e,t,r,n){const i=Buffer.allocUnsafe(15+e.length+4+t.length+4+r.length+4+n.length);v(i,7,0),i.utf8Write("ssh-dss",4,7);let o=11;return v(i,e.length,o),i.set(e,o+=4),v(i,t.length,o+=e.length),i.set(t,o+=4),v(i,r.length,o+=t.length),i.set(r,o+=4),v(i,n.length,o+=r.length),i.set(n,o+4),i}function H(e,t,r,n,i){const o=new d.Writer;return o.startSequence(),o.writeInt(0,d.Integer),o.writeBuffer(e,d.Integer),o.writeBuffer(t,d.Integer),o.writeBuffer(r,d.Integer),o.writeBuffer(n,d.Integer),o.writeBuffer(i,d.Integer),o.endSequence(),N("DSA PRIVATE",o.buffer)}function Q(e){const t=new d.Writer;return t.startSequence(),t.startSequence(),t.writeOID("1.3.101.112"),t.endSequence(),t.startSequence(d.BitString),t.writeByte(0),t._ensure(e.length),t._buf.set(e,t._offset),t._offset+=e.length,t.endSequence(),t.endSequence(),N("PUBLIC",t.buffer)}function F(e){const t=Buffer.allocUnsafe(19+e.length);return v(t,11,0),t.utf8Write("ssh-ed25519",4,11),v(t,e.length,15),t.set(e,19),t}function M(e){const t=new d.Writer;return t.startSequence(),t.writeInt(0,d.Integer),t.startSequence(),t.writeOID("1.3.101.112"),t.endSequence(),t.startSequence(d.OctetString),t.writeBuffer(e,d.OctetString),t.endSequence(),t.endSequence(),N("PRIVATE",t.buffer)}function K(e,t){const r=new d.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.10045.2.1"),r.writeOID(e),r.endSequence(),r.startSequence(d.BitString),r.writeByte(0),r._ensure(t.length),r._buf.set(t,r._offset),r._offset+=t.length,r.endSequence(),r.endSequence(),N("PUBLIC",r.buffer)}function W(e,t){let r;switch(e){case"1.2.840.10045.3.1.7":r="nistp256";break;case"1.3.132.0.34":r="nistp384";break;case"1.3.132.0.35":r="nistp521";break;default:return}const n=Buffer.allocUnsafe(39+t.length);return v(n,19,0),n.utf8Write(`ecdsa-sha2-${r}`,4,19),v(n,8,23),n.utf8Write(r,27,8),v(n,t.length,35),n.set(t,39),n}function G(e,t,r){const n=new d.Writer;return n.startSequence(),n.writeInt(1,d.Integer),n.writeBuffer(r,d.OctetString),n.startSequence(160),n.writeOID(e),n.endSequence(),n.startSequence(161),n.startSequence(d.BitString),n.writeByte(0),n._ensure(t.length),n._buf.set(t,n._offset),n._offset+=t.length,n.endSequence(),n.endSequence(),n.endSequence(),N("EC PRIVATE",n.buffer)}const q={sign:"function"==typeof h?function(e,t){const r=this[I];if(null===r)return new Error("No private key available");t&&"string"==typeof t||(t=this[b]);try{return h(t,e,r)}catch(e){return e}}:function(e,t){const r=this[I];if(null===r)return new Error("No private key available");t&&"string"==typeof t||(t=this[b]);const n=a(t);n.update(e);try{return n.sign(r)}catch(e){return e}},verify:"function"==typeof f?function(e,t,r){const n=this[S];if(null===n)return new Error("No public key available");r&&"string"==typeof r||(r=this[b]);try{return f(r,e,n,t)}catch(e){return e}}:function(e,t,r){const n=this[S];if(null===n)return new Error("No public key available");r&&"string"==typeof r||(r=this[b]);const i=c(r);i.update(e);try{return i.verify(n,t)}catch(e){return e}},isPrivateKey:function(){return null!==this[I]},getPrivatePEM:function(){return this[I]},getPublicPEM:function(){return this[S]},getPublicSSH:function(){return this[B]},equals:function(e){const t=ee(e);return!(t instanceof Error)&&this.type===t.type&&this[I]===t[I]&&this[S]===t[S]&&this[B].equals(t[B])}};function j(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[I]=r,this[S]=n,this[B]=i,this[b]=o,this[k]=s}j.prototype=q;{const ie=/^-----BEGIN OPENSSH PRIVATE KEY-----(?:\r\n|\n)([\s\S]+)(?:\r\n|\n)-----END OPENSSH PRIVATE KEY-----$/;function oe(e,t,r){const n=[];if(e.length<8)return new Error("Malformed OpenSSH private key");if(w(e,0)!==w(e,4))return r?new Error("OpenSSH key integrity check failed -- bad passphrase?"):new Error("OpenSSH key integrity check failed");let i,o;for(e._pos=8,i=0;i<t;++i){let t,i,s,a;const c=m(e,e._pos,!0);if(void 0===c)return new Error("Malformed OpenSSH private key");switch(c){case"ssh-rsa":{const r=m(e,e._pos);if(void 0===r)return new Error("Malformed OpenSSH private key");const n=m(e,e._pos);if(void 0===n)return new Error("Malformed OpenSSH private key");const o=m(e,e._pos);if(void 0===o)return new Error("Malformed OpenSSH private key");const c=m(e,e._pos);if(void 0===c)return new Error("Malformed OpenSSH private key");const u=m(e,e._pos);if(void 0===u)return new Error("Malformed OpenSSH private key");const h=m(e,e._pos);if(void 0===h)return new Error("Malformed OpenSSH private key");s=O(r,n),a=L(r,n),i=D(r,n,o,c,u,h),t="sha1";break}case"ssh-dss":{const r=m(e,e._pos);if(void 0===r)return new Error("Malformed OpenSSH private key");const n=m(e,e._pos);if(void 0===n)return new Error("Malformed OpenSSH private key");const o=m(e,e._pos);if(void 0===o)return new Error("Malformed OpenSSH private key");const c=m(e,e._pos);if(void 0===c)return new Error("Malformed OpenSSH private key");const u=m(e,e._pos);if(void 0===u)return new Error("Malformed OpenSSH private key");s=P(r,n,o,c),a=x(r,n,o,c),i=H(r,n,o,c,u),t="sha1";break}case"ssh-ed25519":{if(!_)return new Error(`Unsupported OpenSSH private key type: ${c}`);const r=m(e,e._pos);if(void 0===r||32!==r.length)return new Error("Malformed OpenSSH private key");const n=m(e,e._pos);if(void 0===n||64!==n.length)return new Error("Malformed OpenSSH private key");s=Q(r),a=F(r),i=M(A(n,0,32)),t=null;break}case"ecdsa-sha2-nistp256":t="sha256",o="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===t&&(t="sha384",o="1.3.132.0.34");case"ecdsa-sha2-nistp521":{if(void 0===t&&(t="sha512",o="1.3.132.0.35"),!T(e,1))return new Error("Malformed OpenSSH private key");const r=m(e,e._pos);if(void 0===r)return new Error("Malformed OpenSSH private key");const n=m(e,e._pos);if(void 0===n)return new Error("Malformed OpenSSH private key");s=K(o,r),a=W(o,r),i=G(o,r,n);break}default:return new Error(`Unsupported OpenSSH private key type: ${c}`)}const u=m(e,e._pos,!0);if(void 0===u)return new Error("Malformed OpenSSH private key");n.push(new j(c,u,i,s,a,t,r))}let s=0;for(i=e._pos;i<e.length;++i)if(e[i]!==++s%255)return new Error("Malformed OpenSSH private key");return n}j.parse=(e,t)=>{const r=ie.exec(e);if(null===r)return null;let i;const o=Buffer.from(r[1],"base64");if(o.length<31)return new Error("Malformed OpenSSH private key");const s=o.utf8Slice(0,15);if("openssh-key-v1\0"!==s)return new Error(`Unsupported OpenSSH key magic: ${s}`);const a=m(o,15,!0);if(void 0===a)return new Error("Malformed OpenSSH private key");if("none"!==a&&-1===E.indexOf(a))return new Error(`Unsupported cipher for OpenSSH key: ${a}`);const c=m(o,o._pos,!0);if(void 0===c)return new Error("Malformed OpenSSH private key");if("none"!==c){if("none"===a)return new Error("Malformed OpenSSH private key");if("bcrypt"!==c)return new Error(`Unsupported kdf name for OpenSSH key: ${c}`);if(!t)return new Error("Encrypted private OpenSSH key detected, but no passphrase given")}else if("none"!==a)return new Error("Malformed OpenSSH private key");let u,h,f;"none"!==a&&(u=g[a]);const l=m(o,o._pos);if(void 0===l)return new Error("Malformed OpenSSH private key");if(l.length)switch(c){case"none":return new Error("Malformed OpenSSH private key");case"bcrypt":{const e=m(l,0);if(void 0===e||l._pos+4>l.length)return new Error("Malformed OpenSSH private key");const r=w(l,l._pos),n=Buffer.allocUnsafe(u.keyLen+u.ivLen);if(0!==p(t,t.length,e,e.length,n,n.length,r))return new Error("Failed to generate information to decrypt key");h=A(n,0,u.keyLen),f=A(n,u.keyLen,n.length);break}}else if("none"!==c)return new Error("Malformed OpenSSH private key");if(o._pos+3>=o.length)return new Error("Malformed OpenSSH private key");const d=w(o,o._pos);if(o._pos+=4,d>0){for(let e=0;e<d;++e){const e=m(o,o._pos);if(void 0===e)return new Error("Malformed OpenSSH private key");if(void 0===m(e,0,!0))return new Error("Malformed OpenSSH private key")}let e=m(o,o._pos);if(void 0===e)return new Error("Malformed OpenSSH private key");if(void 0!==h){if(e.length<u.blockLen||e.length%u.blockLen!==0)return new Error("Malformed OpenSSH private key");try{const t={authTagLength:u.authLen},r=n(u.sslName,h,f,t);if(r.setAutoPadding(!1),u.authLen>0){if(o.length-o._pos<u.authLen)return new Error("Malformed OpenSSH private key");r.setAuthTag(A(o,o._pos,o._pos+=u.authLen))}e=U(r.update(e),r.final())}catch(e){return e}}if(o._pos!==o.length)return new Error("Malformed OpenSSH private key");i=oe(e,d,void 0!==h)}else i=[];return i instanceof Error?i:i[0]}}function $(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[I]=r,this[S]=n,this[B]=i,this[b]=o,this[k]=s}$.prototype=q;{const se=/^-----BEGIN (RSA|DSA|EC) PRIVATE KEY-----(?:\r\n|\n)((?:[^:]+:\s*[\S].*(?:\r\n|\n))*)([\s\S]+)(?:\r\n|\n)-----END (RSA|DSA|EC) PRIVATE KEY-----$/;$.parse=(e,t)=>{const r=se.exec(e);if(null===r)return null;let s,a,c,u,h,f,p=Buffer.from(r[3],"base64"),g=r[2],_=!1;if(void 0!==g){g=g.split(/\r\n|\n/g);for(let e=0;e<g.length;++e){const r=g[e];let i=r.indexOf(":");if("DEK-Info"===r.slice(0,i)){const e=r.slice(i+2);if(i=e.indexOf(","),-1===i)continue;const s=e.slice(0,i).toLowerCase();if(-1===l.indexOf(s))return new Error(`Cipher (${s}) not supported for encrypted OpenSSH private key`);const a=C[s];if(!a)return new Error(`Cipher (${s}) not supported for encrypted OpenSSH private key`);const c=Buffer.from(e.slice(i+1),"hex");if(c.length!==a.ivLen)return new Error("Malformed encrypted OpenSSH private key");if(!t)return new Error("Encrypted OpenSSH private key detected, but no passphrase given");const u=A(c,0,8);let h=o("md5").update(t).update(u).digest();for(;h.length<a.keyLen;)h=U(h,o("md5").update(h).update(t).update(u).digest());h.length>a.keyLen&&(h=A(h,0,a.keyLen));try{const e=n(s,h,c);e.setAutoPadding(!1),p=U(e.update(p),e.final()),_=!0}catch(e){return e}}}}let E="Malformed OpenSSH private key";switch(_&&(E+=". Bad passphrase?"),r[1]){case"RSA":s="ssh-rsa",a=N("RSA PRIVATE",p);try{f=new d.Reader(p),f.readSequence(),f.readInt();const e=f.readString(d.Integer,!0);if(null===e)return new Error(E);const t=f.readString(d.Integer,!0);if(null===t)return new Error(E);c=O(e,t),u=L(e,t)}catch{return new Error(E)}h="sha1";break;case"DSA":s="ssh-dss",a=N("DSA PRIVATE",p);try{f=new d.Reader(p),f.readSequence(),f.readInt();const e=f.readString(d.Integer,!0);if(null===e)return new Error(E);const t=f.readString(d.Integer,!0);if(null===t)return new Error(E);const r=f.readString(d.Integer,!0);if(null===r)return new Error(E);const n=f.readString(d.Integer,!0);if(null===n)return new Error(E);c=P(e,t,r,n),u=x(e,t,r,n)}catch{return new Error(E)}h="sha1";break;case"EC":{let e,t,r;try{f=new d.Reader(p),f.readSequence(),f.readInt(),t=f.readString(d.OctetString,!0),f.readByte();const n=f.readLength();if(null===n)return new Error(E);if(f._offset=n,r=f.readOID(),null===r)return new Error(E);switch(r){case"1.2.840.10045.3.1.7":e="prime256v1",s="ecdsa-sha2-nistp256",h="sha256";break;case"1.3.132.0.34":e="secp384r1",s="ecdsa-sha2-nistp384",h="sha384";break;case"1.3.132.0.35":e="secp521r1",s="ecdsa-sha2-nistp521",h="sha512";break;default:return new Error(`Unsupported private key EC OID: ${r}`)}}catch{return new Error(E)}a=N("EC PRIVATE",p);const n=function(e,t){const r=i(e);return r.setPrivateKey(t),r.getPublicKey()}(e,t);c=K(r,n),u=W(r,n);break}}return new $(s,"",a,c,u,h,_)}}function Y(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[I]=r,this[S]=n,this[B]=i,this[b]=o,this[k]=s}Y.prototype=q;{const ae=Buffer.alloc(0),ce=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ue=Buffer.from([0,0,0,0]),he=Buffer.from([0,0,0,1]),fe=/^PuTTY-User-Key-File-2: (ssh-(?:rsa|dss))\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/;Y.parse=(e,t)=>{const r=fe.exec(e);if(null===r)return null;const i=r[2],a="none"!==i;if(a&&!t)return new Error("Encrypted PPK private key detected, but no passphrase given");let c=Buffer.from(r[5],"base64");if(a){const e=g[i];let r=U(o("sha1").update(ue).update(t).digest(),o("sha1").update(he).update(t).digest());r.length>e.keyLen&&(r=A(r,0,e.keyLen));try{const t=n(e.sslName,r,ce);t.setAutoPadding(!1),c=U(t.update(c),t.final())}catch(e){return e}}const u=r[1],h=r[3],f=Buffer.from(r[4],"base64"),l=r[6],d=u.length,p=i.length,_=Buffer.byteLength(h),E=f.length,y=c.length,w=Buffer.allocUnsafe(4+d+4+p+4+_+4+E+4+y);let b,I,S,B=0;if(v(w,d,B),w.utf8Write(u,B+=4,d),v(w,p,B+=d),w.utf8Write(i,B+=4,p),v(w,_,B+=p),w.utf8Write(h,B+=4,_),v(w,E,B+=_),w.set(f,B+=4),v(w,y,B+=E),w.set(c,B+4),t||(t=ae),s("sha1",o("sha1").update("putty-private-key-file-mac-key").update(t).digest()).update(w).digest("hex")!==l)return a?new Error("PPK private key integrity check failed -- bad passphrase?"):new Error("PPK private key integrity check failed");switch(f._pos=0,T(f,1),u){case"ssh-rsa":{const e=m(f,f._pos);if(void 0===e)return new Error("Malformed PPK public key");const t=m(f,f._pos);if(void 0===t)return new Error("Malformed PPK public key");const r=m(c,0);if(void 0===r)return new Error("Malformed PPK private key");const n=m(c,c._pos);if(void 0===n)return new Error("Malformed PPK private key");const i=m(c,c._pos);if(void 0===i)return new Error("Malformed PPK private key");const o=m(c,c._pos);if(void 0===o)return new Error("Malformed PPK private key");b=O(t,e),I=L(t,e),S=D(t,e,r,o,n,i);break}case"ssh-dss":{const e=m(f,f._pos);if(void 0===e)return new Error("Malformed PPK public key");const t=m(f,f._pos);if(void 0===t)return new Error("Malformed PPK public key");const r=m(f,f._pos);if(void 0===r)return new Error("Malformed PPK public key");const n=m(f,f._pos);if(void 0===n)return new Error("Malformed PPK public key");const i=m(c,0);if(void 0===i)return new Error("Malformed PPK private key");b=P(e,t,r,n),I=x(e,t,r,n),S=H(e,t,r,n,i);break}}return new Y(u,h,S,b,I,"sha1",a)}}function X(e,t,r,n,i){this.type=e,this.comment=t,this[I]=null,this[S]=r,this[B]=n,this[b]=i,this[k]=!1}X.prototype=q;{let le;le=_?/^(((?:ssh-(?:rsa|dss|ed25519))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z/+=]+)(?:$|\s+([\S].*)?)$/:/^(((?:ssh-(?:rsa|dss))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z/+=]+)(?:$|\s+([\S].*)?)$/,X.parse=e=>{const t=le.exec(e);if(null===t)return null;const r=t[1],n=t[2],i=Buffer.from(t[3],"base64"),o=t[4]||"",s=m(i,i._pos,!0);return void 0===s||0!==s.indexOf(n)?new Error("Malformed OpenSSH public key"):V(i,n,o,r)}}function z(e,t,r,n,i){this.type=e,this.comment=t,this[I]=null,this[S]=r,this[B]=n,this[b]=i,this[k]=!1}z.prototype=q;{const de=/^---- BEGIN SSH2 PUBLIC KEY ----(?:\r?\n)((?:.{0,72}\r?\n)+)---- END SSH2 PUBLIC KEY ----$/,pe=/^[A-Z0-9a-z/+=\r\n]+$/,ge=/^([\x21-\x39\x3B-\x7E]{1,64}): ((?:[^\\]*\\\r?\n)*[^\r\n]+)\r?\n/gm,_e=/\\\r?\n/g;z.parse=e=>{let t=de.exec(e);if(null===t)return null;const r=t[1];let n=0,i="";for(;t=ge.exec(r);){const e=t[1],r=t[2].replace(_e,"");if(r.length>1024)return ge.lastIndex=0,new Error("Malformed RFC4716 public key");n=ge.lastIndex,"comment"===e.toLowerCase()&&(i=r,i.length>1&&34===i.charCodeAt(0)&&34===i.charCodeAt(i.length-1)&&(i=i.slice(1,-1)))}let o=r.slice(n);if(!pe.test(o))return new Error("Malformed RFC4716 public key");o=Buffer.from(o,"base64");const s=m(o,0,!0);if(void 0===s)return new Error("Malformed RFC4716 public key");let a=null,c=null;switch(s){case"ssh-rsa":{const e=m(o,o._pos);if(void 0===e)return new Error("Malformed RFC4716 public key");const t=m(o,o._pos);if(void 0===t)return new Error("Malformed RFC4716 public key");a=O(t,e),c=L(t,e);break}case"ssh-dss":{const e=m(o,o._pos);if(void 0===e)return new Error("Malformed RFC4716 public key");const t=m(o,o._pos);if(void 0===t)return new Error("Malformed RFC4716 public key");const r=m(o,o._pos);if(void 0===r)return new Error("Malformed RFC4716 public key");const n=m(o,o._pos);if(void 0===n)return new Error("Malformed RFC4716 public key");a=P(e,t,r,n),c=x(e,t,r,n);break}default:return new Error("Malformed RFC4716 public key")}return new z(s,i,a,c,"sha1")}}function V(e,t,r,n){if(!J(t))return new Error(`Unsupported OpenSSH public key type: ${t}`);let i,o,s=null,a=null;switch(t){case"ssh-rsa":{const t=m(e,e._pos||0);if(void 0===t)return new Error("Malformed OpenSSH public key");const r=m(e,e._pos);if(void 0===r)return new Error("Malformed OpenSSH public key");s=O(r,t),a=L(r,t),i="sha1";break}case"ssh-dss":{const t=m(e,e._pos||0);if(void 0===t)return new Error("Malformed OpenSSH public key");const r=m(e,e._pos);if(void 0===r)return new Error("Malformed OpenSSH public key");const n=m(e,e._pos);if(void 0===n)return new Error("Malformed OpenSSH public key");const o=m(e,e._pos);if(void 0===o)return new Error("Malformed OpenSSH public key");s=P(t,r,n,o),a=x(t,r,n,o),i="sha1";break}case"ssh-ed25519":{const t=m(e,e._pos||0);if(void 0===t||32!==t.length)return new Error("Malformed OpenSSH public key");s=Q(t),a=F(t),i=null;break}case"ecdsa-sha2-nistp256":i="sha256",o="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===i&&(i="sha384",o="1.3.132.0.34");case"ecdsa-sha2-nistp521":{if(void 0===i&&(i="sha512",o="1.3.132.0.35"),!T(e,1))return new Error("Malformed OpenSSH public key");const t=m(e,e._pos||0);if(void 0===t)return new Error("Malformed OpenSSH public key");s=K(o,t),a=W(o,t);break}default:return new Error(`Unsupported OpenSSH public key type: ${t}`)}return new X(n,r,s,a,i)}function J(e){switch(e){case"ssh-rsa":case"ssh-dss":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return!0;case"ssh-ed25519":if(_)return!0;default:return!1}}function Z(e){return!!e&&"boolean"==typeof e[k]}function ee(e,t){if(Z(e))return e;let r,n;if(Buffer.isBuffer(e))r=e,e=e.utf8Slice(0,e.length).trim();else{if("string"!=typeof e)return new Error("Key data must be a Buffer or string");e=e.trim()}if(null!=t)if("string"==typeof t)t=Buffer.from(t);else if(!Buffer.isBuffer(t))return new Error("Passphrase must be a string or Buffer when supplied");if(null!==(n=j.parse(e,t)))return n;if(null!==(n=$.parse(e,t)))return n;if(null!==(n=Y.parse(e,t)))return n;if(null!==(n=X.parse(e)))return n;if(null!==(n=z.parse(e)))return n;if(r){R.init(r,0);const t=R.readString(!0);void 0!==t&&void 0!==(e=R.readRaw())&&(n=V(e,t,"",t),n instanceof Error&&(n=null)),R.clear()}return n||new Error("Unsupported key format")}e.exports={isParsedKey:Z,isSupportedKeyType:J,parseDERKey:(e,t)=>V(e,t,"",t),parseKey:ee}},9023:e=>{"use strict";e.exports=require("util")},9066:(e,t,r)=>{"use strict";const n=r(2581).fromPromise,i=r(9570),o=r(6928),s=r(2865),a=r(9757),c=n(async function(e){let t;try{t=await i.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map(t=>a.remove(o.join(e,t))))});function u(e){let t;try{t=i.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},9140:e=>{"use strict";e.exports=require("constants")},9149:(e,t,r)=>{var n=r(4503);e.exports={Ber:n,BerReader:n.Reader,BerWriter:n.Writer}},9257:(e,t,r)=>{"use strict";const{Agent:n}=r(8611),{Agent:i}=r(5692),{connect:o}=r(4756);let s;for(const e of[n,i]){class i extends e{constructor(e,t){super(t),this._connectCfg=e,this._defaultSrcIP=t&&t.srcIP||"localhost"}createConnection(t,n){const i=t&&t.localAddress||this._defaultSrcIP,o=t&&t.localPort||0,a=t.host,u=t.port;void 0===s&&(s=r(5257));const h=new s;let f=!1;h.on("ready",()=>{h.forwardOut(i,o,a,u,(r,i)=>{if(f=!0,r)return h.end(),n(r);i.once("close",()=>h.end()),n(null,c(i,e,t))})}).on("error",n).on("close",()=>{f||n(new Error("Unexpected connection close"))}).connect(this._connectCfg)}}t[e===n?"SSHTTPAgent":"SSHTTPSAgent"]=i}function a(){}function c(e,t,r){if(t===n)return e.setKeepAlive=a,e.setNoDelay=a,e.setTimeout=a,e.ref=a,e.unref=a,e.destroySoon=e.destroy,e;r.socket=e;const i=o(r),s=(()=>{let t=!1;return()=>{t||(t=!0,e.isPaused()&&e.resume())}})();return i.on("end",s).on("close",s),i}},9278:e=>{"use strict";e.exports=require("net")},9460:(e,t,r)=>{var n=r(9023).inherits,i=r(4434).EventEmitter;function o(e){var t=this;i.call(this),this._stream=e,e.on("error",function(e){t.emit("error",e)}).on("end",function(){t.emit("end")}).on("close",function(){t.emit("close")}).on("continue",function(){t.emit("continue")})}n(o,i),o.prototype.end=function(){return this._stream.end()},o.prototype.createReadStream=function(e,t){return this._stream.createReadStream(e,t)},o.prototype.createWriteStream=function(e,t){return this._stream.createWriteStream(e,t)},o.prototype.open=function(e,t,r,n){return this._stream.open(e,t,r,n)},o.prototype.close=function(e,t){return this._stream.close(e,t)},o.prototype.read=function(e,t,r,n,i,o){return this._stream.readData(e,t,r,n,i,o)},o.prototype.write=function(e,t,r,n,i,o){return this._stream.writeData(e,t,r,n,i,o)},o.prototype.fastGet=function(e,t,r,n){return this._stream.fastGet(e,t,r,n)},o.prototype.fastPut=function(e,t,r,n){return this._stream.fastPut(e,t,r,n)},o.prototype.readFile=function(e,t,r){return this._stream.readFile(e,t,r)},o.prototype.writeFile=function(e,t,r,n){return this._stream.writeFile(e,t,r,n)},o.prototype.appendFile=function(e,t,r,n){return this._stream.appendFile(e,t,r,n)},o.prototype.exists=function(e,t){return this._stream.exists(e,t)},o.prototype.unlink=function(e,t){return this._stream.unlink(e,t)},o.prototype.rename=function(e,t,r){return this._stream.rename(e,t,r)},o.prototype.mkdir=function(e,t,r){return this._stream.mkdir(e,t,r)},o.prototype.rmdir=function(e,t){return this._stream.rmdir(e,t)},o.prototype.readdir=function(e,t,r){return this._stream.readdir(e,t,r)},o.prototype.fstat=function(e,t){return this._stream.fstat(e,t)},o.prototype.stat=function(e,t){return this._stream.stat(e,t)},o.prototype.lstat=function(e,t){return this._stream.lstat(e,t)},o.prototype.opendir=function(e,t){return this._stream.opendir(e,t)},o.prototype.setstat=function(e,t,r){return this._stream.setstat(e,t,r)},o.prototype.fsetstat=function(e,t,r){return this._stream.fsetstat(e,t,r)},o.prototype.futimes=function(e,t,r,n){return this._stream.futimes(e,t,r,n)},o.prototype.utimes=function(e,t,r,n){return this._stream.utimes(e,t,r,n)},o.prototype.fchown=function(e,t,r,n){return this._stream.fchown(e,t,r,n)},o.prototype.chown=function(e,t,r,n){return this._stream.chown(e,t,r,n)},o.prototype.fchmod=function(e,t,r){return this._stream.fchmod(e,t,r)},o.prototype.chmod=function(e,t,r){return this._stream.chmod(e,t,r)},o.prototype.readlink=function(e,t){return this._stream.readlink(e,t)},o.prototype.symlink=function(e,t,r){return this._stream.symlink(e,t,r)},o.prototype.realpath=function(e,t){return this._stream.realpath(e,t)},o.prototype.ext_openssh_rename=function(e,t,r){return this._stream.ext_openssh_rename(e,t,r)},o.prototype.ext_openssh_statvfs=function(e,t){return this._stream.ext_openssh_statvfs(e,t)},o.prototype.ext_openssh_fstatvfs=function(e,t){return this._stream.ext_openssh_fstatvfs(e,t)},o.prototype.ext_openssh_hardlink=function(e,t,r){return this._stream.ext_openssh_hardlink(e,t,r)},o.prototype.ext_openssh_fsync=function(e,t){return this._stream.ext_openssh_fsync(e,t)},e.exports=o},9537:(e,t,r)=>{"use strict";const{createCipheriv:n,generateKeyPair:i,generateKeyPairSync:o,getCurves:s,randomBytes:a}=r(6982),{Ber:c}=r(9149),u=r(6462).pbkdf,{CIPHER_INFO:h}=r(4632),f=s(),l=new Map(Object.entries(h));function d(e,t){if("string"!=typeof e)throw new TypeError("Key type must be a string");const r={type:"spki",format:"der"},n={type:"pkcs8",format:"der"};switch(e.toLowerCase()){case"rsa":{if("object"!=typeof t||null===t)throw new TypeError("Missing options object for RSA key");const e=t.bits;if(!Number.isInteger(e))throw new TypeError("RSA bits must be an integer");if(e<=0||e>16384)throw new RangeError("RSA bits must be non-zero and <= 16384");return["rsa",{modulusLength:e,publicKeyEncoding:r,privateKeyEncoding:n}]}case"ecdsa":{if("object"!=typeof t||null===t)throw new TypeError("Missing options object for ECDSA key");if(!Number.isInteger(t.bits))throw new TypeError("ECDSA bits must be an integer");let e;switch(t.bits){case 256:e="prime256v1";break;case 384:e="secp384r1";break;case 521:e="secp521r1";break;default:throw new Error("ECDSA bits must be 256, 384, or 521")}if(!f.includes(e))throw new Error("Unsupported ECDSA bits value");return["ec",{namedCurve:e,publicKeyEncoding:r,privateKeyEncoding:n}]}case"ed25519":return["ed25519",{publicKeyEncoding:r,privateKeyEncoding:n}];default:throw new Error(`Unsupported key type: ${e}`)}}function p(e,t,r,i){let o,s="new",h="";if("object"==typeof i&&null!==i&&("string"==typeof i.comment&&i.comment&&(h=i.comment),"string"==typeof i.format&&i.format&&(s=i.format),i.passphrase)){let e;if("string"==typeof i.passphrase)e=Buffer.from(i.passphrase);else{if(!Buffer.isBuffer(i.passphrase))throw new Error("Invalid passphrase");e=i.passphrase}if(void 0===i.cipher)throw new Error("Missing cipher name");const t=l.get(i.cipher);if(void 0===t)throw new Error("Invalid cipher name");if("new"===s){let r=16;if(void 0!==i.rounds){if(!Number.isInteger(i.rounds))throw new TypeError("rounds must be an integer");i.rounds>0&&(r=i.rounds)}const n=Buffer.allocUnsafe(t.keyLen+t.ivLen),s=a(16);if(0!==u(e,e.length,s,s.length,n,n.length,r))return new Error("Failed to generate information to encrypt key");const c=Buffer.allocUnsafe(4+s.length+4);{let e=0;c.writeUInt32BE(s.length,e+=0),c.set(s,e+=4),c.writeUInt32BE(r,e+=s.length)}o={cipher:t,cipherName:i.cipher,kdfName:"bcrypt",kdfOptions:c,key:n.slice(0,t.keyLen),iv:n.slice(t.keyLen)}}}if("new"===s){let i,s="-----BEGIN OPENSSH PRIVATE KEY-----\n";const u=Buffer.from(o?o.cipherName:"none"),f=Buffer.from(o?o.kdfName:"none"),l=o?o.kdfOptions:Buffer.alloc(0),d=o?o.cipher.blockLen:8,p=function(e,t,r){switch(e){case"rsa":{let e=new c.Reader(r);if(e.readSequence(),0!==e.readInt())throw new Error("Unsupported version in RSA private key");if(e.readSequence(),"1.2.840.113549.1.1.1"!==e.readOID())throw new Error("Bad RSA private OID");if(e.readByte()!==c.Null)throw new Error("Malformed RSA private key (expected null)");if(0!==e.readByte())throw new Error("Malformed RSA private key (expected zero-length null)");if(e=new c.Reader(e.readString(c.OctetString,!0)),e.readSequence(),0!==e.readInt())throw new Error("Unsupported version in RSA private key");const t=e.readString(c.Integer,!0),n=e.readString(c.Integer,!0),i=e.readString(c.Integer,!0),o=e.readString(c.Integer,!0),s=e.readString(c.Integer,!0);e.readString(c.Integer,!0),e.readString(c.Integer,!0);const a=e.readString(c.Integer,!0),u=Buffer.from("ssh-rsa"),h=Buffer.allocUnsafe(4+u.length+4+t.length+4+n.length+4+i.length+4+a.length+4+o.length+4+s.length);let f=0;h.writeUInt32BE(u.length,f+=0),h.set(u,f+=4),h.writeUInt32BE(t.length,f+=u.length),h.set(t,f+=4),h.writeUInt32BE(n.length,f+=t.length),h.set(n,f+=4),h.writeUInt32BE(i.length,f+=n.length),h.set(i,f+=4),h.writeUInt32BE(a.length,f+=i.length),h.set(a,f+=4),h.writeUInt32BE(o.length,f+=a.length),h.set(o,f+=4),h.writeUInt32BE(s.length,f+=o.length),h.set(s,f+=4);const l=Buffer.allocUnsafe(4+u.length+4+n.length+4+t.length);return f=0,l.writeUInt32BE(u.length,f+=0),l.set(u,f+=4),l.writeUInt32BE(n.length,f+=u.length),l.set(n,f+=4),l.writeUInt32BE(t.length,f+=n.length),l.set(t,f+=4),{sshName:u.toString(),priv:h,pub:l}}case"ec":{let e=new c.Reader(t);if(e.readSequence(),e.readSequence(),"1.2.840.10045.2.1"!==e.readOID())throw new Error("Bad ECDSA public OID");e.readOID();let n,i=e.readString(c.BitString,!0);{let e=0;for(;e<i.length&&0===i[e];++e);e>0&&(i=i.slice(e))}if(e=new c.Reader(r),e.readSequence(),0!==e.readInt())throw new Error("Unsupported version in ECDSA private key");if(e.readSequence(),"1.2.840.10045.2.1"!==e.readOID())throw new Error("Bad ECDSA private OID");switch(e.readOID()){case"1.2.840.10045.3.1.7":n="nistp256";break;case"1.3.132.0.34":n="nistp384";break;case"1.3.132.0.35":n="nistp521";break;default:throw new Error("Unsupported curve in ECDSA private key")}if(e=new c.Reader(e.readString(c.OctetString,!0)),e.readSequence(),1!==e.readInt())throw new Error("Unsupported version in ECDSA private key");const o=Buffer.concat([Buffer.from([0]),e.readString(c.OctetString,!0)]),s=Buffer.from(`ecdsa-sha2-${n}`);n=Buffer.from(n);const a=Buffer.allocUnsafe(4+s.length+4+n.length+4+i.length+4+o.length);let u=0;a.writeUInt32BE(s.length,u+=0),a.set(s,u+=4),a.writeUInt32BE(n.length,u+=s.length),a.set(n,u+=4),a.writeUInt32BE(i.length,u+=n.length),a.set(i,u+=4),a.writeUInt32BE(o.length,u+=i.length),a.set(o,u+=4);const h=Buffer.allocUnsafe(4+s.length+4+n.length+4+i.length);return u=0,h.writeUInt32BE(s.length,u+=0),h.set(s,u+=4),h.writeUInt32BE(n.length,u+=s.length),h.set(n,u+=4),h.writeUInt32BE(i.length,u+=n.length),h.set(i,u+=4),{sshName:s.toString(),priv:a,pub:h}}case"ed25519":{let e=new c.Reader(t);if(e.readSequence(),e.readSequence(),"1.3.101.112"!==e.readOID())throw new Error("Bad ED25519 public OID");let n=e.readString(c.BitString,!0);{let e=0;for(;e<n.length&&0===n[e];++e);e>0&&(n=n.slice(e))}if(e=new c.Reader(r),e.readSequence(),0!==e.readInt())throw new Error("Unsupported version in ED25519 private key");if(e.readSequence(),"1.3.101.112"!==e.readOID())throw new Error("Bad ED25519 private OID");e=new c.Reader(e.readString(c.OctetString,!0));const i=e.readString(c.OctetString,!0),o=Buffer.from("ssh-ed25519"),s=Buffer.allocUnsafe(4+o.length+4+n.length+4+(i.length+n.length));let a=0;s.writeUInt32BE(o.length,a+=0),s.set(o,a+=4),s.writeUInt32BE(n.length,a+=o.length),s.set(n,a+=4),s.writeUInt32BE(i.length+n.length,a+=n.length),s.set(i,a+=4),s.set(n,a+=i.length);const u=Buffer.allocUnsafe(4+o.length+4+n.length);return a=0,u.writeUInt32BE(o.length,a+=0),u.set(o,a+=4),u.writeUInt32BE(n.length,a+=o.length),u.set(n,a+=4),{sshName:o.toString(),priv:s,pub:u}}}}(e,t,r),g=a(4),_=Buffer.from(h),E=8+p.priv.length+4+_.length;let A=[];for(let e=1;(E+A.length)%d;++e)A.push(255&e);A=Buffer.from(A);let y,m=Buffer.allocUnsafe(E+A.length);{let e=0;m.set(g,e+=0),m.set(g,e+=4),m.set(p.priv,e+=4),m.writeUInt32BE(_.length,e+=p.priv.length),m.set(_,e+=4),m.set(A,e+=_.length)}if(o){const e={authTagLength:o.cipher.authLen},t=n(o.cipher.sslName,o.key,o.iv,e);t.setAutoPadding(!1),m=Buffer.concat([t.update(m),t.final()]),y=o.cipher.authLen>0?t.getAuthTag():Buffer.alloc(0),o.key.fill(0),o.iv.fill(0)}else y=Buffer.alloc(0);const w=Buffer.from("openssh-key-v1\0"),v=Buffer.allocUnsafe(w.length+4+u.length+4+f.length+4+l.length+4+4+p.pub.length+4+m.length+y.length);{let e=0;v.set(w,e+=0),v.writeUInt32BE(u.length,e+=w.length),v.set(u,e+=4),v.writeUInt32BE(f.length,e+=u.length),v.set(f,e+=4),v.writeUInt32BE(l.length,e+=f.length),v.set(l,e+=4),v.writeUInt32BE(1,e+=l.length),v.writeUInt32BE(p.pub.length,e+=4),v.set(p.pub,e+=4),v.writeUInt32BE(m.length,e+=p.pub.length),v.set(m,e+=4),v.set(y,e+=m.length)}{const e=v.base64Slice(0,v.length);let t=e.replace(/.{64}/g,"$&\n");63&e.length&&(t+="\n"),s+=t}{const e=p.pub.base64Slice(0,p.pub.length);i=`${p.sshName} ${e}${h?` ${h}`:""}`}return s+="-----END OPENSSH PRIVATE KEY-----\n",{private:s,public:i}}throw new Error("Invalid output key format")}function g(){}e.exports={generateKeyPair:(e,t,r)=>{"function"==typeof t&&(r=t,t=void 0),"function"!=typeof r&&(r=g);const n=d(e,t);i(...n,(e,i,o)=>{if(e)return r(e);let s;try{s=p(n[0],i,o,t)}catch(e){return r(e)}r(null,s)})},generateKeyPairSync:(e,t)=>{const r=d(e,t),{publicKey:n,privateKey:i}=o(...r);return p(r[0],n,i,t)}}},9570:(e,t,r)=>{"use strict";const n=r(2581).fromCallback,i=r(3200),o=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof i[e]);Object.assign(t,i),o.forEach(e=>{t[e]=n(i[e])}),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise(t=>i.exists(e,t))},t.read=function(e,t,r,n,o,s){return"function"==typeof s?i.read(e,t,r,n,o,s):new Promise((s,a)=>{i.read(e,t,r,n,o,(e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})})})},t.write=function(e,t,...r){return"function"==typeof r[r.length-1]?i.write(e,t,...r):new Promise((n,o)=>{i.write(e,t,...r,(e,t,r)=>{if(e)return o(e);n({bytesWritten:t,buffer:r})})})},t.readv=function(e,t,...r){return"function"==typeof r[r.length-1]?i.readv(e,t,...r):new Promise((n,o)=>{i.readv(e,t,...r,(e,t,r)=>{if(e)return o(e);n({bytesRead:t,buffers:r})})})},t.writev=function(e,t,...r){return"function"==typeof r[r.length-1]?i.writev(e,t,...r):new Promise((n,o)=>{i.writev(e,t,...r,(e,t,r)=>{if(e)return o(e);n({bytesWritten:t,buffers:r})})})},"function"==typeof i.realpath.native?t.realpath.native=n(i.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},9757:(e,t,r)=>{"use strict";const n=r(3200),i=r(2581).fromCallback;e.exports={remove:i(function(e,t){n.rm(e,{recursive:!0,force:!0},t)}),removeSync:function(e){n.rmSync(e,{recursive:!0,force:!0})}}},9801:(e,t,r)=>{"use strict";const{stringify:n}=r(3689),{outputFile:i}=r(2205);e.exports=async function(e,t,r={}){const o=n(t,r);await i(e,o,r)}},9896:e=>{"use strict";e.exports=require("fs")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.c=t,r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n=r(r.s=6776),i=exports;for(var o in n)i[o]=n[o];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();